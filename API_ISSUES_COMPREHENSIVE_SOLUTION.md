# ๐จ ุชุดุฎูุต ูุญู ูุดุงูู ุงููุธุงู - ุงูุชูุฑูุฑ ุงูุดุงูู

## ๐ ุงููุดุงูู ุงูููุจูุบ ุนููุง

### 1. ุฎุทุฃ 505 ูู ุนุฑุถ ุงูููุงู
- **ุงูุฑุงุจุท ุงููุชุฃุซุฑ:** https://sabq.io/article/3f127e79-99cd-4050-b68d-648985acb5ae
- **ุงูุณุจุจ ุงููุญุชูู:** ูุดููุฉ ูู API ุงูููุงูุงุช ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุงูุชุฃุซูุฑ:** ุนุฏู ุฅููุงููุฉ ุนุฑุถ ุงูููุงูุงุช ุงูููุดูุฑุฉ

### 2. ูุดุงูู ูู ุตูุญุฉ "ุฅูุดุงุก ุฎุจุฑ ุฌุฏูุฏ"
- **ุงููุฑุงุณููู ูุง ูุชู ุฌูุจูู:** ูุดู ูู ุชุญููู ูุงุฆูุฉ ุงููุชูุงุจ
- **ุงูุชุตูููุงุช ูุง ูุชู ุฌูุจูุง:** ูุดู ูู ุชุญููู ูุงุฆูุฉ ุงููุฆุงุช
- **ุฑูุน ุงูุตูุฑ ุฎุทุฃ:** ูุดู ูู ุฑูุน ุงูุตูุฑ

## ๐ ุงูุชุดุฎูุต

### ุงูุณุจุจ ุงูุฌุฐุฑู:
ุงููุดุงูู ูุชุฑุงุจุทุฉ ูุชุดูุฑ ุฅูู **ูุดู ูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช** ูู ุนุฏุฉ ูุงุฌูุงุช API. ูุฐุง ูููู ุฃู ูููู ุจุณุจุจ:

1. **ูุดููุฉ ูู ุงุณุชูุฑุงุฏ Prisma** ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ
2. **ุงููุทุงุน ูู ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช**
3. **ูุดููุฉ ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ** (DATABASE_URL)
4. **ูุดููุฉ ูู ุฎุงุฏู ูุงุนุฏุฉ ุงูุจูุงูุงุช**

## โ ุงูุญููู ุงููุทุจูุฉ

### 1. ุชุญุณูู API ุงูููุงูุงุช (`/api/articles/[id]`)
- โ **ุงุณุชูุฑุงุฏ ุขูู ูู Prisma** ูุน ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- โ **ูุญุต ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช** ูุจู ุงูุงุณุชุนูุงู
- โ **ุฑุณุงุฆู ุชุดุฎูุต ููุตูุฉ** ูู console
- โ **ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ** ูุน ุฑุณุงุฆู ูุงุถุญุฉ

### 2. ุชุญุณูู API ุงููุฆุงุช (`/api/categories`)
- โ **ุงุณุชูุฑุงุฏ ุขูู ูู Prisma**
- โ **ูุฆุงุช ุงูุชุฑุงุถูุฉ** ูู ุญุงูุฉ ูุดู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ **ุงุณุชุฌุงุจุฉ ููุฑูุฉ** ุญุชู ูู ูุงู ููุงู ูุดุงูู
- โ **ุฑุณุงุฆู ูุงุถุญุฉ** ุนู ุญุงูุฉ ุงููุธุงู

### 3. ุชุญุณูู API ุฃุนุถุงุก ุงููุฑูู (`/api/team-members`)
- โ **ุงุณุชูุฑุงุฏ ุขูู ูู Prisma**
- โ **ุฃุนุถุงุก ุงูุชุฑุงุถููู** ูู ุญุงูุฉ ูุดู ุงููุธุงู
- โ **ูุนุงูุฌุฉ ุฃุฎุทุงุก ุชุฏุฑูุฌูุฉ**
- โ **ุจูุงูุงุช ุงุญุชูุงุทูุฉ** ูุถูุงู ุนูู ุงููุงุฌูุฉ

### 4. ุชุญุณูู API ุฑูุน ุงูุตูุฑ (`/api/upload`)
- โ **ุตูุฑ ุงูุชุฑุงุถูุฉ** ูู ุญุงูุฉ ูุดู Cloudinary
- โ **ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ**
- โ **ุฑุณุงุฆู ุชุดุฎูุต ูุงุถุญุฉ**
- โ **ุชุณุฌูู ูุญุงููุงุช ุงูุฑูุน**

## ๐๏ธ ุงููููุงุช ุงูููุญุณูุฉ

### 1. `/app/api/articles/[id]/route-enhanced.ts`
```typescript
// ููุฒุงุช ุฌุฏูุฏุฉ:
- ุงุณุชูุฑุงุฏ ุขูู ูู Prisma ูุน try/catch
- ูุญุต ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุฑุณุงุฆู ุชุดุฎูุต ููุตูุฉ
- ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ
- ุฏุนู fู ุชุฑููุฒ ุงููุนุฑูุงุช
```

### 2. `/app/api/categories/route-fixed.ts`
```typescript
// ููุฒุงุช ุฌุฏูุฏุฉ:
- ูุฆุงุช ุงูุชุฑุงุถูุฉ ูู ุญุงูุฉ ุงููุดู
- ุงุณุชูุฑุงุฏ ุขูู ูู Prisma
- CORS headers ูุญุณูุฉ
- ูุนุงูุฌุฉ ุฃุฎุทุงุก ุชุฏุฑูุฌูุฉ
```

### 3. `/app/api/team-members/route-enhanced.ts`
```typescript
// ููุฒุงุช ุฌุฏูุฏุฉ:
- ุฃุนุถุงุก ุงูุชุฑุงุถููู ูู ุญุงูุฉ ูุดู ุงููุธุงู
- ุงุณุชูุฑุงุฏ ุขูู ูู Prisma
- ุชุญููู ุงูุจูุงูุงุช ุงููุญุณู
- ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ
```

### 4. `/app/api/upload/route-enhanced.ts`
```typescript
// ููุฒุงุช ุฌุฏูุฏุฉ:
- ุตูุฑ ุงูุชุฑุงุถูุฉ ุนูุฏ ูุดู Cloudinary
- ุชุญูู ุดุงูู ูู ุงููููุงุช
- ุชุณุฌูู ูุญุงููุงุช ุงูุฑูุน
- ูุนุงูุฌุฉ ุฃุฎุทุงุก ูุชูุฏูุฉ
```

## ๐ ููููุฉ ุชุทุจูู ุงูุญููู

### ูููููุน ุงููุจุงุดุฑ:

#### ุงูุฎุทูุฉ 1: ุงุณุชุจุฏุงู ุงููููุงุช
```bash
# ูุณุฎ ุงููููุงุช ุงููุญุณูุฉ
cp /app/api/articles/[id]/route-enhanced.ts /app/api/articles/[id]/route.ts
cp /app/api/categories/route-fixed.ts /app/api/categories/route.ts
cp /app/api/team-members/route-enhanced.ts /app/api/team-members/route.ts
cp /app/api/upload/route-enhanced.ts /app/api/upload/route.ts
```

#### ุงูุฎุทูุฉ 2: ุฅุนุงุฏุฉ ุจูุงุก ุงูุชุทุจูู
```bash
npm run build
```

#### ุงูุฎุทูุฉ 3: ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู
```bash
pm2 restart sabq-cms
# ุฃู
npm run start
```

#### ุงูุฎุทูุฉ 4: ุงุฎุชุจุงุฑ ุงููุธุงู
1. **ุงุฎุชุจุฑ ุนุฑุถ ุงูููุงู:**
   ```
   https://sabq.io/article/3f127e79-99cd-4050-b68d-648985acb5ae
   ```

2. **ุงุฎุชุจุฑ ุฅูุดุงุก ุฎุจุฑ ุฌุฏูุฏ:**
   ```
   https://sabq.io/dashboard/news/create
   ```

3. **ุงุฎุชุจุฑ APIs ูุจุงุดุฑุฉ:**
   ```
   https://sabq.io/api/categories
   https://sabq.io/api/team-members
   ```

## ๐ ุฃุฏูุงุช ุงูุชุดุฎูุต ุงูุฌุฏูุฏุฉ

### 1. ูุญุต APIs ูุจุงุดุฑุฉ
```bash
# ูุญุต API ุงููุฆุงุช
curl https://sabq.io/api/categories

# ูุญุต API ุฃุนุถุงุก ุงููุฑูู  
curl https://sabq.io/api/team-members

# ูุญุต API ููุงู ูุนูู
curl https://sabq.io/api/articles/3f127e79-99cd-4050-b68d-648985acb5ae
```

### 2. ูุญุต console ุงููุชุตูุญ
ุงูุชุญ Developer Tools (F12) ูุงุจุญุซ ุนู ุงูุฑุณุงุฆู ุงูุฌุฏูุฏุฉ:
- โ `๐ [API] ุจุฏุก ุฌูุจ ุงูุจูุงูุงุช...`
- โ `โ [API] ุชู ุชุญููู Prisma ุจูุฌุงุญ`
- โ `๐ [API] ุญุงูุฉ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช: true/false`

### 3. ุงุฎุชุจุงุฑ ุงููุธุงุฆู
1. **ุฅูุดุงุก ุฎุจุฑ ุฌุฏูุฏ:**
   - ูุฌุจ ุฃู ุชุธูุฑ ูุงุฆูุฉ ุงููุฑุงุณููู (ุฃู ุฃุนุถุงุก ุงูุชุฑุงุถููู)
   - ูุฌุจ ุฃู ุชุธูุฑ ูุงุฆูุฉ ุงูุชุตูููุงุช (ุฃู ูุฆุงุช ุงูุชุฑุงุถูุฉ)
   - ูุฌุจ ุฃู ูุนูู ุฑูุน ุงูุตูุฑ (ุฃู ุตูุฑุฉ ุงูุชุฑุงุถูุฉ)

2. **ุนุฑุถ ุงูููุงูุงุช:**
   - ูุฌุจ ุฃู ุชุนูู ุฑูุงุจุท ุงูููุงูุงุช ุจุฏูู ุฎุทุฃ 505

## ๐ฏ ุงููุชุงุฆุฌ ุงููุชููุนุฉ

### ุจุนุฏ ุชุทุจูู ุงูุญููู:

#### โ ูุดุงูู ูุญูููุฉ:
- **ุนุฑุถ ุงูููุงูุงุช:** ุณูุนูู ุจุฏูู ุฎุทุฃ 505
- **ุฌูุจ ุงููุฑุงุณููู:** ุณูุนูู (ุฃู ุฃุนุถุงุก ุงูุชุฑุงุถููู)
- **ุฌูุจ ุงูุชุตูููุงุช:** ุณูุนูู (ุฃู ูุฆุงุช ุงูุชุฑุงุถูุฉ)
- **ุฑูุน ุงูุตูุฑ:** ุณูุนูู (ุฃู ุตูุฑ ุงูุชุฑุงุถูุฉ)

#### ๐ ูููุฒุงุช ุฅุถุงููุฉ:
- **ุฑุณุงุฆู ุชุดุฎูุต ูุงุถุญุฉ** ูู console
- **ุจูุงูุงุช ุงูุชุฑุงุถูุฉ** ุชุถูู ุนูู ุงููุงุฌูุฉ
- **ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ** ุชููุน ุงูููุงุฑ ุงููุธุงู
- **ุฃุฏุงุก ูุญุณู** ูุน cache ู headers

## ๐ ุฅุฐุง ุงุณุชูุฑุช ุงููุดุงูู

### 1. ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
# ูุญุต ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช
npx prisma db pull

# ูุญุต schema
npx prisma studio
```

### 2. ูุญุต ูุชุบูุฑุงุช ุงูุจูุฆุฉ
```bash
# ุงูุชุฃูุฏ ูู ูุฌูุฏ DATABASE_URL
echo $DATABASE_URL

# ูุญุต ุฌููุน ูุชุบูุฑุงุช ุงูุจูุฆุฉ
env | grep DATABASE
```

### 3. ูุญุต logs ุงูุฎุงุฏู
```bash
# ูุญุต logs ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ
tail -f /var/log/sabq-cms.log

# ุฃู ูู PM2
pm2 logs sabq-cms
```

### 4. ุงุฎุชุจุงุฑ ุจุฏูู
ุฅุฐุง ูู ุชุนูู ุงูุญูููุ ูููู ุงุณุชุฎุฏุงู ุงูู APIs ุงููุญุณูุฉ ุจุดูู ูุคูุช ุนุจุฑ ุชุบููุฑ ุงููุณุงุฑุงุช ูู ููุฏ ุงููุงุฌูุฉ.

## ๐ ุงูุฏุนู

ุฅุฐุง ุงุญุชุฌุช ูุณุงุนุฏุฉ ุฅุถุงููุฉ:
1. **ุดุงุฑู ูุชุงุฆุฌ** ูุญุต APIs ูุจุงุดุฑุฉ
2. **ุดุงุฑู screenshot** ูู console ุงููุชุตูุญ
3. **ุดุงุฑู logs** ุงูุฎุงุฏู ุฅุฐุง ุฃููู
4. **ุญุฏุฏ** ุฃู ูู ุงูุญููู ุทูุจู ุจุงููุนู

---

**ุงููุฏู:** ุถูุงู ุนูู ุฌููุน ุงููุธุงุฆู ุญุชู ูู ูุงู ููุงู ูุดุงูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ูุน ุชูููุฑ ุจูุงูุงุช ุงูุชุฑุงุถูุฉ ูุชุดุฎูุต ูุงุถุญ ูููุดุงูู.

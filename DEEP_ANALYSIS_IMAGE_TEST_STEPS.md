# خطوات اختبار رفع وحفظ صور التحليل العميق

## 1️⃣ اختبار رفع صورة جديدة

1. **اذهب إلى صفحة تعديل تحليل**:
   ```
   http://localhost:3002/dashboard/deep-analysis/analysis-1753784848499/edit
   ```

2. **اختبر رفع الصورة**:
   - انقر على "رفع صورة جديدة"
   - اختر صورة من جهازك
   - تأكد من ظهور معاينة الصورة

3. **احفظ التغييرات**:
   - انقر على "حفظ التغييرات"
   - انتظر رسالة النجاح

## 2️⃣ التحقق من العرض

1. **في صفحة القائمة**:
   ```
   http://localhost:3002/dashboard/deep-analysis
   ```
   - ✅ الصورة تظهر في البطاقة

2. **في صفحة التفاصيل**:
   ```
   http://localhost:3002/insights/deep/analysis-1753784848499
   ```
   - ✅ الصورة تظهر في رأس الصفحة

3. **العودة للتعديل**:
   ```
   http://localhost:3002/dashboard/deep-analysis/analysis-1753784848499/edit
   ```
   - ✅ الصورة المرفوعة تظهر (ليست الافتراضية)

## 3️⃣ اختبار حذف الصورة

1. في صفحة التعديل، انقر على "حذف الصورة"
2. احفظ التغييرات
3. تحقق من ظهور الصورة الافتراضية في جميع الصفحات

## 🔍 التحقق من قاعدة البيانات

```bash
# تشغيل سكريبت الفحص
node scripts/quick-fix-connection.js
```

## ⚠️ نقاط مهمة

1. **الصورة الافتراضية**: `/images/default-analysis.jpg`
2. **حجم الصورة الأقصى**: 5MB
3. **الأنواع المدعومة**: JPG, PNG, GIF, WebP
4. **التخزين**: AWS S3

## 🆘 في حالة المشاكل

1. **الصورة لا تُرفع**:
   - تحقق من حجم الملف
   - تحقق من نوع الملف
   - افتح Developer Tools وابحث عن أخطاء

2. **الصورة لا تُحفظ**:
   - تحقق من رسائل الخطأ في console
   - تأكد من أن الخادم يعمل

3. **الصورة الافتراضية لا تظهر**:
   - تأكد من وجود `/public/images/default-analysis.jpg` 
# رحلة العضوية الذكية - منصة سبق

## نظرة عامة
تم تنفيذ رحلة عضوية ذكية ومتكاملة تبدأ من التسجيل وحتى تخصيص التجربة الكاملة للمستخدم.

## المكونات المنفذة

### 1. صفحة التسجيل `/register`
- **المسار**: `/app/register/page.tsx`
- **الميزات**:
  - نموذج تسجيل بتصميم عصري وجذاب
  - التحقق من صحة البيانات
  - تشفير كلمة المرور باستخدام bcryptjs
  - منح 50 نقطة ترحيبية تلقائياً
  - توجيه تلقائي لصفحة اختيار الاهتمامات

### 2. صفحة الترحيب واختيار الاهتمامات `/welcome/preferences`
- **المسار**: `/app/welcome/preferences/page.tsx`
- **الميزات**:
  - رسالة ترحيبية مخصصة
  - عرض جميع التصنيفات المتاحة من قاعدة البيانات
  - إمكانية اختيار متعدد للاهتمامات
  - زر "تحديد الكل"
  - منح 10 نقاط إضافية عند اختيار الاهتمامات
  - تصميم تفاعلي مع أيقونات وألوان مخصصة

### 3. صفحة تسجيل الدخول `/login`
- **المسار**: `/app/login/page.tsx`
- **الميزات**:
  - نموذج دخول أنيق
  - خيار "تذكرني"
  - رابط استعادة كلمة المرور
  - إعادة توجيه ذكية بعد الدخول

### 4. صفحة الملف الشخصي `/profile`
- **المسار**: `/app/profile/page.tsx`
- **الميزات**:
  - عرض معلومات المستخدم الأساسية
  - عرض نقاط الولاء والمستوى
  - عرض الاهتمامات المختارة
  - إمكانية تعديل الاهتمامات
  - عرض آخر النشاطات
  - إجراءات سريعة (تفعيل التنبيهات، الإحصائيات)

## نقاط API المنفذة

### 1. التسجيل
- **المسار**: `/api/auth/register`
- **الطريقة**: POST
- **الوظيفة**: إنشاء حساب جديد مع تشفير كلمة المرور ومنح نقاط ترحيبية

### 2. تسجيل الدخول
- **المسار**: `/api/auth/login`
- **الطريقة**: POST
- **الوظيفة**: التحقق من بيانات المستخدم وإرجاع معلوماته

### 3. حفظ التفضيلات
- **المسار**: `/api/user/preferences`
- **الطريقة**: POST
- **الوظيفة**: حفظ اهتمامات المستخدم وتسجيل التفاعل

### 4. جلب التفضيلات
- **المسار**: `/api/user/preferences/[id]`
- **الطريقة**: GET
- **الوظيفة**: جلب تفضيلات مستخدم محدد مع تفاصيل التصنيفات

### 5. إضافة نقاط الولاء
- **المسار**: `/api/user/loyalty-points`
- **الطريقة**: POST
- **الوظيفة**: إضافة نقاط جديدة للمستخدم

### 6. جلب نقاط الولاء
- **المسار**: `/api/user/loyalty-points/[id]`
- **الطريقة**: GET
- **الوظيفة**: جلب إجمالي النقاط والمستوى وآخر النشاطات

## هيكل البيانات

### ملفات البيانات
1. **users.json**: معلومات المستخدمين
2. **user_preferences.json**: تفضيلات المستخدمين
3. **loyalty_points.json**: نقاط الولاء
4. **user_article_interactions.json**: تفاعلات المستخدمين

## مستويات العضوية
1. **أساسي**: 0-199 نقطة
2. **مميز**: 200-499 نقطة
3. **ذهبي**: 500-999 نقطة
4. **VIP**: 1000+ نقطة

## نقاط الولاء
- التسجيل: 50 نقطة
- اختيار الاهتمامات: 10 نقاط
- قراءة مقال: 2 نقطة
- مشاركة مقال: 5 نقاط
- إعجاب بمقال: 1 نقطة

## التثبيتات المطلوبة
```bash
npm install bcryptjs @types/bcryptjs
```

## ملاحظات للتطوير المستقبلي
1. إضافة نظام التنبيهات الذكية
2. تطوير صفحة الإحصائيات الشخصية
3. إضافة مكافآت خاصة لكل مستوى عضوية
4. تطوير نظام التوصيات بناءً على التفضيلات
5. إضافة خاصية تصدير/استيراد البيانات
6. تطوير نظام الإشعارات الفورية 
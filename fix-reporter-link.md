# إصلاح مشكلة صفحة المراسل

## المشكلة المحددة
الرابط `https://www.sabq.io/reporter/علي-الحازمي` لا يعمل لأن:

1. **الـ slug الصحيح في قاعدة البيانات**: `ali-alhazmi-389657`
2. **الرابط المستخدم**: `علي-الحازمي` (الاسم العربي)
3. **نتيجة البحث**: يُرجع "علي عبده" بدلاً من "علي الحازمي"

## الحلول المطبقة

### 1. تحسين API للبحث
- ✅ إضافة بحث بالاسم العربي
- ✅ إضافة تحويل الأسماء العربية لـ slugs
- ✅ إضافة نظام البحث الذكي بالنقاط
- ⚠️ لا يزال يُرجع المراسل الخطأ

### 2. تحسين ReporterLink Component
- ✅ استخدام الاسم العربي مع encoding بدلاً من التحويل المحلي
- ✅ الاعتماد على API للبحث

## الحل النهائي المقترح

### إنشاء redirect في NextJS
إضافة redirect في `next.config.js` للأسماء العربية المعروفة:

```javascript
redirects: [
  {
    source: '/reporter/علي-الحازمي',
    destination: '/reporter/ali-alhazmi-389657',
    permanent: true,
  }
]
```

### أو إنشاء middleware مخصص
لمعالجة جميع روابط المراسلين العربية تلقائياً.

## الاختبارات
- ✅ `curl "http://localhost:3000/api/reporters/ali-alhazmi-389657"` يعمل
- ✅ `curl "http://localhost:3000/api/reporters/الحازمي"` يعمل
- ❌ `curl "http://localhost:3000/api/reporters/علي%20الحازمي"` يُرجع المراسل الخطأ

## الخطوات التالية
1. إما إصلاح نظام البحث الذكي ليكون أكثر دقة
2. أو إنشاء جدول mapping للأسماء العربية
3. أو استخدام redirects في NextJS

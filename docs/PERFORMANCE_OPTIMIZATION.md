# ๐ ุชุญุณููุงุช ุงูุฃุฏุงุก ูุตูุญุฉ ุชูุงุตูู ุงูุฎุจุฑ

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุญุณูู ุฃุฏุงุก ุตูุญุฉ ุชูุงุตูู ุงูุฎุจุฑ ุจุดูู ูุจูุฑ ูู ุฎูุงู ุชุทุจูู ุงุณุชุฑุงุชูุฌูุงุช ูุชูุฏูุฉ ููุชุฎุฒูู ุงููุคูุช ูุชุญุณูู ุงูุงุณุชุนูุงูุงุช.

## ุงููุดุงูู ุงููุญุฏุฏุฉ

### 1. ุงุณุชุนูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุจุทูุฆุฉ
- **ุงููุดููุฉ**: ุงุณุชุฎุฏุงู `include` ูุฌูุจ ุฌููุน ุงูุนูุงูุงุช ุฏูุนุฉ ูุงุญุฏุฉ
- **ุงูุชุฃุซูุฑ**: ุฒูุงุฏุฉ ููุช ุงูุงุณุชุฌุงุจุฉ ุฅูู 2-5 ุซูุงูู
- **ุงูุญู**: ุงุณุชุฎุฏุงู `select` ุงูุชูุงุฆู ูุฌูุจ ุงูุญููู ุงููุทููุจุฉ ููุท

### 2. ุนุฏู ูุฌูุฏ ุชุฎุฒูู ูุคูุช ูุนุงู
- **ุงููุดููุฉ**: ุฌูุจ ุงูููุงู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ูู ุทูุจ
- **ุงูุชุฃุซูุฑ**: ุญูู ุฒุงุฆุฏ ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุงูุญู**: ุชุทุจูู Redis Cache ูุน TTL 5 ุฏูุงุฆู

### 3. ุชุญุฏูุซ ุงููุดุงูุฏุงุช ุงููุชุฒุงูู
- **ุงููุดููุฉ**: ุงูุชุธุงุฑ ุชุญุฏูุซ ุงููุดุงูุฏุงุช ูุจู ุฅุฑุฌุงุน ุงูุงุณุชุฌุงุจุฉ
- **ุงูุชุฃุซูุฑ**: ุชุฃุฎูุฑ ุฅุถุงูู 100-300ms
- **ุงูุญู**: ุชุญุฏูุซ ุบูุฑ ูุชุฒุงูู ุจุงุณุชุฎุฏุงู `setImmediate`

### 4. ูุนุงูุฌุฉ ุงูุจูุงูุงุช ุงููุนูุฏุฉ
- **ุงููุดููุฉ**: ูุนุงูุฌุฉ ุงููููุงุช ุงูููุชุงุญูุฉ ูุงูุนูุงูุงุช ูู ูู ุทูุจ
- **ุงูุชุฃุซูุฑ**: ุงุณุชููุงู CPU ุฅุถุงูู
- **ุงูุญู**: ูุนุงูุฌุฉ ูุณุจูุฉ ูุชุฎุฒูู ุงููุชุงุฆุฌ ูู ุงููุงุด

## ุงูุญููู ุงููุทุจูุฉ

### 1. ูุธุงู ุงูุชุฎุฒูู ุงููุคูุช ุจู Redis

#### ุงูููุฒุงุช:
- **ุชุฎุฒูู ุฐูู**: ุญูุธ ุงูููุงูุงุช ุงูููุณูุฉ ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู
- **TTL ูุฑู**: ูุฏุฉ ุตูุงุญูุฉ ูุงุจูุฉ ููุชุฎุตูุต (ุงูุชุฑุงุถู: 5 ุฏูุงุฆู)
- **ุชุญุฏูุซ ุชููุงุฆู**: ุชุญุฏูุซ ุงููุงุด ุนูุฏ ุชุนุฏูู ุงูููุงู
- **ุฅุญุตุงุฆูุงุช**: ูุชุงุจุนุฉ ูุนุฏู ุงูุฅุตุงุจุฉ ูุงูุฐุงูุฑุฉ ุงููุณุชุฎุฏูุฉ

#### ุงูุงุณุชุฎุฏุงู:
```typescript
import {
  getArticleFromCache,
  setArticleInCache,
  deleteArticleFromCache,
} from "@/lib/cache/article-cache";

// ุฌูุจ ูู ุงููุงุด
const article = await getArticleFromCache(articleId);

// ุญูุธ ูู ุงููุงุด
await setArticleInCache(articleId, articleData, { ttl: 300 });

// ุญุฐู ูู ุงููุงุด
await deleteArticleFromCache(articleId);
```

### 2. API Endpoint ูุญุณูู

#### ุงููุณุงุฑุงุช ุงููุชุงุญุฉ:

##### ุฃ) ุงููุณุงุฑ ุงููุญุณูู ุงูุฑุฆูุณู
```
GET /api/articles/[slug]/route-optimized
```

**ุงูููุฒุงุช**:
- ุชุฎุฒูู ูุคูุช ุจู Redis
- ุชุญุฏูุซ ุบูุฑ ูุชุฒุงูู ูููุดุงูุฏุงุช
- ุงุณุชุนูุงูุงุช ูุญุณููุฉ
- ูุนูููุงุช ุงูุฃุฏุงุก ูู ุงูุงุณุชุฌุงุจุฉ

**ูุซุงู ุงูุงุณุชุฌุงุจุฉ**:
```json
{
  "ok": true,
  "message": "ุชู ุงูุญุตูู ุนูู ุงูููุงู ุจูุฌุงุญ",
  "data": {
    "id": "...",
    "title": "...",
    "content": "...",
    ...
  },
  "performance": {
    "responseTime": 45,
    "cached": true
  }
}
```

##### ุจ) ุงููุณุงุฑ ุงูุณุฑูุน
```
GET /api/articles/[slug]/fast-optimized
```

**ุงูููุฒุงุช**:
- ุงุณุชุฎุฏุงู Next.js `unstable_cache`
- ุชุฎุฒูู ุนูู ูุณุชูู Edge
- ุฃุฏุงุก ูุงุฆู ุงูุณุฑุนุฉ

### 3. ุงุณุชุนูุงูุงุช ูุญุณููุฉ

#### ูุจู ุงูุชุญุณูู:
```typescript
const article = await prisma.articles.findFirst({
  where: { id },
  include: {
    categories: true,
    author: true,
    article_author: true,
    comments: true,
    bookmarks: true,
  },
});
```

#### ุจุนุฏ ุงูุชุญุณูู:
```typescript
const article = await prisma.articles.findFirst({
  where: { id },
  select: {
    id: true,
    title: true,
    content: true,
    // ููุท ุงูุญููู ุงููุทููุจุฉ
    categories: {
      select: {
        id: true,
        name: true,
        slug: true,
      },
    },
    author: {
      select: {
        id: true,
        name: true,
        avatar: true,
      },
    },
  },
});
```

### 4. ุชุญุฏูุซ ุบูุฑ ูุชุฒุงูู ูููุดุงูุฏุงุช

```typescript
// ุชุญุฏูุซ ุงููุดุงูุฏุงุช ุจุฏูู ุงูุชุธุงุฑ
setImmediate(() => {
  incrementViewsInCache(articleId);
  updateViewsInDatabase(articleId);
});

// ุฅุฑุฌุงุน ุงูุงุณุชุฌุงุจุฉ ููุฑุงู
return NextResponse.json(article);
```

## ุงููุชุงุฆุฌ ุงููุชููุนุฉ

### ูุจู ุงูุชุญุณูู:
- โฑ๏ธ ููุช ุงูุงุณุชุฌุงุจุฉ: **2000-5000ms**
- ๐ ูุนุฏู ุงูุฅุตุงุจุฉ ูู ุงููุงุด: **0%**
- ๐พ ุญูู ูุงุนุฏุฉ ุงูุจูุงูุงุช: **ุนุงูู ุฌุฏุงู**
- ๐ ุนุฏุฏ ุงูุงุณุชุนูุงูุงุช: **5-10 ููู ุทูุจ**

### ุจุนุฏ ุงูุชุญุณูู:
- โก ููุช ุงูุงุณุชุฌุงุจุฉ: **50-200ms** (ูู ุงููุงุด)
- โ ูุนุฏู ุงูุฅุตุงุจุฉ ูู ุงููุงุด: **80-95%**
- ๐ ุญูู ูุงุนุฏุฉ ุงูุจูุงูุงุช: **ููุฎูุถ ุฌุฏุงู**
- ๐ ุนุฏุฏ ุงูุงุณุชุนูุงูุงุช: **1 ููู ุทูุจ**

### ุชุญุณูู ุงูุฃุฏุงุก:
- ๐ **ุชุณุฑูุน 10-25x** ูู ููุช ุงูุงุณุชุฌุงุจุฉ
- ๐ **ุชูููู 90%** ูู ุญูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ๐ฐ **ุชูููุฑ 80%** ูู ุชูุงููู ุงูุจููุฉ ุงูุชุญุชูุฉ

## ุฎุทุฉ ุงูุชุทุจูู

### ุงููุฑุญูุฉ 1: ุงูุชุทุจูู ุงูุชุฌุฑูุจู (ุฃุณุจูุน 1)
1. โ ุฅูุดุงุก ูุธุงู ุงูุชุฎุฒูู ุงููุคูุช ุจู Redis
2. โ ุชุทููุฑ API endpoints ุงููุญุณููุฉ
3. โณ ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก ูุงูุงุณุชูุฑุงุฑ
4. โณ ูุฑุงูุจุฉ ูุนุฏู ุงูุฅุตุงุจุฉ ูู ุงููุงุด

### ุงููุฑุญูุฉ 2: ุงูุชุทุจูู ุงูุฌุฒุฆู (ุฃุณุจูุน 2)
1. โณ ุชุทุจูู ุนูู 20% ูู ุงูุฒูุงุฑุงุช
2. โณ ููุงุฑูุฉ ุงูุฃุฏุงุก ูุน ุงููุณุฎุฉ ุงููุฏููุฉ
3. โณ ุฌูุน ููุงุญุธุงุช ุงููุณุชุฎุฏููู
4. โณ ุชุญุณูู ุจูุงุกู ุนูู ุงูุจูุงูุงุช

### ุงููุฑุญูุฉ 3: ุงูุชุทุจูู ุงููุงูู (ุฃุณุจูุน 3)
1. โณ ุชุทุจูู ุนูู 100% ูู ุงูุฒูุงุฑุงุช
2. โณ ุฅููุงู API endpoints ุงููุฏููุฉ
3. โณ ุชุญุฏูุซ ุงููุซุงุฆู
4. โณ ุชุฏุฑูุจ ุงููุฑูู

## ุงููุฑุงูุจุฉ ูุงูุตูุงูุฉ

### ูุคุดุฑุงุช ุงูุฃุฏุงุก ุงูุฑุฆูุณูุฉ (KPIs)

#### 1. ููุช ุงูุงุณุชุฌุงุจุฉ
```typescript
// ูุชูุณุท ููุช ุงูุงุณุชุฌุงุจุฉ
const avgResponseTime = totalResponseTime / requestCount;

// ุงููุฏู: < 200ms
```

#### 2. ูุนุฏู ุงูุฅุตุงุจุฉ ูู ุงููุงุด
```typescript
// ูุนุฏู ุงูุฅุตุงุจุฉ
const hitRate = (cacheHits / totalRequests) * 100;

// ุงููุฏู: > 80%
```

#### 3. ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ
```typescript
// ุงุณุชุฎุฏุงู Redis
const memoryUsage = await redis.info("memory");

// ุงููุฏู: < 1GB
```

### ุฃุฏูุงุช ุงููุฑุงูุจุฉ

#### 1. ููุญุฉ ุชุญูู ุงูุฃุฏุงุก
```
GET /api/admin/performance/cache-stats
```

**ุงูุงุณุชุฌุงุจุฉ**:
```json
{
  "cache": {
    "totalKeys": 1234,
    "memoryUsed": "256MB",
    "hitRate": 87.5
  },
  "performance": {
    "avgResponseTime": 145,
    "p95ResponseTime": 280,
    "p99ResponseTime": 450
  }
}
```

#### 2. ุชูุจููุงุช ุชููุงุฆูุฉ
- ๐ด ูุนุฏู ุงูุฅุตุงุจุฉ < 70%
- ๐ก ููุช ุงูุงุณุชุฌุงุจุฉ > 500ms
- ๐ ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ > 80%

## ุฃูุถู ุงูููุงุฑุณุงุช

### 1. ุฅุฏุงุฑุฉ ุงููุงุด

#### ูุชู ูุณุชุฎุฏู ุงููุงุดุ
- โ ุงูููุงูุงุช ุงูููุดูุฑุฉ
- โ ุงูุชุตูููุงุช
- โ ุงููุคูููู
- โ ุงููุณูุฏุงุช
- โ ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ

#### ูุชู ูุญุฐู ูู ุงููุงุดุ
- ุนูุฏ ุชุญุฏูุซ ุงูููุงู
- ุนูุฏ ุชุบููุฑ ุงูุญุงูุฉ
- ุนูุฏ ุญุฐู ุงูููุงู
- ุนูุฏ ุชุญุฏูุซ ุงูุชุตููู

### 2. ุชุญุณูู ุงูุงุณุชุนูุงูุงุช

#### ุงุณุชุฎุฏู `select` ุจุฏูุงู ูู `include`
```typescript
// โ ุณูุก
const article = await prisma.articles.findFirst({
  include: { categories: true },
});

// โ ุฌูุฏ
const article = await prisma.articles.findFirst({
  select: {
    id: true,
    title: true,
    categories: { select: { name: true } },
  },
});
```

#### ุงุณุชุฎุฏู ุงูููุงุฑุณ (Indexes)
```prisma
model articles {
  id    String @id
  slug  String @unique
  
  @@index([slug])
  @@index([status, published_at])
}
```

### 3. ุงูุชุญุฏูุซุงุช ุบูุฑ ุงููุชุฒุงููุฉ

```typescript
// โ ุฌูุฏ: ุชุญุฏูุซ ุบูุฑ ูุชุฒุงูู
setImmediate(() => updateViews(articleId));
return NextResponse.json(article);

// โ ุณูุก: ุชุญุฏูุซ ูุชุฒุงูู
await updateViews(articleId);
return NextResponse.json(article);
```

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ูุนุฏู ุฅุตุงุจุฉ ููุฎูุถ

**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ**:
1. TTL ูุตูุฑ ุฌุฏุงู
2. ุญุฐู ูุชูุฑุฑ ูู ุงููุงุด
3. ุญุฑูุฉ ูุฑูุฑ ุนุงููุฉ ุนูู ููุงูุงุช ูุฎุชููุฉ

**ุงูุญููู**:
1. ุฒูุงุฏุฉ TTL ุฅูู 10-15 ุฏูููุฉ
2. ูุฑุงุฌุนุฉ ููุทู ุญุฐู ุงููุงุด
3. ุฒูุงุฏุฉ ุญุฌู ุงููุงุด

### ุงููุดููุฉ: ุงุณุชุฎุฏุงู ุฐุงูุฑุฉ ุนุงูู

**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ**:
1. ุชุฎุฒูู ุจูุงูุงุช ูุจูุฑุฉ
2. ุนุฏู ุญุฐู ุงูููุงุชูุญ ุงููุฏููุฉ
3. ุชุณุฑุจ ุฐุงูุฑุฉ

**ุงูุญููู**:
1. ุชูููู ุญุฌู ุงูุจูุงูุงุช ุงููุฎุฒูุฉ
2. ุชุทุจูู ุณูุงุณุฉ LRU
3. ุฅุนุงุฏุฉ ุชุดุบูู Redis ุฏูุฑูุงู

### ุงููุดููุฉ: ุฃุฎุทุงุก ุงุชุตุงู Redis

**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ**:
1. Redis ุบูุฑ ูุชุงุญ
2. ูุดุงูู ุดุจูุฉ
3. ุญุฏ ุงูุงุชุตุงูุงุช

**ุงูุญููู**:
1. ุงูุชุญูู ูู ุญุงูุฉ Redis
2. ุงุณุชุฎุฏุงู fallback ููุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุฒูุงุฏุฉ ุญุฏ ุงูุงุชุตุงูุงุช

## ุงูููุงุฑุฏ ุงูุฅุถุงููุฉ

### ุงููุซุงุฆู
- [Redis Documentation](https://redis.io/docs/)
- [Next.js Caching](https://nextjs.org/docs/app/building-your-application/caching)
- [Prisma Performance](https://www.prisma.io/docs/guides/performance-and-optimization)

### ุงูุฃุฏูุงุช
- [Redis Commander](https://github.com/joeferner/redis-commander) - ูุงุฌูุฉ ุฅุฏุงุฑุฉ Redis
- [Prisma Studio](https://www.prisma.io/studio) - ุงุณุชูุดุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [k6](https://k6.io/) - ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก

## ุงูุฎูุงุตุฉ

ุชู ุชุญุณูู ุฃุฏุงุก ุตูุญุฉ ุชูุงุตูู ุงูุฎุจุฑ ุจุดูู ูุจูุฑ ูู ุฎูุงู:

1. โ ุชุทุจูู Redis Cache
2. โ ุชุญุณูู ุงุณุชุนูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. โ ุชุญุฏูุซุงุช ุบูุฑ ูุชุฒุงููุฉ
4. โ ูุนุงูุฌุฉ ูุณุจูุฉ ููุจูุงูุงุช

**ุงููุชูุฌุฉ**: ุชุญุณูู **10-25x** ูู ููุช ุงูุงุณุชุฌุงุจุฉ ูุชูููู **90%** ูู ุญูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.

---

**ุขุฎุฑ ุชุญุฏูุซ**: ุฃูุชูุจุฑ 2025  
**ุงููุณุคูู**: ูุฑูู ุงูุชุทููุฑ - ุณุจู ุงูุฐููุฉ


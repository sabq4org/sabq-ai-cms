# تحسينات صفحة إدارة الأخبار

## 📋 نظرة عامة
تم إعادة تصميم صفحة إدارة الأخبار بالكامل لتوفير تجربة أفضل للمحررين والمدراء.

## ✅ التحسينات المنفذة

### 1. 🎨 تحسينات التصميم والواجهة
- **استخدام هيدر لوحة التحكم**: الصفحة الآن تستخدم `DashboardLayout` مع الهيدر والقائمة الجانبية الصحيحة
- **تصميم أنيق**: استخدام Cards وTable من shadcn/ui لواجهة عصرية
- **بطاقات الإحصائيات**: 6 بطاقات تفاعلية توضح حالة المقالات (إجمالي، منشور، مسودة، مؤرشف، مجدول، عاجل)
- **أيقونات معبرة**: لكل حالة أيقونة مناسبة مع لون مميز

### 2. 🔢 تحويل الأرقام للعربية
- جميع الأرقام في الواجهة تظهر بالعربية (٠، ١، ٢، ٣...)
- تشمل: الإحصائيات، المشاهدات، التعليقات، التواريخ

### 3. ⚡ زر الخبر العاجل
- زر Switch أحمر أنيق في كل صف
- يمكن تفعيل/إلغاء الخبر العاجل بضغطة واحدة
- خبر عاجل واحد فقط في المرة الواحدة (تلقائياً)

### 4. 🎬 أزرار الإجراءات المحسنة
- **عرض**: فتح المقال في صفحة جديدة
- **تعديل**: الذهاب لصفحة تحرير المقال
- **نشر**: متاح للمسودات فقط (أخضر)
- **أرشفة**: متاح للمقالات المنشورة (أصفر)
- **حذف**: مع تأكيد قبل الحذف (أحمر)

### 5. 📊 عرض البيانات الحقيقية
- **المشاهدات**: عدد المشاهدات الفعلية مع أيقونة العين
- **التعليقات**: عدد التعليقات مع أيقونة الرسائل
- **الكاتب**: اسم الكاتب الحقيقي مع أيقونة المستخدمين
- **التاريخ**: عرض نسبي (منذ 5 دقائق، منذ يومين، إلخ)

### 6. 🔍 البحث والفلترة
- بحث فوري في عناوين المقالات
- فلترة حسب التصنيف
- النقر على بطاقات الإحصائيات للفلترة السريعة

### 7. 📸 معاينة الصور
- عرض صورة مصغرة بجانب عنوان كل مقال
- تصميم أنيق مع زوايا دائرية

## 🔧 التفاصيل التقنية

### API Endpoints الجديدة
```typescript
// تبديل حالة الخبر العاجل
POST /api/admin/toggle-breaking
{
  articleId: string,
  isBreaking: boolean
}
```

### البنية المحدثة
- الصفحة: `/app/admin/news/page.tsx`
- API: `/app/api/admin/toggle-breaking/route.ts`
- استخدام Prisma للتعامل مع قاعدة البيانات

### المكونات المستخدمة
- DashboardLayout
- shadcn/ui: Table, Card, Button, Badge, Switch, DropdownMenu
- Lucide Icons
- React Hot Toast

## 🚀 الاستخدام

1. الدخول للصفحة: http://localhost:3002/admin/news
2. يجب تسجيل الدخول كمدير أو محرر
3. جميع الإجراءات متاحة من القائمة المنسدلة في كل صف

## 📈 تحسينات مستقبلية مقترحة
- إضافة pagination للتعامل مع عدد كبير من المقالات
- خيارات تصدير البيانات (Excel, PDF)
- إجراءات جماعية (حذف/أرشفة متعدد)
- فلاتر متقدمة (حسب التاريخ، الكاتب، إلخ) 
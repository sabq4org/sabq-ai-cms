# دليل إدارة صور المقالات - صحيفة سبق

## نظرة عامة

هذا الدليل يوضح كيفية إدارة صور المقالات في نظام إدارة المحتوى لصحيفة سبق، بما يشمل إضافة الصور المناسبة للمقالات وضمان جودة العرض في البلوكات والبطاقات.

## الأدوات المتاحة

### 1. إنشاء الصور الافتراضية
```bash
node scripts/create-default-images.js
```
**الوظيفة**: إنشاء صور افتراضية مصنفة حسب أقسام الأخبار
- تقنية (أزرق): 4 صور متخصصة
- رياضة (أخضر): 5 صور متخصصة  
- اقتصاد (برتقالي): 4 صور متخصصة
- سياسة (أحمر): 5 صور متخصصة
- محليات (بنفسجي): 5 صور متخصصة
- ثقافة ومجتمع (سماوي): 3 صور متخصصة
- صحة (وردي): 3 صور متخصصة

### 2. إضافة الصور للمقالات
```bash
node scripts/add-missing-images.js
```
**الوظيفة**: البحث عن المقالات المنشورة التي تفتقر للصور وإضافة صور مناسبة لها

**معايير الاختيار**:
- تحليل عنوان المقال والمحتوى
- مطابقة الكلمات المفتاحية مع الصور المتخصصة
- اختيار الصورة الافتراضية للتصنيف في حالة عدم وجود تطابق

### 3. إدارة وتحليل الصور
```bash
node scripts/manage-images.js
```
**الوظيفة**: تحليل شامل لحالة الصور وإصلاح المشاكل الشائعة

**التحليلات المقدمة**:
- إحصائيات الصور حسب النوع (محلية، خارجية، مؤقتة)
- اكتشاف الصور المكسورة أو المفقودة
- التحقق من النص البديل للصور
- حساب نقاط الجودة الإجمالية
- تقديم توصيات للتحسين

## هيكل الصور

### مجلد الصور الرئيسي
```
public/uploads/featured/
├── tech-default.jpg          # تقنية - عام
├── ai-technology.jpg         # تقنية - ذكاء اصطناعي
├── tech-health.jpg           # تقنية - صحة
├── tech-innovation.jpg       # تقنية - ابتكار
├── sports-default.jpg        # رياضة - عام
├── football-stadium.jpg      # رياضة - كرة قدم
├── hilal-logo.jpg           # رياضة - الهلال
├── nassr-logo.jpg           # رياضة - النصر
├── asian-champions.jpg       # رياضة - دوري آسيا
├── economy-default.jpg       # اقتصاد - عام
├── aramco-building.jpg       # اقتصاد - أرامكو
├── oil-industry.jpg         # اقتصاد - نفط
├── stock-market.jpg         # اقتصاد - أسهم
├── politics-default.jpg      # سياسة - عام
├── arab-summit.jpg          # سياسة - قمة عربية
├── international-relations.jpg # سياسة - علاقات دولية
├── gaza-palestine.jpg       # سياسة - غزة وفلسطين
├── trump-politics.jpg       # سياسة - ترامب
├── local-default.jpg        # محليات - عام
├── riyadh-city.jpg          # محليات - الرياض
├── entertainment-complex.jpg # محليات - ترفيه
├── saudi-tourism.jpg        # محليات - سياحة
├── security-forces.jpg      # محليات - أمن
├── culture-default.jpg      # ثقافة - عام
├── cultural-festival.jpg    # ثقافة - مهرجان
├── saudi-heritage.jpg       # ثقافة - تراث
├── health-default.jpg       # صحة - عام
├── sleep-health.jpg         # صحة - نوم
└── medical-research.jpg     # صحة - بحث طبي
```

## نظام اختيار الصور الذكي

### الكلمات المفتاحية لكل تصنيف

**تقنية (ID: 1)**
- "ذكاء اصطناعي" → ai-technology.jpg
- "صحة" → tech-health.jpg
- افتراضي → tech-default.jpg

**رياضة (ID: 2)**
- "هلال" → hilal-logo.jpg
- "نصر" → nassr-logo.jpg  
- "آسيا" → asian-champions.jpg
- افتراضي → football-stadium.jpg

**اقتصاد (ID: 3)**
- "أرامكو" → aramco-building.jpg
- "نفط" → oil-industry.jpg
- افتراضي → economy-default.jpg

**سياسة (ID: 4)**
- "قمة" → arab-summit.jpg
- "غزة", "فلسطين" → gaza-palestine.jpg
- "ترامب" → trump-politics.jpg
- افتراضي → politics-default.jpg

**محليات (ID: 5)**
- "رياض" → riyadh-city.jpg
- "ترفيه" → entertainment-complex.jpg
- "سياحة" → saudi-tourism.jpg
- "مخدرات", "أمن" → security-forces.jpg
- افتراضي → local-default.jpg

**ثقافة ومجتمع (ID: 6)**
- "مهرجان" → cultural-festival.jpg
- افتراضي → culture-default.jpg

**صحة (ID: 8)**
- "نوم" → sleep-health.jpg
- افتراضي → medical-research.jpg

## التقارير والمراقبة

### مجلد التقارير
```
reports/
├── default-images-report.json     # تقرير إنشاء الصور الافتراضية
├── missing-images-report.json     # تقرير إضافة الصور للمقالات
├── images-management-report.json  # تقرير شامل لإدارة الصور
└── images-summary.txt            # ملخص سريع للحالة
```

### مؤشرات الجودة

**نقاط الجودة الإجمالية** (من 100):
- تغطية الصور (50%): نسبة المقالات التي تحتوي على صور
- جودة الصور (30%): نسبة الصور العاملة (غير مكسورة)
- النص البديل (20%): نسبة الصور التي تحتوي على نص بديل

**المستويات**:
- 90-100: ممتاز
- 80-89: جيد جداً
- 70-79: جيد
- 60-69: مقبول
- أقل من 60: يحتاج تحسين

## أفضل الممارسات

### 1. اختيار الصور
- استخدم صوراً عالية الجودة (800x600 بكسل كحد أدنى)
- تأكد من ملاءمة الصورة لمحتوى المقال
- فضّل الصور المحلية على الخارجية للتحكم في الجودة

### 2. النص البديل
- اكتب وصفاً مفيداً ومختصراً للصورة
- تجنب عبارات مثل "صورة لـ" أو "رسم توضيحي"
- اجعل النص وصفياً وليس تفسيرياً

### 3. تحسين الأداء
- استخدم تنسيقات حديثة مثل WebP أو AVIF
- ضغط الصور مع الحفاظ على الجودة
- استخدم الـ lazy loading للصور

### 4. إمكانية الوصول
- تأكد من وجود نص بديل لكل صورة
- استخدم ألواناً متباينة في النصوص على الصور
- تجنب الاعتماد على الصور وحدها لنقل المعلومات المهمة

## استكشاف الأخطاء

### المشاكل الشائعة

**1. صور مكسورة**
```bash
# التحقق من الصور المكسورة
node scripts/manage-images.js
```
- تحقق من وجود الملف في المسار المحدد
- تأكد من صحة امتدادات الملفات
- راجع صلاحيات الوصول للملفات

**2. صور لا تظهر في البلوكات**
- تأكد من صحة مسار الصورة في قاعدة البيانات
- تحقق من إعدادات CSS للبلوكات
- راجع console المتصفح للأخطاء

**3. صور بطيئة التحميل**
- استخدم أدوات ضغط الصور
- فعّل التخزين المؤقت
- استخدم CDN للصور

### أوامر الصيانة

```bash
# تشغيل فحص شامل وإصلاح المشاكل
node scripts/manage-images.js

# إضافة صور للمقالات الجديدة
node scripts/add-missing-images.js

# إعادة إنشاء الصور الافتراضية
rm -rf public/uploads/featured/*.jpg
node scripts/create-default-images.js
```

## التطوير المستقبلي

### الميزات المخططة
- [ ] تحسين خوارزمية اختيار الصور
- [ ] دعم صور متعددة لكل مقال
- [ ] تحسين أداء تحميل الصور
- [ ] إضافة معرض صور للمقالات
- [ ] دعم الصور المتجاوبة (responsive images)

### التحسينات المقترحة
- [ ] استخدام AI لاختيار الصور المناسبة
- [ ] تحسين جودة الصور الافتراضية
- [ ] إضافة المزيد من الصور المتخصصة
- [ ] تطوير واجهة إدارة الصور

## الدعم والمساعدة

للحصول على المساعدة أو الإبلاغ عن مشاكل:
1. راجع هذا الدليل أولاً
2. تحقق من التقارير في مجلد `reports/`
3. شغّل أدوات التشخيص المتاحة
4. راجع سجلات النظام للأخطاء

---

*آخر تحديث: يناير 2025* 
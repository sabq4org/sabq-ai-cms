# دليل إدارة بلوك الهلال في بطولة العالم

## نظرة عامة
تم نقل بلوك "الهلال في بطولة العالم" من موضع ثابت في الصفحة الرئيسية إلى نظام البلوكات الذكية، مما يتيح التحكم الكامل فيه من لوحة التحكم.

## كيفية إدارة البلوك

### 1. الوصول إلى إدارة البلوكات
- اذهب إلى: `/dashboard/smart-blocks`
- ابحث عن بلوك "الهلال في بطولة العالم"

### 2. خصائص البلوك
- **الاسم**: الهلال في بطولة العالم
- **النوع**: custom (مخصص)
- **الموضع**: beforePersonalization (قبل قسم "محتوى ذكي مخصص لك")
- **الحالة**: active (مفعّل)
- **الكلمات المفتاحية**: الهلال

### 3. التحكم في البلوك

#### إظهار/إخفاء البلوك:
- **لإخفاء البلوك**: غيّر الحالة من "active" إلى "inactive"
- **لإظهار البلوك**: غيّر الحالة من "inactive" إلى "active"

#### تغيير موضع البلوك:
يمكن نقل البلوك إلى أي من المواضع التالية:
- `topBanner`: أعلى الصفحة
- `afterHighlights`: بعد الأخبار المميزة
- `afterCards`: بعد بطاقات المقالات
- `beforePersonalization`: قبل المحتوى المخصص (الموضع الحالي)
- `beforeFooter`: قبل تذييل الصفحة

#### تخصيص الألوان:
```json
{
  "theme": {
    "primaryColor": "#1e40af",      // اللون الأساسي (أزرق الهلال)
    "backgroundColor": "#caf0fe",    // لون الخلفية
    "textColor": "#002e7a",         // لون النص
    "accentColor": "#fbbf24",       // لون التمييز
    "borderColor": "#1e40af"        // لون الحدود
  }
}
```

#### التحكم في عدد المقالات:
- غيّر قيمة `articlesCount` لتحديد عدد المقالات المعروضة (الافتراضي: 4)

### 4. كيفية عمل البلوك

البلوك يعرض المقالات التي تحتوي على كلمة "الهلال" في:
- العنوان
- المحتوى
- الكلمات المفتاحية (SEO keywords)
- الملخص

### 5. إضافة مقالات للبلوك

لإضافة مقال ليظهر في بلوك الهلال:
1. عند إنشاء/تحرير المقال، تأكد من:
   - إضافة "الهلال" في الكلمات المفتاحية
   - أو ذكر "الهلال" في العنوان أو المحتوى
2. تأكد أن المقال في حالة "published" (منشور)

### 6. جدولة البلوك

يمكن جدولة ظهور البلوك في أوقات محددة:
```json
{
  "schedule": {
    "startDate": "2025-01-25T00:00:00Z",  // تاريخ البداية
    "endDate": "2025-02-15T23:59:59Z",    // تاريخ النهاية
    "isTemp": true                        // مؤقت
  }
}
```

## الملفات المرتبطة

- **مكون البلوك**: `/components/smart-blocks/AlHilalWorldCupBlock.tsx`
- **عارض البلوكات**: `/components/smart-blocks/SmartBlockRenderer.tsx`
- **بيانات البلوكات**: `/data/smart_blocks.json`
- **API البلوكات**: `/app/api/smart-blocks/route.ts`

## ملاحظات مهمة

1. البلوك الآن جزء من نظام البلوكات الذكية ويمكن التحكم فيه بالكامل
2. لا حاجة لتعديل الكود لإظهار/إخفاء البلوك
3. التغييرات تظهر فوراً على الموقع
4. يمكن إنشاء نسخ متعددة من البلوك بإعدادات مختلفة

## استكشاف الأخطاء

### البلوك لا يظهر:
- تأكد أن الحالة "active"
- تأكد من وجود مقالات تحتوي على كلمة "الهلال"
- تحقق من وجود SmartSlot في الموضع المحدد

### المقالات لا تظهر في البلوك:
- تأكد أن المقالات منشورة (status: published)
- تأكد من وجود كلمة "الهلال" في المقال
- تحقق من قيمة articlesCount 
# ๐ ุฃูุซูุฉ ุนูููุฉ ูุงุณุชุฎุฏุงู ุจุฑููุจุชุงุช ุณุจู ุงูุฐููุฉ

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงููุณุชูุฏ ูุญุชูู ุนูู ุฃูุซูุฉ ุนูููุฉ ุดุงููุฉ ูุงุณุชุฎุฏุงู ุฌููุน ุจุฑููุจุชุงุช ุณุจู ุงูุฐููุฉ ุงูููุญุฏุฉ ูู ุณููุงุฑูููุงุช ุญููููุฉ.

---

## 1๏ธโฃ ุงููุญุฑุฑ ุงูุฐูู (News Editor)

### ุงูุงุณุชุฎุฏุงู ุงูุฃุณุงุณู

```typescript
import { SABQ_NEWS_EDITOR_PROMPT } from '@/lib/ai/sabq-prompts-library';
import OpenAI from 'openai';

const openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });

async function editNewsArticle(content: string, title?: string, category?: string) {
  const userPrompt = SABQ_NEWS_EDITOR_PROMPT.userPromptTemplate(
    content,
    title,
    category
  );

  const response = await openai.chat.completions.create({
    model: SABQ_NEWS_EDITOR_PROMPT.settings.model,
    messages: [
      { role: 'system', content: SABQ_NEWS_EDITOR_PROMPT.systemPrompt },
      { role: 'user', content: userPrompt }
    ],
    temperature: SABQ_NEWS_EDITOR_PROMPT.settings.temperature,
    max_tokens: SABQ_NEWS_EDITOR_PROMPT.settings.max_tokens,
    response_format: { type: 'json_object' }
  });

  return JSON.parse(response.choices[0]?.message?.content || '{}');
}
```

### ูุซุงู 1: ุฎุจุฑ ุงูุชุตุงุฏู

```typescript
const economicNews = `
ุฃุนููุช ูุฒุงุฑุฉ ุงูุงุณุชุซูุงุฑ ุงูุณุนูุฏูุฉ ุงูููู ุงูุฃุญุฏ ุนู ุฅุทูุงู ูุดุฑูุน ุงุณุชุซูุงุฑู ุถุฎู 
ุจูููุฉ 5 ูููุงุฑุงุช ุฑูุงู ูู ูุทุงุน ุงูุชูููุฉ ูุงูุงุจุชูุงุฑ ุจูุฏููุฉ ุงูุฑูุงุถ.

ููุฏู ุงููุดุฑูุน ุฅูู ุชุทููุฑ ุงูุจููุฉ ุงูุชุญุชูุฉ ุงูุชูููุฉ ูุฏุนู ุงูุดุฑูุงุช ุงููุงุดุฆุฉ 
ูู ูุฌุงูุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุงูุชุญูู ุงูุฑููู.

ููุงู ูุฒูุฑ ุงูุงุณุชุซูุงุฑ ุงููููุฏุณ ุฎุงูุฏ ุงููุงูุญ ุฅู ุงููุดุฑูุน ูุฃุชู ุถูู ุฑุคูุฉ 
ุงูููููุฉ 2030 ูุชูููุน ูุตุงุฏุฑ ุงูุฏุฎู ูุจูุงุก ุงูุชุตุงุฏ ูุนุฑูู ูุชูุฏู.

ูู ุงููุชููุน ุฃู ูููุฑ ุงููุดุฑูุน ุฃูุซุฑ ูู 10 ุขูุงู ูุธููุฉ ููุนูุฉ ูู ุงููุทุงุน 
ุงูุชููู ุฎูุงู ุงูุณููุงุช ุงูุฎูุณ ุงููุงุฏูุฉ.
`;

const result = await editNewsArticle(
  economicNews,
  'ุฅุทูุงู ูุดุฑูุน ุงุณุชุซูุงุฑู',
  'ุงูุชุตุงุฏ'
);

console.log(result);
// {
//   title: "ุงูุณุนูุฏูุฉ ุชุทูู ูุดุฑูุนุงู ุงุณุชุซูุงุฑูุงู ุจู 5 ูููุงุฑุงุช ุฑูุงู ูู ุงูุชูููุฉ",
//   subtitle: "ุงููุดุฑูุน ูุณุชูุฏู ุชุทููุฑ ุงูุจููุฉ ุงูุชุญุชูุฉ ูุฏุนู ุงูุดุฑูุงุช ุงููุงุดุฆุฉ ุจุงูุฑูุงุถ",
//   smart_summary: "ุฃุนููุช ูุฒุงุฑุฉ ุงูุงุณุชุซูุงุฑ ุงูุณุนูุฏูุฉ ุนู ูุดุฑูุน ุงุณุชุซูุงุฑู...",
//   keywords: ["ูุฒุงุฑุฉ ุงูุงุณุชุซูุงุฑ", "ุงูุฑูุงุถ", "ุงูุชูููุฉ", "ุงูุฐูุงุก ุงูุงุตุทูุงุนู", ...],
//   slug: "saudi-tech-investment-5-billion",
//   seo_title: "ูุดุฑูุน ุณุนูุฏู ุจู 5 ูููุงุฑุงุช ุฑูุงู ููุชูููุฉ ูุงูุงุจุชูุงุฑ",
//   meta_description: "ุงูุณุนูุฏูุฉ ุชุทูู ูุดุฑูุนุงู ุงุณุชุซูุงุฑูุงู ุถุฎูุงู...",
//   tags: ["ุงุณุชุซูุงุฑ", "ุชูููุฉ", "ุฑุคูุฉ 2030", ...]
// }
```

### ูุซุงู 2: ุฎุจุฑ ุนุงุฌู

```typescript
const urgentNews = `
ุฃุตุฏุฑ ูุฌูุณ ุงููุฒุฑุงุก ุงูุณุนูุฏู ูุฑุงุฑุงู ุจุชุนุฏูู ูุธุงู ุงูุนูู ูุชุนุฒูุฒ ูุฑููุฉ 
ุณูู ุงูุนูู ูุฏุนู ุงูุชูุธูู.

ูุชุถูู ุงููุฑุงุฑ ุงูุณูุงุญ ุจุงูุนูู ุนู ุจูุนุฏ ุจุดูู ุฑุณููุ ูุชูุธูู ุณุงุนุงุช ุงูุนูู 
ุงููุฑูุฉุ ูุชุญุณูู ุญููู ุงูุนุงูููู ูู ุงููุทุงุน ุงูุฎุงุต.

ูุฏุฎู ุงููุฑุงุฑ ุญูุฒ ุงูุชูููุฐ ุฎูุงู 90 ูููุงู ูู ุชุงุฑูุฎ ูุดุฑู ูู ุงูุฌุฑูุฏุฉ ุงูุฑุณููุฉ.
`;

const result = await editNewsArticle(
  urgentNews,
  'ูุฑุงุฑ ูุฌูุณ ุงููุฒุฑุงุก',
  'ุนุงุฌู'
);

console.log(result);
// {
//   title: "ูุฌูุณ ุงููุฒุฑุงุก ูุนุฏูู ูุธุงู ุงูุนูู ููุณูุญ ุจุงูุนูู ุนู ุจูุนุฏ ุฑุณููุงู",
//   subtitle: "ุงููุฑุงุฑ ูุฏุฎู ุญูุฒ ุงูุชูููุฐ ุฎูุงู 90 ูููุงู ููุดูู ุณุงุนุงุช ุนูู ูุฑูุฉ",
//   smart_summary: "ุฃุตุฏุฑ ูุฌูุณ ุงููุฒุฑุงุก ุงูุณุนูุฏู ูุฑุงุฑุงู ุชุงุฑูุฎูุงู...",
//   keywords: ["ูุฌูุณ ุงููุฒุฑุงุก", "ูุธุงู ุงูุนูู", "ุงูุนูู ุนู ุจูุนุฏ", ...],
//   ...
// }
```

---

## 2๏ธโฃ ุงูููุฎุต ุงูุฐูู (Smart Summary)

### ุงูุงุณุชุฎุฏุงู ุงูุฃุณุงุณู

```typescript
import { SABQ_SMART_SUMMARY_PROMPT } from '@/lib/ai/sabq-prompts-library';

async function summarizeArticle(content: string, maxLength: number = 400) {
  const userPrompt = SABQ_SMART_SUMMARY_PROMPT.userPromptTemplate(
    content,
    maxLength
  );

  const response = await openai.chat.completions.create({
    model: SABQ_SMART_SUMMARY_PROMPT.settings.model,
    messages: [
      { role: 'system', content: SABQ_SMART_SUMMARY_PROMPT.systemPrompt },
      { role: 'user', content: userPrompt }
    ],
    temperature: SABQ_SMART_SUMMARY_PROMPT.settings.temperature,
    max_tokens: SABQ_SMART_SUMMARY_PROMPT.settings.max_tokens
  });

  return response.choices[0]?.message?.content || '';
}
```

### ูุซุงู: ุชูุฎูุต ููุงู ุทููู

```typescript
const longArticle = `
[ููุงู ุทููู ูู 2000 ูููุฉ ุนู ุงูุชุญูู ุงูุฑููู ูู ุงูุณุนูุฏูุฉ...]
`;

const summary = await summarizeArticle(longArticle, 350);

console.log(summary);
// "ูุดูุฏ ุงูุงูุชุตุงุฏ ุงูุณุนูุฏู ุชุญููุงู ุฑูููุงู ูุชุณุงุฑุนุงู ูุนูุฏ ุชุดููู ุงููุทุงุนุงุช 
// ุงูุชูููุฏูุฉ. ูุฑูุฒ ุงูุชุญูู ุนูู ุชุญุณูู ุงูุฎุฏูุงุช ุงูุญููููุฉ ูุฎูู ูุฑุต ุนูู ุฌุฏูุฏุฉ 
// ูู ุงูุชูููุฉ. ููุงุฌู ุงูุชุญูู ุชุญุฏูุงุช ูู ุชุทููุฑ ุงูููุงุฑุงุช ูุงูุฃูู ุงูุณูุจุฑุงููุ 
// ููู ุงูุชูุงูู ุจูู ุงููุทุงุนูู ุงูุนุงู ูุงูุฎุงุต ูุนุฒุฒ ูุฑุต ุงููุฌุงุญ."
```

---

## 3๏ธโฃ ุงูุชุญููู ุงูุนููู (Deep Analysis)

### ุงูุงุณุชุฎุฏุงู ุงูุฃุณุงุณู

```typescript
import { SABQ_DEEP_ANALYSIS_PROMPT } from '@/lib/ai/sabq-prompts-library';

async function analyzeDeep(
  topic: string, 
  context?: string, 
  customPrompt?: string
) {
  const userPrompt = SABQ_DEEP_ANALYSIS_PROMPT.userPromptTemplate(
    topic,
    context,
    customPrompt
  );

  const response = await openai.chat.completions.create({
    model: SABQ_DEEP_ANALYSIS_PROMPT.settings.model,
    messages: [
      { role: 'system', content: SABQ_DEEP_ANALYSIS_PROMPT.systemPrompt },
      { role: 'user', content: userPrompt }
    ],
    temperature: SABQ_DEEP_ANALYSIS_PROMPT.settings.temperature,
    max_tokens: SABQ_DEEP_ANALYSIS_PROMPT.settings.max_tokens,
    response_format: { type: 'json_object' }
  });

  return JSON.parse(response.choices[0]?.message?.content || '{}');
}
```

### ูุซุงู: ุชุญููู ุงูุชุญูู ุงูุฑููู

```typescript
const analysis = await analyzeDeep(
  'ุงูุชุญูู ุงูุฑููู ูู ุงูุณุนูุฏูุฉ',
  'ูุทุงุน ุงูุชูููุฉ ูุงูุงุจุชูุงุฑ',
  'ุฑูุฒ ุนูู ุงูุฌูุงูุจ ุงูุงูุชุตุงุฏูุฉ ูุงูุงุฌุชูุงุนูุฉ'
);

console.log(analysis);
// {
//   title: "ุงูุชุญูู ุงูุฑููู ูู ุงูุณุนูุฏูุฉ: ูุฑุต ูุชุญุฏูุงุช",
//   summary: "ุชุญููู ุดุงูู ููุชุญูู ุงูุฑููู ูู ุงูููููุฉ...",
//   sections: [
//     {
//       title: "ุงููุถุน ุงูุญุงูู ููุชุญูู ุงูุฑููู",
//       content: "ุชุดูุฏ ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ..."
//     },
//     {
//       title: "ุงููุฑุต ุงูุงูุชุตุงุฏูุฉ",
//       content: "ูููุฑ ุงูุชุญูู ุงูุฑููู ูุฑุตุงู ูุงุฆูุฉ..."
//     },
//     {
//       title: "ุงูุชุญุฏูุงุช ุงูุงุฌุชูุงุนูุฉ",
//       content: "ุฑุบู ุงูููุงุฆุฏ ุงููุจูุฑุฉุ ููุงุฌู ุงูุชุญูู..."
//     }
//   ],
//   recommendations: [
//     "ุชุทููุฑ ุจุฑุงูุฌ ุชุฏุฑูุจูุฉ ููููุงุฑุงุช ุงูุฑูููุฉ",
//     "ุชุนุฒูุฒ ุงูุจููุฉ ุงูุชุญุชูุฉ ุงูุชูููุฉ",
//     "ุฏุนู ุงูุดุฑูุงุช ุงููุงุดุฆุฉ ูู ุงููุทุงุน ุงูุชููู"
//   ],
//   keyInsights: [
//     "ุงูุชุญูู ุงูุฑููู ูุณุงูู ูู ุชูููุน ุงูุงูุชุตุงุฏ",
//     "ุงูุญุงุฌุฉ ุฅูู 500 ุฃูู ูุชุฎุตุต ุชููู ุจุญููู 2030",
//     "ุงูุงุณุชุซูุงุฑ ูู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุชุฌุงูุฒ 20 ูููุงุฑ ุฑูุงู"
//   ],
//   dataPoints: [
//     {
//       label: "ููู ุงููุทุงุน ุงูุชููู",
//       value: "15",
//       unit: "%",
//       description: "ูุนุฏู ุงูููู ุงูุณููู ุงููุชููุน"
//     }
//   ]
// }
```

---

## 4๏ธโฃ ุชูููุฏ ุงูุนูุงููู (Title Generation)

### ุงูุงุณุชุฎุฏุงู ุงูุฃุณุงุณู

```typescript
import { SABQ_TITLE_GENERATION_PROMPT } from '@/lib/ai/sabq-prompts-library';

async function generateTitles(content: string) {
  const userPrompt = SABQ_TITLE_GENERATION_PROMPT.userPromptTemplate(content);

  const response = await openai.chat.completions.create({
    model: SABQ_TITLE_GENERATION_PROMPT.settings.model,
    messages: [
      { role: 'system', content: SABQ_TITLE_GENERATION_PROMPT.systemPrompt },
      { role: 'user', content: userPrompt }
    ],
    temperature: SABQ_TITLE_GENERATION_PROMPT.settings.temperature,
    max_tokens: SABQ_TITLE_GENERATION_PROMPT.settings.max_tokens,
    response_format: { type: 'json_object' }
  });

  return JSON.parse(response.choices[0]?.message?.content || '{}');
}
```

### ูุซุงู: ุชูููุฏ ุนูุงููู ูุชููุนุฉ

```typescript
const newsContent = `
ุฃุนููุช ููุฆุฉ ุงูุฑูุงุถุฉ ุงูุณุนูุฏูุฉ ุนู ุงุณุชุถุงูุฉ ุงูููููุฉ ูุจุทููุฉ ูุฃุณ ุงูุนุงูู 
ููุฃูุฏูุฉ 2025ุ ุจูุดุงุฑูุฉ 32 ูุฑููุงู ูู ูุฎุชูู ุงููุงุฑุงุช.
`;

const titles = await generateTitles(newsContent);

console.log(titles);
// {
//   titles: [
//     {
//       text: "ุงูุณุนูุฏูุฉ ุชุณุชุถูู ูุฃุณ ุงูุนุงูู ููุฃูุฏูุฉ 2025 ุจูุดุงุฑูุฉ 32 ูุฑููุงู",
//       type: "ุฅุฎุจุงุฑู ูุจุงุดุฑ",
//       score: 95,
//       seoOptimized: true
//     },
//     {
//       text: "32 ูุฑููุงู ุนุงูููุงู ูู ุงูุณุนูุฏูุฉ: ูุฃุณ ุงูุนุงูู ููุฃูุฏูุฉ 2025",
//       type: "ุจุงูุฃุฑูุงู",
//       score: 90,
//       seoOptimized: true
//     },
//     {
//       text: "ุฑุณููุงู.. ุงูุณุนูุฏูุฉ ุชุญุชุถู ูุฃุณ ุงูุนุงูู ููุฃูุฏูุฉ",
//       type: "ุนุงุฌู",
//       score: 88,
//       seoOptimized: false
//     },
//     {
//       text: "ูู ุชุณุชุนุฏ ุงูุณุนูุฏูุฉ ูุฃูุจุฑ ุญุฏุซ ุฑูุงุถู ูู 2025ุ",
//       type: "ุณุคุงู",
//       score: 75,
//       seoOptimized: false
//     }
//   ],
//   recommended: "ุงูุณุนูุฏูุฉ ุชุณุชุถูู ูุฃุณ ุงูุนุงูู ููุฃูุฏูุฉ 2025 ุจูุดุงุฑูุฉ 32 ูุฑููุงู",
//   reasoning: "ุงูุนููุงู ุงูุฃูู ูุฌูุน ุจูู ุงููุถูุญ ูุงููุนูููุงุช ุงูุฃุณุงุณูุฉ..."
// }
```

---

## 5๏ธโฃ ุงุณุชุฎุฑุงุฌ ุงููููุงุช ุงูููุชุงุญูุฉ (Keywords Extraction)

### ุงูุงุณุชุฎุฏุงู ุงูุฃุณุงุณู

```typescript
import { SABQ_KEYWORDS_EXTRACTION_PROMPT } from '@/lib/ai/sabq-prompts-library';

async function extractKeywords(content: string, category?: string) {
  const userPrompt = SABQ_KEYWORDS_EXTRACTION_PROMPT.userPromptTemplate(
    content,
    category
  );

  const response = await openai.chat.completions.create({
    model: SABQ_KEYWORDS_EXTRACTION_PROMPT.settings.model,
    messages: [
      { role: 'system', content: SABQ_KEYWORDS_EXTRACTION_PROMPT.systemPrompt },
      { role: 'user', content: userPrompt }
    ],
    temperature: SABQ_KEYWORDS_EXTRACTION_PROMPT.settings.temperature,
    max_tokens: SABQ_KEYWORDS_EXTRACTION_PROMPT.settings.max_tokens,
    response_format: { type: 'json_object' }
  });

  return JSON.parse(response.choices[0]?.message?.content || '{}');
}
```

### ูุซุงู: ุงุณุชุฎุฑุงุฌ ูููุงุช ููุชุงุญูุฉ ูู ุฎุจุฑ

```typescript
const newsContent = `
ุฃุนูู ุตูุฏูู ุงูุงุณุชุซูุงุฑุงุช ุงูุนุงูุฉ ุงูุณุนูุฏู ุนู ุฅุทูุงู ุตูุฏูู ุฌุฏูุฏ ุจูููุฉ 
40 ูููุงุฑ ุฏููุงุฑ ููุงุณุชุซูุงุฑ ูู ุงูุชูููุงุช ุงููุงุดุฆุฉ ูุงูุฐูุงุก ุงูุงุตุทูุงุนู.
`;

const keywords = await extractKeywords(newsContent, 'ุงูุชุตุงุฏ');

console.log(keywords);
// {
//   primaryKeywords: [
//     "ุตูุฏูู ุงูุงุณุชุซูุงุฑุงุช ุงูุนุงูุฉ",
//     "ุงูุฐูุงุก ุงูุงุตุทูุงุนู",
//     "ุงูุชูููุงุช ุงููุงุดุฆุฉ"
//   ],
//   secondaryKeywords: [
//     "ุงุณุชุซูุงุฑ",
//     "ุงูุณุนูุฏูุฉ",
//     "40 ูููุงุฑ ุฏููุงุฑ"
//   ],
//   entities: {
//     persons: [],
//     places: ["ุงูุณุนูุฏูุฉ"],
//     organizations: ["ุตูุฏูู ุงูุงุณุชุซูุงุฑุงุช ุงูุนุงูุฉ"],
//     events: ["ุฅุทูุงู ุตูุฏูู ุฌุฏูุฏ"],
//     topics: ["ุงูุฐูุงุก ุงูุงุตุทูุงุนู", "ุงูุชูููุงุช ุงููุงุดุฆุฉ"]
//   },
//   searchTerms: [
//     "ุตูุฏูู ุงูุงุณุชุซูุงุฑุงุช ุงูุนุงูุฉ ุงูุณุนูุฏู",
//     "ุงุณุชุซูุงุฑ ุงูุฐูุงุก ุงูุงุตุทูุงุนู",
//     "ุงูุชูููุงุช ุงููุงุดุฆุฉ ุงูุณุนูุฏูุฉ"
//   ],
//   seoKeywords: [
//     "ุตูุฏูู ุงูุงุณุชุซูุงุฑุงุช ุงูุนุงูุฉ",
//     "ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุงูุณุนูุฏูุฉ",
//     "ุงุณุชุซูุงุฑ 40 ูููุงุฑ ุฏููุงุฑ"
//   ]
// }
```

---

## 6๏ธโฃ ุงูุฑูุงุจุท ุงูุฐููุฉ (Smart Links)

### ุงูุงุณุชุฎุฏุงู ุงูุฃุณุงุณู

```typescript
import { SABQ_SMART_LINKS_PROMPT } from '@/lib/ai/sabq-prompts-library';

async function extractEntities(content: string) {
  const userPrompt = SABQ_SMART_LINKS_PROMPT.userPromptTemplate(content);

  const response = await openai.chat.completions.create({
    model: SABQ_SMART_LINKS_PROMPT.settings.model,
    messages: [
      { role: 'system', content: SABQ_SMART_LINKS_PROMPT.systemPrompt },
      { role: 'user', content: userPrompt }
    ],
    temperature: SABQ_SMART_LINKS_PROMPT.settings.temperature,
    max_tokens: SABQ_SMART_LINKS_PROMPT.settings.max_tokens,
    response_format: { type: 'json_object' }
  });

  return JSON.parse(response.choices[0]?.message?.content || '{}');
}
```

### ูุซุงู: ุงุณุชุฎุฑุงุฌ ููุงูุงุช ููุฑุจุท

```typescript
const articleContent = `
ุงูุชูู ููู ุงูุนูุฏ ุงูุฃููุฑ ูุญูุฏ ุจู ุณููุงู ูุน ุฑุฆูุณ ุดุฑูุฉ ุชุณูุง ุฅูููู ูุงุณู 
ูู ุงูุฑูุงุถ ูุจุญุซ ูุฑุต ุงูุงุณุชุซูุงุฑ ูู ูุดุงุฑูุน ุงูุทุงูุฉ ุงููุชุฌุฏุฏุฉ.
`;

const entities = await extractEntities(articleContent);

console.log(entities);
// {
//   persons: [
//     {
//       name: "ูุญูุฏ ุจู ุณููุงู",
//       title: "ููู ุงูุนูุฏ",
//       relevance: 100,
//       suggestedLink: "/tag/mohammed-bin-salman"
//     },
//     {
//       name: "ุฅูููู ูุงุณู",
//       title: "ุฑุฆูุณ ุดุฑูุฉ ุชุณูุง",
//       relevance: 95,
//       suggestedLink: "/tag/elon-musk"
//     }
//   ],
//   places: [
//     {
//       name: "ุงูุฑูุงุถ",
//       type: "ูุฏููุฉ",
//       relevance: 85,
//       suggestedLink: "/location/riyadh"
//     }
//   ],
//   organizations: [
//     {
//       name: "ุชุณูุง",
//       type: "ุดุฑูุฉ",
//       relevance: 90,
//       suggestedLink: "/tag/tesla"
//     }
//   ],
//   topics: [
//     {
//       name: "ุงูุทุงูุฉ ุงููุชุฌุฏุฏุฉ",
//       relevance: 80,
//       suggestedLink: "/category/renewable-energy"
//     },
//     {
//       name: "ุงูุงุณุชุซูุงุฑ",
//       relevance: 75,
//       suggestedLink: "/category/investment"
//     }
//   ],
//   relatedArticles: [
//     "ูุดุงุฑูุน ุงูุทุงูุฉ ุงููุชุฌุฏุฏุฉ ูู ุงูุณุนูุฏูุฉ",
//     "ุงุณุชุซูุงุฑุงุช ุชุณูุง ูู ุงูุดุฑู ุงูุฃูุณุท"
//   ]
// }
```

---

## 7๏ธโฃ ููุชุฑุฉ ุงูุชุนูููุงุช (Comment Moderation)

### ุงูุงุณุชุฎุฏุงู ุงูุฃุณุงุณู

```typescript
import { SABQ_COMMENT_MODERATION_PROMPT } from '@/lib/ai/sabq-prompts-library';

async function moderateComment(comment: string, articleContext?: string) {
  const userPrompt = SABQ_COMMENT_MODERATION_PROMPT.userPromptTemplate(
    comment,
    articleContext
  );

  const response = await openai.chat.completions.create({
    model: SABQ_COMMENT_MODERATION_PROMPT.settings.model,
    messages: [
      { role: 'system', content: SABQ_COMMENT_MODERATION_PROMPT.systemPrompt },
      { role: 'user', content: userPrompt }
    ],
    temperature: SABQ_COMMENT_MODERATION_PROMPT.settings.temperature,
    max_tokens: SABQ_COMMENT_MODERATION_PROMPT.settings.max_tokens,
    response_format: { type: 'json_object' }
  });

  return JSON.parse(response.choices[0]?.message?.content || '{}');
}
```

### ูุซุงู 1: ุชุนููู ููุจูู

```typescript
const comment1 = "ููุงู ุฑุงุฆุน ููููุฏุ ุดูุฑุงู ุนูู ุงููุนูููุงุช ุงููููุฉ";
const result1 = await moderateComment(comment1);

console.log(result1);
// {
//   action: "approve",
//   category: "positive",
//   severity: 0,
//   reason: "ุชุนููู ุฅูุฌุงุจู ููุญุชุฑู",
//   suggestedEdit: null,
//   confidence: 100
// }
```

### ูุซุงู 2: ุชุนููู ูุญุชุงุฌ ูุฑุงุฌุนุฉ

```typescript
const comment2 = "ูุฐุง ุงููุฑุงุฑ ุณูุก ุฌุฏุงู ููู ูููุน ุฃุจุฏุงู";
const result2 = await moderateComment(comment2);

console.log(result2);
// {
//   action: "review",
//   category: "negative_opinion",
//   severity: 30,
//   reason: "ุฑุฃู ุณูุจู ูููู ูุง ูุญุชูู ุนูู ุฅุณุงุกุฉ ูุจุงุดุฑุฉ",
//   suggestedEdit: "ุฃุนุชูุฏ ุฃู ูุฐุง ุงููุฑุงุฑ ูุฏ ูุง ูุญูู ุงููุชุงุฆุฌ ุงููุฑุฌูุฉ",
//   confidence: 85
// }
```

### ูุซุงู 3: ุชุนููู ูุฑููุถ

```typescript
const comment3 = "ููุงู ูุงุฑุบ ููุณุคูููู ูุงุดููู";
const result3 = await moderateComment(comment3);

console.log(result3);
// {
//   action: "reject",
//   category: "offensive",
//   severity: 80,
//   reason: "ูุญุชูู ุนูู ุฅุณุงุกุฉ ูุฃููุงุธ ุบูุฑ ูุงุฆูุฉ",
//   suggestedEdit: null,
//   confidence: 95
// }
```

---

## 8๏ธโฃ ุงูุชูุตูุงุช ุงูุฐููุฉ (Smart Recommendations)

### ุงูุงุณุชุฎุฏุงู ุงูุฃุณุงุณู

```typescript
import { SABQ_SMART_RECOMMENDATIONS_PROMPT } from '@/lib/ai/sabq-prompts-library';

async function getRecommendations(
  userInterests: string[],
  readingHistory: string[],
  availableArticles: any[]
) {
  const userPrompt = SABQ_SMART_RECOMMENDATIONS_PROMPT.userPromptTemplate(
    userInterests,
    readingHistory,
    availableArticles
  );

  const response = await openai.chat.completions.create({
    model: SABQ_SMART_RECOMMENDATIONS_PROMPT.settings.model,
    messages: [
      { role: 'system', content: SABQ_SMART_RECOMMENDATIONS_PROMPT.systemPrompt },
      { role: 'user', content: userPrompt }
    ],
    temperature: SABQ_SMART_RECOMMENDATIONS_PROMPT.settings.temperature,
    max_tokens: SABQ_SMART_RECOMMENDATIONS_PROMPT.settings.max_tokens,
    response_format: { type: 'json_object' }
  });

  return JSON.parse(response.choices[0]?.message?.content || '{}');
}
```

### ูุซุงู: ุชูุตูุงุช ูุฎุตุตุฉ

```typescript
const userInterests = ['ุชูููุฉ', 'ุงูุชุตุงุฏ', 'ุฑูุงุถุฉ'];
const readingHistory = [
  'ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูู ุงูุณุนูุฏูุฉ',
  'ุงุณุชุซูุงุฑุงุช ุงูุชูููุฉ',
  'ูุฃุณ ุงูุนุงูู 2026'
];
const availableArticles = [
  { id: 1, title: 'ูุดุฑูุน ูููู ุงูุชููู', category: 'ุชูููุฉ', views: 5000 },
  { id: 2, title: 'ุงูุจูุฑุตุฉ ุงูุณุนูุฏูุฉ', category: 'ุงูุชุตุงุฏ', views: 3000 },
  { id: 3, title: 'ุฏูุฑู ุฑูุดู', category: 'ุฑูุงุถุฉ', views: 8000 },
  // ... ุงููุฒูุฏ
];

const recommendations = await getRecommendations(
  userInterests,
  readingHistory,
  availableArticles
);

console.log(recommendations);
// {
//   recommendations: [
//     {
//       articleId: 1,
//       title: "ูุดุฑูุน ูููู ุงูุชููู",
//       score: 95,
//       reason: "ูุชุทุงุจู ูุน ุงูุชูุงูู ุจุงูุชูููุฉ ูุงูุงุณุชุซูุงุฑ",
//       category: "ุชูููุฉ"
//     },
//     {
//       articleId: 3,
//       title: "ุฏูุฑู ุฑูุดู",
//       score: 85,
//       reason: "ูุชูุงูู ูุน ุงูุชูุงูู ุจุงูุฑูุงุถุฉ",
//       category: "ุฑูุงุถุฉ"
//     },
//     {
//       articleId: 2,
//       title: "ุงูุจูุฑุตุฉ ุงูุณุนูุฏูุฉ",
//       score: 80,
//       reason: "ูุชุนูู ุจุงูุงูุชุตุงุฏ ูุงูุงุณุชุซูุงุฑ",
//       category: "ุงูุชุตุงุฏ"
//     }
//   ],
//   diversity: {
//     categories: ["ุชูููุฉ", "ุฑูุงุถุฉ", "ุงูุชุตุงุฏ"],
//     balance: "ูุชูุงุฒู"
//   },
//   reasoning: "ุชู ุงุฎุชูุงุฑ ุงูููุงูุงุช ุจูุงุกู ุนูู ุงูุชูุงูุงุชู ูุณุฌู ูุฑุงุกุชู..."
// }
```

---

## ๐งช ุงูุชูููู ุงูุชููุงุฆู

### ุงุณุชุฎุฏุงู ูุธุงู ุงูุชูููู

```typescript
import PromptEvaluationService from '@/lib/ai/prompt-evaluation-service';

const evaluator = new PromptEvaluationService(process.env.OPENAI_API_KEY);

// ุชูููู ูุฎุฑุฌ ูุงุญุฏ
const result = await evaluator.evaluateSingle({
  promptType: 'sabq.ai.prompts.editor.improveText',
  originalContent: rawContent,
  generatedOutput: aiOutput
});

console.log('๐ ูุชุงุฆุฌ ุงูุชูููู:');
console.log('  ุงูุฏุฑุฌุฉ ุงูุฅุฌูุงููุฉ:', result.overallScore + '/100');
console.log('  ุงูุชูุฏูุฑ:', result.grade);
console.log('  ุฌุงูุฒ ูููุดุฑ:', result.readyForPublish ? 'ูุนู' : 'ูุง');
console.log('\n  ุงููุนุงููุฑ:');
console.log('    ุงููุถูุญ:', result.scores.clarity);
console.log('    ุงูุฏูุฉ:', result.scores.factuality);
console.log('    ูุทุงุจูุฉ ุงูุฃุณููุจ:', result.scores.styleMatch);
console.log('    ุงูุงูุชูุงู:', result.scores.completeness);
console.log('    ุงูุตูุฉ:', result.scores.relevance);

if (result.weaknesses.length > 0) {
  console.log('\n  ููุงุท ุงูุถุนู:');
  result.weaknesses.forEach(w => console.log('    -', w));
}

if (result.suggestions.length > 0) {
  console.log('\n  ุงูุงูุชุฑุงุญุงุช:');
  result.suggestions.forEach(s => console.log('    -', s));
}
```

### ุชูููู ุฏูุนุฉ ูู ุงููุฎุฑุฌุงุช

```typescript
const requests = [
  {
    promptType: 'sabq.ai.prompts.editor.improveText',
    originalContent: content1,
    generatedOutput: output1
  },
  {
    promptType: 'sabq.ai.prompts.summary.generate',
    originalContent: content2,
    generatedOutput: output2
  },
  // ... ุงููุฒูุฏ
];

const batchResult = await evaluator.evaluateBatch(requests);

console.log('๐ ุงูุฅุญุตุงุฆูุงุช:');
console.log('  ุฅุฌูุงูู ุงูุนููุงุช:', batchResult.totalSamples);
console.log('  ุงููุชูุณุท ุงูุนุงู:', batchResult.averageScore.toFixed(1) + '/100');
console.log('  ูุณุจุฉ ุงููุฌุงุญ:', batchResult.passRate.toFixed(1) + '%');

// ุชูููุฏ ุชูุฑูุฑ
const report = evaluator.generateReport(batchResult);
console.log('\n' + report);
```

---

## ๐ฏ ุฃูุถู ุงูููุงุฑุณุงุช

### 1. ุงุณุชุฎุฏุงู ุงูุจุฑููุจุชุงุช ุงูููุญุฏุฉ ุฏุงุฆูุงู

```typescript
// โ ุณูุก - ุจุฑููุจุช ูุฎุตุต
const prompt = "ุงูุชุจ ุนููุงูุงู ููุฎุจุฑ...";

// โ ุฌูุฏ - ุจุฑููุจุช ููุญุฏ
import { SABQ_TITLE_GENERATION_PROMPT } from '@/lib/ai/sabq-prompts-library';
const prompt = SABQ_TITLE_GENERATION_PROMPT.userPromptTemplate(content);
```

### 2. ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

```typescript
try {
  const result = await editNewsArticle(content);
  // ูุนุงูุฌุฉ ุงููุชูุฌุฉ
} catch (error) {
  console.error('ุฎุทุฃ ูู ุงูุชุญุฑูุฑ:', error);
  // ุงุณุชุฎุฏุงู fallback ุฃู ุฅุดุนุงุฑ ุงููุณุชุฎุฏู
}
```

### 3. ุงูุชุญูู ูู ุงูุฌูุฏุฉ

```typescript
const result = await editNewsArticle(content);

// ุชูููู ุงูุฌูุฏุฉ
const evaluation = await evaluator.evaluateSingle({
  promptType: 'sabq.ai.prompts.editor.improveText',
  originalContent: content,
  generatedOutput: JSON.stringify(result)
});

if (evaluation.readyForPublish) {
  // ูุดุฑ ุงููุญุชูู
  await publishArticle(result);
} else {
  // ูุฑุงุฌุนุฉ ูุฏููุฉ
  await sendForReview(result, evaluation.suggestions);
}
```

### 4. ุงูุชุฎุฒูู ุงููุคูุช

```typescript
import { createHash } from 'crypto';

// ุฅูุดุงุก ููุชุงุญ ูุงุด
const cacheKey = createHash('md5')
  .update(content + category)
  .digest('hex');

// ุงูุชุญูู ูู ุงููุงุด
let result = await cache.get(cacheKey);

if (!result) {
  // ุชูููุฏ ุฌุฏูุฏ
  result = await editNewsArticle(content, title, category);
  
  // ุญูุธ ูู ุงููุงุด
  await cache.set(cacheKey, result, 3600); // ุณุงุนุฉ ูุงุญุฏุฉ
}

return result;
```

---

## ๐ ุงููุฑุงุฌุน

- [ุฏููู ุงูุจุฑููุจุชุงุช ุงูููุญุฏุฉ](./lib/ai/README.md)
- [ุชูุฑูุฑ ูุฑุงุฌุนุฉ ุงูุจุฑููุจุชุงุช](./SABQ_AI_PROMPT_REVIEW.md)
- [ูุซุงุฆู OpenAI](https://platform.openai.com/docs)

---

**ุงูุฅุตุฏุงุฑ**: 1.0.0  
**ุขุฎุฑ ุชุญุฏูุซ**: 17 ุฃูุชูุจุฑ 2025  
**ุงููุณุคูู**: ูุฑูู ุณุจู ุงูุฐููุฉ - ูุณู ุงูุฐูุงุก ุงูุงุตุทูุงุนู


# ูุธุงู ุชุชุจุน ุณููู ุงููุณุชุฎุฏู ุงููุชูุฏู - ุณุจู ุงูุฐููุฉ

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุชุชุจุน ุณููู ุงููุณุชุฎุฏู ูู ูุดุฑูุน ุณุจู ุงูุฐููุฉ ูู ุญู ุดุงูู ููุชูุฏู ูุฌูุน ููุญูู ุจูุงูุงุช ุชูุงุนู ุงููุณุชุฎุฏููู ูุน ุงููุญุชูู ุจุทุฑููุฉ ุฐููุฉ ูุขููุฉ. ุงููุธุงู ูุตูู ูุงุญุชุฑุงู ุงูุฎุตูุตูุฉ ูุชูุฏูู ุฑุคู ูููุฉ ูุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู.

## ๐๏ธ ุงููุนูุงุฑูุฉ ุงูุนุงูุฉ

### ุงูููููุงุช ุงูุฃุณุงุณูุฉ

1. **ุชุชุจุน ุงูุชูุงุนูุงุช** (`UserInteractionTracker`)
   - ุชุชุจุน ุงูุฅุนุฌุงุจุ ุงูุญูุธุ ุงููุดุงุฑูุฉุ ุงูุชุนูููุงุช
   - ูุนุงูุฌุฉ ูุฌูุนุฉ ููุฃุญุฏุงุซ
   - ุฅุฏุงุฑุฉ ููุงุท ุงูููุงุก

2. **ุชุญููู ุณููู ุงููุฑุงุกุฉ** (`ReadingBehaviorAnalyzer`)
   - ุชุชุจุน ููุช ุงููุฑุงุกุฉ ููุณุจุฉ ุงูุชูุฑูุฑ
   - ุชุญููู ุฃููุงุท ุงููุฑุงุกุฉ ูุงูุชูููุงุช
   - ุชูููู ุฌูุฏุฉ ุงููุฑุงุกุฉ ููุณุชูู ุงูุชูุงุนู

3. **ุฌูุน ุจูุงูุงุช ุงูุณูุงู** (`ContextDataCollector`)
   - ูุนูููุงุช ุงูุฌูุงุฒ ูุงููุชุตูุญ
   - ุจูุงูุงุช ุงููููุน ุงูุฌุบุฑุงูู (ูุน ุงูุฎุตูุตูุฉ)
   - ูุนูููุงุช ุงูุดุจูุฉ ูุงูุฃุฏุงุก

4. **ุฅุฏุงุฑุฉ ุงูุฎุตูุตูุฉ** (`PrivacyManager`)
   - ูุณุชููุงุช ุฎุตูุตูุฉ ูุชุนุฏุฏุฉ
   - ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
   - ุฅุฏุงุฑุฉ ุงูููุงููุงุช ูุงูุญุฐู

5. **APIs ููุชุชุจุน**
   - `/api/tracking/interactions` - ุชุชุจุน ุงูุชูุงุนูุงุช
   - `/api/tracking/reading-session` - ุชุชุจุน ุฌูุณุงุช ุงููุฑุงุกุฉ

6. **ููููุงุช ุงูุนููู**
   - `TrackingManager` - ุฅุฏุงุฑุฉ ุงูุชุชุจุน ูู ุงููุชุตูุญ
   - `ReadingTracker` - ุชุชุจุน ุณููู ุงููุฑุงุกุฉ
   - React Hooks ููุงุณุชุฎุฏุงู ุงูุณูู

## ๐ ุฃููุงุน ุงูุจูุงูุงุช ุงููุฌูุนุฉ

### 1. ุชูุงุนูุงุช ุงููุณุชุฎุฏู
```typescript
interface InteractionEvent {
  article_id: string;
  interaction_type: 'like' | 'save' | 'share' | 'comment' | 'view';
  timestamp: string;
  context: {
    device_type: string;
    browser_type: string;
    ip_address: string;
    page_url: string;
  };
}
```

### 2. ุณููู ุงููุฑุงุกุฉ
```typescript
interface ReadingSession {
  session_id: string;
  article_id: string;
  duration_seconds: number;
  read_percentage: number;
  scroll_depth: number;
  pause_points: PausePoint[];
  interactions: ReadingInteraction[];
  highlights: TextHighlight[];
  reading_pattern: ReadingPattern;
}
```

### 3. ุจูุงูุงุช ุงูุณูุงู
```typescript
interface ContextData {
  device: DeviceInfo;
  location: LocationInfo;
  network: NetworkInfo;
  app_context: AppContext;
  performance: PerformanceMetrics;
}
```

## ๐ ุงูุฎุตูุตูุฉ ูุงูุฃูุงู

### ูุณุชููุงุช ุงูุฎุตูุตูุฉ

1. **ุฅููุงู ูุงูู** (`OFF`)
   - ูุง ูุชู ุฌูุน ุฃู ุจูุงูุงุช
   - ุงููุณุชุฎุฏู ูุชุตูุญ ุจุดูู ูุฌููู ุชูุงูุงู

2. **ุงูุญุฏ ุงูุฃุฏูู** (`MINIMAL`)
   - ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ ููุท ููุชุดุบูู
   - ูุง ุชูุฌุฏ ุจูุงูุงุช ุดุฎุตูุฉ
   - ุฅุฎูุงุก ูููุฉ ูุงูู

3. **ูุชูุงุฒู** (`BALANCED`) - ุงูุงูุชุฑุงุถู
   - ุชูุงุฒู ุจูู ุงูุฎุตูุตูุฉ ูุงููุธุงุฆู
   - ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
   - ุฅุฎูุงุก ุงููููุฉ ูููุนุฑูุงุช

4. **ูุงูู** (`FULL`)
   - ุฌูุน ุดุงูู ููุจูุงูุงุช
   - ุชุฎุตูุต ูุชูุฏู ูุชูุตูุงุช ุฐููุฉ

### ููุฒุงุช ุงูุญูุงูุฉ

- **ุชุดููุฑ ุงูุจูุงูุงุช**: ุฌููุน ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ ูุดูุฑุฉ
- **ุฅุฎูุงุก ุงููููุฉ**: ุงุณุชุจุฏุงู ุงููุนุฑูุงุช ุงูุดุฎุตูุฉ
- **Rate Limiting**: ุญูุงูุฉ ูู ุงูุงุณุชุฎุฏุงู ุงูููุฑุท
- **ุงูุชูุงุก ุงูุตูุงุญูุฉ**: ุญุฐู ุงูุจูุงูุงุช ุงููุฏููุฉ ุชููุงุฆูุงู
- **ุญู ุงููุณูุงู**: ุฅููุงููุฉ ุญุฐู ุฌููุน ุงูุจูุงูุงุช

## ๐ ุงูุชุทุจูู ูุงูุงุณุชุฎุฏุงู

### 1. ุชููุฆุฉ ุงููุธุงู

```typescript
import { initializeTracking } from '@/lib/tracking/client/tracking-manager';

// ุชููุฆุฉ ุงูุชุชุจุน
await initializeTracking(userId, {
  enabledEvents: ['interaction', 'reading_session'],
  privacyMode: false,
  debug: true
});
```

### 2. ุงุณุชุฎุฏุงู React Hooks

```typescript
import { useUserTracking, useArticleTracking } from '@/hooks/useUserTracking';

function ArticlePage({ articleId }: { articleId: string }) {
  const tracking = useArticleTracking(articleId);

  const handleLike = () => {
    tracking.trackLike();
  };

  const handleHighlight = (text: string, start: number, end: number) => {
    tracking.highlightText(text, start, end);
  };

  return (
    <div>
      <button onClick={handleLike}>ุฅุนุฌุงุจ</button>
      {/* ุจุงูู ุงููุญุชูู */}
    </div>
  );
}
```

### 3. ุชุชุจุน ูุฎุตุต

```typescript
import { getTrackingManager } from '@/lib/tracking/client/tracking-manager';

const trackingManager = getTrackingManager();

// ุชุชุจุน ุญุฏุซ ูุฎุตุต
trackingManager.trackInteraction('custom_action', 'article-123', {
  custom_data: 'value'
});

// ุชุชุจุน ุฌูุณุฉ ูุฑุงุกุฉ
trackingManager.trackReadingSession({
  article_id: 'article-123',
  duration_seconds: 120,
  read_percentage: 85
});
```

## ๐ ุงูุชุญูููุงุช ูุงูุฑุคู

### 1. ุชุญููู ุฌูุฏุฉ ุงููุฑุงุกุฉ

ุงููุธุงู ูุญูู ุฌูุฏุฉ ุงููุฑุงุกุฉ ุจูุงุกู ุนูู:
- **ุงููุฏุฉ**: ููุช ุงููุฑุงุกุฉ ุงููุนูู
- **ุงูุนูู**: ูุณุจุฉ ุงูุชูุฑูุฑ ูุงููุฑุงุกุฉ
- **ุงูุชูุงุนู**: ุงูููุฑุงุช ูุงูุชูููุฒ ูุงูุชูููุงุช
- **ุงูุงูุชุจุงู**: ูุชุฑุงุช ุงูุชุฑููุฒ ูุงููุฑุงุฌุนุฉ

```typescript
interface ReadingQuality {
  is_quality_reading: boolean;
  quality_score: number; // 0-100
  estimated_comprehension: number;
  reading_thoroughness: number;
}
```

### 2. ูุณุชูู ุงูุชูุงุนู

```typescript
interface EngagementLevel {
  engagement_score: number; // 0-100
  engagement_level: 'ููุฎูุถ ุฌุฏุงู' | 'ููุฎูุถ' | 'ูุชูุณุท' | 'ุนุงูู' | 'ุนุงูู ุฌุฏุงู';
  contributing_factors: string[];
}
```

### 3. ุฃููุงุท ุงููุฑุงุกุฉ

```typescript
interface ReadingStyle {
  primary_style: 'ุณุฑูุน' | 'ูุชุฃูู' | 'ุชุญูููู' | 'ูุณุญ ุณุฑูุน' | 'ุนุงุฏู';
  characteristics: string[];
  reading_speed_wpm: number;
  scroll_pattern: ScrollPattern;
}
```

## ๐ง ุงูุฅุนุฏุงุฏุงุช ูุงูุชุฎุตูุต

### ุฅุนุฏุงุฏุงุช ุงูุชุชุจุน

```typescript
interface TrackingConfig {
  enabledEvents: TrackingEventType[];
  batchSize: number; // ุนุฏุฏ ุงูุฃุญุฏุงุซ ูู ุงููุฌููุนุฉ
  flushInterval: number; // ูุชุฑุฉ ุงูุฅุฑุณุงู ุจุงููููู ุซุงููุฉ
  enableOfflineQueue: boolean; // ุชุฎุฒูู ูุญูู ููุฃุญุฏุงุซ
  privacyMode: boolean; // ูุถุน ุงูุฎุตูุตูุฉ
  debug: boolean; // ูุถุน ุงูุชุทููุฑ
  apiEndpoint: string; // ููุทุฉ ุงูููุงูุฉ ููAPI
}
```

### ุฅุนุฏุงุฏุงุช ุงูุฎุตูุตูุฉ

```typescript
interface PrivacyPolicy {
  level: PrivacyLevel;
  dataRetentionDays: number; // ูุฏุฉ ุงูุงุญุชูุงุธ ุจุงูุจูุงูุงุช
  allowedDataTypes: SensitiveDataType[]; // ุฃููุงุน ุงูุจูุงูุงุช ุงููุณููุญุฉ
  anonymizeData: boolean; // ุฅุฎูุงุก ุงููููุฉ
  encryptData: boolean; // ุชุดููุฑ ุงูุจูุงูุงุช
  shareWithThirdParties: boolean; // ูุดุงุฑูุฉ ูุน ุฃุทุฑุงู ุซุงูุซุฉ
  geoLocationTracking: boolean; // ุชุชุจุน ุงููููุน
  crossSiteTracking: boolean; // ุชุชุจุน ุนุจุฑ ุงูููุงูุน
}
```

## ๐งช ุงูุงุฎุชุจุงุฑุงุช

### 1. ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ
- ุงุฎุชุจุงุฑ ุฏูุงู ุงูุชุญููู ูุงูุชุตููุฉ
- ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
- ุงุฎุชุจุงุฑ ุงูุชุดููุฑ ูุฅุฎูุงุก ุงููููุฉ

### 2. ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู
- ุงุฎุชุจุงุฑ ุชุฏูู ุงูุจูุงูุงุช ุงููุงูู
- API endpoints
- ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูุชุฎุฒูู

### 3. ุงุฎุชุจุงุฑุงุช ุงูุฃุฏุงุก
- ูุนุงูุฌุฉ ุงูุฃุญุฏุงุซ ุงููุซูุฑุฉ
- ุงูุงุณุชุฌุงุจุฉ ุชุญุช ุงูุถุบุท
- ุงุณุชููุงู ุงูุฐุงูุฑุฉ

### ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช

```bash
# ุฌููุน ุงุฎุชุจุงุฑุงุช ุงูุชุชุจุน
npm test __tests__/tracking/

# ุงุฎุชุจุงุฑุงุช ูุญุฏุฏุฉ
npm test __tests__/tracking/user-interactions.test.ts
npm test __tests__/tracking/reading-behavior.test.ts
npm test __tests__/tracking/privacy-manager.test.ts
```

## ๐ ูุฑุงูุจุฉ ุงูุฃุฏุงุก

### ุงูููุงููุณ ุงูุฑุฆูุณูุฉ

1. **ูุนุฏู ุงูุฃุญุฏุงุซ**: ุนุฏุฏ ุงูุฃุญุฏุงุซ ุงููุนุงูุฌุฉ ูู ุงูุซุงููุฉ
2. **ููุช ุงูุงุณุชุฌุงุจุฉ**: ูุชูุณุท ููุช ูุนุงูุฌุฉ ุงูุทูุจุงุช
3. **ูุนุฏู ุงูุฃุฎุทุงุก**: ูุณุจุฉ ุงูุฃุญุฏุงุซ ุงููุงุดูุฉ
4. **ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ**: ุงุณุชููุงู ุงูุฐุงูุฑุฉ ูููุนุงูุฌุฉ
5. **ุญุฌู ุงูุจูุงูุงุช**: ููุฏุงุฑ ุงูุจูุงูุงุช ุงููุนุงูุฌุฉ ููููุงู

### ุงูุชูุจููุงุช

- ุชูุจูู ุนูุฏ ุงุฑุชูุงุน ูุนุฏู ุงูุฃุฎุทุงุก > 5%
- ุชูุจูู ุนูุฏ ุฒูุงุฏุฉ ููุช ุงูุงุณุชุฌุงุจุฉ > 2 ุซุงููุฉ
- ุชูุจูู ุนูุฏ ุงูุชูุงุก ูุงุฆูุฉ ุงูุงูุชุธุงุฑ
- ุชูุจูู ุนูุฏ ูุดู ุงูุนูููุงุช ุงููุฌูุนุฉ

## ๐ ุงูุชุญุฏูุซ ูุงูุตูุงูุฉ

### 1. ุชุญุฏูุซ ุงููุฎุทุทุงุช
ุนูุฏ ุชุบููุฑ ูุฎุทุท ุงูุจูุงูุงุชุ ูุฌุจ:
- ุชุญุฏูุซ Zod schemas
- ุชุญุฏูุซ TypeScript interfaces
- ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช
- ุชุญุฏูุซ ุงูุชูุซูู

### 2. ุฅุถุงูุฉ ููุน ุชูุงุนู ุฌุฏูุฏ
```typescript
// 1. ุฅุถุงูุฉ ุงูููุน ุงูุฌุฏูุฏ
export type InteractionType = 'like' | 'save' | 'share' | 'comment' | 'view' | 'new_type';

// 2. ุชุญุฏูุซ ุงูููุงุท
const pointsMap: Record<string, number> = {
  'new_type': 3
};

// 3. ุชุญุฏูุซ ุงููุนุงูุฌุฉ
// 4. ุฅุถุงูุฉ ุงูุงุฎุชุจุงุฑุงุช
```

### 3. ุชูุธูู ุงูุจูุงูุงุช ุงููุฏููุฉ

```typescript
// ุชุดุบูู ุฏูุฑู ูุชูุธูู ุงูุจูุงูุงุช
await UserInteractionTracker.cleanupOldData(365); // ุญุฐู ุฃูุฏู ูู ุณูุฉ
```

## ๐ ุฃูุถู ุงูููุงุฑุณุงุช

### 1. ูููุทูุฑูู

- **ุงุณุชุฎุฏู ุงูู Hooks**: ุงุณุชุฎุฏู `useUserTracking` ู `useArticleTracking`
- **ุชุฌููุน ุงูุฃุญุฏุงุซ**: ูุง ุชุฑุณู ูู ุญุฏุซ ูููุฑุฏุงู
- **ุงูุชุญูู ูู ุงูุฎุตูุตูุฉ**: ุชุฃูุฏ ูู ุงูููุงููุฉ ูุจู ุงูุชุชุจุน
- **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**: ุชุนุงูู ูุน ูุดู ุงูุชุชุจุน ุจุดูู ุฌูุฏ

### 2. ููุฃุฏุงุก

- **ุงุณุชุฎุฏู ุงููุนุงูุฌุฉ ุงููุฌูุนุฉ**: ุชุฌููุน ุนุฏุฉ ุฃุญุฏุงุซ ูู ุทูุจ ูุงุญุฏ
- **ุงูุชุฎุฒูู ุงููุญูู**: ุงุณุชุฎุฏู offline queue ููููุซูููุฉ
- **ุถุบุท ุงูุจูุงูุงุช**: ููู ูู ุญุฌู ุงูุจูุงูุงุช ุงููุฑุณูุฉ
- **ุชุญุณูู ุงูุงุณุชุนูุงูุงุช**: ุงุณุชุฎุฏู indexes ููุงุณุจุฉ

### 3. ููุฎุตูุตูุฉ

- **ุงูููุงููุฉ ุฃููุงู**: ูุง ุชุฌูุน ุงูุจูุงูุงุช ุจุฏูู ููุงููุฉ
- **ุงูุดูุงููุฉ**: ุงุดุฑุญ ูููุณุชุฎุฏู ูุง ุชุฌูุนู
- **ุงูุญุฏ ุงูุฃุฏูู**: ุงุฌูุน ุฃูู ูุฏุฑ ูููู ูู ุงูุจูุงูุงุช
- **ุงูุญุฐู**: ูุฏู ุฎูุงุฑุงุช ุณููุฉ ูุญุฐู ุงูุจูุงูุงุช

## ๐จ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ

1. **ุงูุชุชุจุน ูุง ูุนูู**
   ```javascript
   // ุชุญูู ูู ุงูุชููุฆุฉ
   console.log('Tracking initialized:', trackingManager.isInitialized);
   
   // ุชุญูู ูู ุงูููุงููุฉ
   console.log('Consent valid:', PrivacyManager.validateConsent());
   ```

2. **ุงูุจูุงูุงุช ูุง ุชุตู ููุฎุงุฏู**
   ```javascript
   // ุชุญูู ูู ุงูุดุจูุฉ
   console.log('Online:', navigator.onLine);
   
   // ุชุญูู ูู ุงูุฃุญุฏุงุซ ุงููุญููุฉ
   console.log('Offline events:', localStorage.getItem('tracking_offline_events'));
   ```

3. **ุฃุฏุงุก ุจุทูุก**
   ```javascript
   // ููู ูู ุชูุฑุงุฑ ุงูุฅุฑุณุงู
   const manager = getTrackingManager({
     flushInterval: 60000, // ุฏูููุฉ ูุงุญุฏุฉ
     batchSize: 20 // ูุฌููุนุงุช ุฃูุจุฑ
   });
   ```

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

ููุญุตูู ุนูู ุงููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงูู:

1. **ุงููุซุงุฆู**: ุฑุงุฌุน ูุฐุง ุงูููู ูุงูุชุนูููุงุช ูู ุงูููุฏ
2. **ุงูุงุฎุชุจุงุฑุงุช**: ุงูุธุฑ ููุงุฎุชุจุงุฑุงุช ูุฃูุซูุฉ ุนูู ุงูุงุณุชุฎุฏุงู
3. **ุงููุทูุฑูู**: ุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ
4. **GitHub Issues**: ุฃูุดุฆ issue ูู ุงููุณุชูุฏุน

## ๐ฎ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ููุฒุงุช ูุฎุทุท ููุง

1. **ุชุญูููุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู**
   - ุชููุน ุณููู ุงููุณุชุฎุฏู
   - ุชูุตูุงุช ูุญุชูู ุฐููุฉ
   - ูุดู ุงูุฃููุงุท ุบูุฑ ุงูุนุงุฏูุฉ

2. **ุชุชุจุน ุงูููุช ุงููุนูู**
   - ุชุญุฏูุซุงุช ูุจุงุดุฑุฉ
   - ุชุญูููุงุช ูุญุธูุฉ
   - ุชูุจููุงุช ููุฑูุฉ

3. **ุชูุงูู ุฃูุณุน**
   - Google Analytics
   - Facebook Pixel
   - ุฃุฏูุงุช ุชุญููู ุฃุฎุฑู

4. **ููุฒุงุช ูุชูุฏูุฉ**
   - A/B testing
   - Heat maps
   - Session recordings

---

**ุชู ุฅูุดุงุก ูุฐุง ุงููุธุงู ุจุนูุงูุฉ ูุถูุงู ุงูุชูุงุฒู ุจูู ุงูุญุตูู ุนูู ุฑุคู ูููุฉ ูุงุญุชุฑุงู ุฎุตูุตูุฉ ุงููุณุชุฎุฏููู. ุฌููุน ุงูุจูุงูุงุช ูุญููุฉ ููุดูุฑุฉุ ููููู ูููุณุชุฎุฏููู ุงูุชุญูู ุงููุงูู ูู ูุณุชูู ุงููุดุงุฑูุฉ.**

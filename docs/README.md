# 📚 دليل التوثيق - صحيفة سبق الذكية

## 📅 آخر تحديث: 19 يونيو 2025

---

## 🎯 الملفات المتوفرة

### ✅ 1. التوثيق الشامل
📄 **الملف**: [`COMPREHENSIVE_DOCUMENTATION.md`](./COMPREHENSIVE_DOCUMENTATION.md)

يحتوي على:
- نظرة عامة على المشروع
- هيكل قواعد البيانات التفصيلي
- جميع المتغيرات الأساسية
- دليل واجهات برمجة التطبيقات
- خريطة الربط بين الأنظمة
- نظام التخزين المؤقت
- الأنظمة الفرعية

---

### ✅ 2. مرجع واجهات برمجة التطبيقات
📄 **الملف**: [`api-reference.md`](./api-reference.md)

يحتوي على:
- جميع نقاط النهاية (Endpoints)
- أمثلة الطلبات والاستجابات
- معاملات الاستعلام
- رموز الأخطاء
- أمثلة التكامل

---

### ✅ 3. مخطط قاعدة البيانات
📄 **الملف**: [`schema.sql`](./schema.sql)

يحتوي على:
- جميع الجداول وحقولها
- العلاقات (Foreign Keys)
- الفهارس (Indexes)
- المشاهدات (Views)
- المحفزات (Triggers)
- البيانات الأولية

---

### ✅ 4. خريطة العلاقات بين الكيانات
📄 **الملف**: [`entity-relationship-map.md`](./entity-relationship-map.md)

يحتوي على:
- مخططات ERD
- تفاصيل العلاقات
- سيناريوهات الاستخدام
- قواعد التكامل
- استعلامات مفيدة

---

## 📊 المخططات البصرية

### 1. خريطة الأنظمة
```
المستخدم → المتصفح → Next.js → APIs → منطق الأعمال → البيانات
```

### 2. تدفق البيانات
```
تفاعل → تسجيل → حساب نقاط → تحديث مستوى → عرض للمستخدم
```

### 3. هيكل المجلدات
```
sabq-ai-cms-new/
├── app/          # صفحات التطبيق
├── components/   # المكونات
├── data/         # ملفات JSON
├── lib/          # المكتبات
├── public/       # الملفات العامة
└── docs/         # التوثيق
```

---

## 🚀 البدء السريع

### 1. للمطورين الجدد
ابدأ بقراءة:
1. `COMPREHENSIVE_DOCUMENTATION.md` - للفهم العام
2. `api-reference.md` - لفهم APIs
3. `entity-relationship-map.md` - لفهم البيانات

### 2. للمطورين الحاليين
راجع:
- `schema.sql` - للتغييرات في البيانات
- `api-reference.md` - للنقاط الجديدة

### 3. لفريق الإدارة
اطلع على:
- قسم "نظرة عامة" في `COMPREHENSIVE_DOCUMENTATION.md`
- قسم "خريطة الربط" لفهم التكامل

---

## 🔍 البحث السريع

### المتغيرات الأساسية:
- `userId`: معرف المستخدم
- `articleId`: معرف المقال
- `categoryId`: معرف التصنيف
- `loyaltyPoints`: نقاط الولاء

### APIs الرئيسية:
- `/api/auth/login` - تسجيل الدخول
- `/api/articles` - المقالات
- `/api/users` - المستخدمين
- `/api/loyalty/points` - نقاط الولاء

### الملفات الرئيسية:
- `users.json` - بيانات المستخدمين
- `articles.json` - بيانات المقالات
- `categories.json` - التصنيفات
- `user_loyalty_points.json` - نقاط الولاء

---

## 📝 ملاحظات مهمة

### ⚠️ التنبيهات:
1. **التخزين**: المشروع يستخدم ملفات JSON حالياً (مؤقت)
2. **الأمان**: كلمات المرور غير مشفرة في البيانات التجريبية
3. **الأداء**: يُنصح بالترحيل لقاعدة بيانات للإنتاج

### 🎯 الأولويات:
1. توحيد نظام الولاء ✅
2. تحسين أداء APIs
3. إضافة نظام Cache
4. تطبيق أمان متقدم

---

## 🤝 المساهمة في التوثيق

عند إضافة ميزة جديدة:
1. حدّث `api-reference.md` إذا أضفت API
2. حدّث `schema.sql` إذا غيرت البيانات
3. حدّث `COMPREHENSIVE_DOCUMENTATION.md` للتغييرات الكبيرة

---

## 📞 للمساعدة

- **المشاكل التقنية**: راجع `api-reference.md`
- **فهم البيانات**: راجع `entity-relationship-map.md`
- **الأسئلة العامة**: راجع `COMPREHENSIVE_DOCUMENTATION.md`

---

جميع الوثائق محدثة حتى تاريخ **19 يونيو 2025** 
# ูุนุงูุฌุฉ ุงูุฑูุงุจุท ุงูุนุฑุจูุฉ ูู ูุธุงู CMS

## ุงููุดููุฉ

ุนูุฏ ุงุณุชุฎุฏุงู ุนูุงููู (slugs) ุนุฑุจูุฉ ูู ุฑูุงุจุท ุงูููุงูุงุชุ ูุญุฏุซ ุฎุทุฃ "ุงูููุงู ุบูุฑ ูุชููุฑ" ูู ุงููููุน ุงููุจุงุดุฑ.

ูุซุงู:
```
https://sabq.io/article/ูู-ุฌุฑุนุงุช-ุงูุฃุทูุงู-ุฅูู-ุชูุณูู-ุงููุฑุต-4-ุฃุฎุทุงุก-ุดุงุฆุนุฉ-ูู-ุชูุงูู-ุงูุฃุฏููุฉ-ูุฏ-ุชุนุฑุถ-ุญูุงุชู-ููุฎุทุฑ
```

## ุงูุณุจุจ

1. ุงููุชุตูุญุงุช ุชููู ุจุชุฑููุฒ ุงูุฃุญุฑู ุงูุนุฑุจูุฉ ูู URL (URL encoding)
2. ุนูุฏูุง ูุตู ุงููุนุฑู ุงููุฑูุฒ ุฅูู APIุ ูุง ูุชู ูู ุชุฑููุฒู ุจุดูู ุตุญูุญ
3. ุงูุจุญุซ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุดู ูุฃู ุงููููุฉ ุงููุฑูุฒุฉ ูุง ุชุทุงุจู ุงููููุฉ ุงููุฎุฒูุฉ

## ุงูุญู ุงููุทุจู

### 1. ุชุญุฏูุซ API Routes (`app/api/articles/[id]/route.ts`)

```typescript
// ูู ุชุฑููุฒ ุงููุนุฑู ุฅุฐุง ูุงู ููุฑูุฒ (ููุนูุงููู ุงูุนุฑุจูุฉ)
let decodedId = id;
try {
  decodedId = decodeURIComponent(id);
  console.log(`๐ ูุนุงูุฌุฉ ูุนุฑู ุงูููุงู: ${id} -> ${decodedId}`);
} catch (error) {
  console.warn('โ๏ธ ุชุนุฐุฑ ูู ุชุฑููุฒ ุงููุนุฑูุ ุงุณุชุฎุฏุงู ุงููููุฉ ุงูุฃุตููุฉ:', id);
}

// ุงูุจุญุซ ุจุซูุงุซ ููู ูุถูุงู ุงูุนุซูุฑ ุนูู ุงูููุงู
const dbArticle = await prisma.articles.findFirst({
  where: {
    OR: [
      { id: decodedId },
      { slug: decodedId },
      { slug: id } // ุงูุจุญุซ ุจุงููููุฉ ุงูุฃุตููุฉ ุฃูุถุงู
    ]
  }
});
```

### 2. ุชุญุฏูุซ ุตูุญุฉ ุงูููุงู (`app/article/[id]/page.tsx`)

```typescript
// ูุนุงูุฌุฉ URL-encoded IDs
let articleId = resolvedParams.id;
try {
  const decodedId = decodeURIComponent(articleId);
  console.log(`[ArticlePage] ูุนุงูุฌุฉ ุงููุนุฑู: ${articleId} -> ${decodedId}`);
  articleId = decodedId;
} catch (error) {
  console.error(`[ArticlePage] ุฎุทุฃ ูู ูู ุชุฑููุฒ ุงููุนุฑู:`, error);
}
```

### 3. ุชุญุฏูุซ lib/article-api.ts

```typescript
// ุชุฑููุฒ ุงููุนุฑู ููุชุฃูุฏ ูู ุตุญุฉ URL
const encodedId = encodeURIComponent(id);
const apiUrl = `${baseUrl}/api/articles/${encodedId}`;
```

## ุงูุชุญุณููุงุช ุงููุทุจูุฉ

1. **ูุนุงูุฌุฉ ุดุงููุฉ ููุชุฑููุฒ**: ูู ุชุฑููุฒ ูู ุฌููุน ููุงุท ุงูุฏุฎูู (GET, PATCH, DELETE, PUT)
2. **ุจุญุซ ูุชุนุฏุฏ**: ุงูุจุญุซ ุจุงููููุฉ ุงููููููุฉ ูุงูุฃุตููุฉ ูุถูุงู ุงูุนุซูุฑ ุนูู ุงูููุงู
3. **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**: try-catch ููุนุงูุฌุฉ ุฃู ุฃุฎุทุงุก ูู ูู ุงูุชุฑููุฒ
4. **ุชุณุฌูู ุดุงูู**: console.log ูุชุชุจุน ุงููุนุงูุฌุฉ ูุชุณููู ุชุดุฎูุต ุงููุดุงูู

## ุงุฎุชุจุงุฑ ุงูุญู

1. ุงูุชุญ ุฑุงุจุท ููุงู ุจุนููุงู ุนุฑุจู
2. ุชุญูู ูู console logs ูู ุงูุณูุฑูุฑ
3. ูุฌุจ ุฃู ูุธูุฑ ุงูููุงู ุจุดูู ุตุญูุญ

## ููุงููู ูููุฉ

### URL Encoding
- ุงูุฃุญุฑู ุงูุนุฑุจูุฉ ูุชู ุชุฑููุฒูุง ุฅูู %XX format
- ูุซุงู: `ูู` ุชุตุจุญ `%D9%85%D9%86`

### decodeURIComponent
- ุฏุงูุฉ JavaScript ููู ุชุฑููุฒ URL
- ูุฌุจ ุงุณุชุฎุฏุงููุง ูุน try-catch ููุนุงูุฌุฉ ุงูุฃุฎุทุงุก

## ุชูุตูุงุช ุฅุถุงููุฉ

1. **ุงุณุชุฎุฏุงู ูุนุฑูุงุช ุจุฏููุฉ**: ููุฑ ูู ุงุณุชุฎุฏุงู ูุนุฑูุงุช ุฑูููุฉ ุฃู alphanumeric ุจุฏูุงู ูู ุงูุนูุงููู ุงูุนุฑุจูุฉ
2. **ุฅุถุงูุฉ ูุนุฑู ุซุงููู**: ุงุญุชูุธ ุจู slug ุนุฑุจู ููุนุฑุถ ููุนุฑู ุฅูุฌููุฒู ููุฑูุงุจุท
3. **ุชุญุณูู ุงูุฃุฏุงุก**: ุงุณุชุฎุฏู indexes ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนูู ุญููู slug ู id

## ูุซุงู ูููุท URL ุจุฏูู

```
/article/1234/ูู-ุฌุฑุนุงุช-ุงูุฃุทูุงู-ุฅูู-ุชูุณูู-ุงููุฑุต
```

ุญูุซ `1234` ูู ุงููุนุฑู ุงููุนูู ูุงูุจุงูู ููุนุฑุถ ููุท. 
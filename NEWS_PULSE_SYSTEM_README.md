# ๐ก ูุธุงู ุดุฑูุท ุงููุจุถ ุงูุฅุฎุจุงุฑู - News Pulse Ticker System

## ูุธุฑุฉ ุนุงูุฉ

ุดุฑูุท ุงููุจุถ ุงูุฅุฎุจุงุฑู ูู ูุธุงู ุชูุงุนูู ูุนุฑุถ ุขุฎุฑ ุงูุฃุฎุจุงุฑ ูุงูุชุญุฏูุซุงุช ุงููููุฉ ูู ุฃุนูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ. ูููุฑ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุณุฉ ูุน ุฅุดุนุงุฑุงุช ูุชุญุฑูุฉ ูุฅุญุตุงุฆูุงุช ุชูุงุนููุฉ.

## โจ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### ๐ฏ ูููุณุชุฎุฏููู:
- **ุนุฑุถ ุชููุงุฆู**: ุฅุดุนุงุฑุงุช ูุชุญุฑูุฉ ุชุชุจุฏู ูู 5 ุซูุงูู
- **ุชุตูููุงุช ูุชููุนุฉ**: ุนุงุฌูุ ุชุญููู ุนูููุ ุฌุฑุนุฉ ุฐููุฉุ ูุงุฆุฏ ุฑุฃู
- **ุชุตููู ุชูุงุนูู**: ุฃููููุงุช ูุฃููุงู ูุฎุชููุฉ ููู ููุน
- **ูุคุดุฑ ุงูุชูุฏู**: ุดุฑูุท ูุชุญุฑู ููุถุญ ูุฏุฉ ุนุฑุถ ูู ุฅุดุนุงุฑ
- **ุฑูุงุจุท ุฐููุฉ**: ุชุณุฌูู ุงููุดุงูุฏุงุช ูุงูููุฑุงุช ุชููุงุฆูุงู

### โ๏ธ ูููุดุฑููู:
- **ููุญุฉ ุฅุฏุงุฑุฉ ุดุงููุฉ**: ุฅุถุงูุฉ ูุฅุฏุงุฑุฉ ุงูุฅุดุนุงุฑุงุช
- **ุฅุญุตุงุฆูุงุช ููุตูุฉ**: ูุดุงูุฏุงุช ูููุฑุงุช ููู ุฅุดุนุงุฑ
- **ุงูุชูุงุก ุตูุงุญูุฉ ุชููุงุฆู**: ุญุฐู ุงูุฅุดุนุงุฑุงุช ุงูููุชููุฉ ุงูุตูุงุญูุฉ
- **ุฃููููุงุช ูุชูุฏูุฉ**: ุชุฑุชูุจ ุงูุฅุดุนุงุฑุงุช ุญุณุจ ุงูุฃูููุฉ

## ๐๏ธ ุงูุจููุฉ ุงูุชูููุฉ

### ูุงุนุฏุฉ ุงูุจูุงูุงุช
```sql
-- ุฌุฏูู ุงูุฅุดุนุงุฑุงุช
CREATE TABLE pulse_notifications (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    type pulse_type NOT NULL,
    title TEXT NOT NULL,
    target_url TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT NOW(),
    expires_at TIMESTAMP NULL,
    priority INTEGER DEFAULT 1,
    views_count INTEGER DEFAULT 0,
    clicks_count INTEGER DEFAULT 0,
    is_active BOOLEAN DEFAULT true
);

-- ุฃููุงุน ุงูุฅุดุนุงุฑุงุช
CREATE TYPE pulse_type AS ENUM (
    'deep_analysis',
    'smart_dose',
    'opinion_leader',
    'breaking_news',
    'custom'
);
```

### API Endpoints

#### `GET /api/pulse/active`
ุฌูุจ ุงูุฅุดุนุงุฑุงุช ุงููุดุทุฉ ูุฑุชุจุฉ ุญุณุจ ุงูุฃููููุฉ ูุงูุชุงุฑูุฎ

**Response:**
```json
{
  "success": true,
  "notifications": [
    {
      "id": "uuid",
      "type": "breaking_news",
      "title": "ุนููุงู ุงูุฅุดุนุงุฑ",
      "target_url": "https://example.com",
      "created_at": "2025-01-28T10:00:00Z",
      "priority": 5,
      "views_count": 150,
      "clicks_count": 25
    }
  ],
  "stats": {
    "total_active": 5,
    "total_views": 1250,
    "total_clicks": 89
  }
}
```

#### `POST /api/pulse/active`
ุฅุถุงูุฉ ุฅุดุนุงุฑ ุฌุฏูุฏ

**Request Body:**
```json
{
  "type": "breaking_news",
  "title": "ูุต ุงูุฅุดุนุงุฑ ุงูุฌุฏูุฏ",
  "target_url": "https://example.com/article",
  "priority": 5,
  "expires_at": "2025-01-30T23:59:59Z"
}
```

#### `PATCH /api/pulse/active`
ุชุญุฏูุซ ุฅุญุตุงุฆูุงุช ุงูุฅุดุนุงุฑ

**Request Body:**
```json
{
  "id": "notification-uuid",
  "action": "view" // ุฃู "click"
}
```

## ๐จ ุงูููููุงุช (Components)

### NewsPulseTicker
ุงููููู ุงูุฑุฆูุณู ูุนุฑุถ ุดุฑูุท ุงููุจุถ

```tsx
<NewsPulseTicker
  className="mb-6"
  autoRefresh={true}
  refreshInterval={30000}
  displayDuration={5000}
/>
```

**Props:**
- `className`: ูุฆุงุช CSS ุฅุถุงููุฉ
- `autoRefresh`: ุงูุชุญุฏูุซ ุงูุชููุงุฆู (ุงูุชุฑุงุถู: true)
- `refreshInterval`: ูุชุฑุฉ ุงูุชุญุฏูุซ ุจุงููููู ุซุงููุฉ (ุงูุชุฑุงุถู: 30000)
- `displayDuration`: ูุฏุฉ ุนุฑุถ ูู ุฅุดุนุงุฑ (ุงูุชุฑุงุถู: 5000)

### PulseAdminPanel
ููุญุฉ ุฅุฏุงุฑุฉ ุงูุฅุดุนุงุฑุงุช (ูุฎุตุตุฉ ูููุดุฑููู)

```tsx
// ุงููุตูู ุนุจุฑ: /admin/pulse
<PulseAdminPanel />
```

## ๐ฏ ุฃููุงุน ุงูุฅุดุนุงุฑุงุช

| ุงูููุน            | ุงูุฃููููุฉ | ุงูููู  | ุงููุตู                   |
| ---------------- | -------- | ------ | ----------------------- |
| `breaking_news`  | โก        | ุฃุญูุฑ   | ุงูุฃุฎุจุงุฑ ุงูุนุงุฌูุฉ ูุงููููุฉ |
| `deep_analysis`  | ๐        | ุฃุฒุฑู   | ุงูุชุญูููุงุช ุงููุนููุฉ       |
| `smart_dose`     | ๐ก        | ุฃุฎุถุฑ   | ุงูุฌุฑุนุงุช ุงูุฐููุฉ          |
| `opinion_leader` | ๐ค        | ุจููุณุฌู | ุขุฑุงุก ูุงุฏุฉ ุงูููุฑ         |
| `custom`         | โช        | ุฑูุงุฏู  | ุฅุดุนุงุฑุงุช ูุฎุตุตุฉ           |

## ๐ ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### 1. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
# ุชุดุบูู ููู SQL
psql -d your_database -f pulse_notifications.sql
```

### 2. ุฅุถุงูุฉ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ
```env
# ูุชุทูุจุงุช Supabase
SUPABASE_URL=your_supabase_url
SUPABASE_ANON_KEY=your_anon_key
```

### 3. ุชุดุบูู ุชูุธูู ุงูุจูุงูุงุช ุงูุชููุงุฆู
```sql
-- ุฅุนุฏุงุฏ cron job ูุญุฐู ุงูุฅุดุนุงุฑุงุช ุงูููุชููุฉ ุงูุตูุงุญูุฉ
SELECT cron.schedule('cleanup-expired-pulse', '0 0 * * *', 'SELECT cleanup_expired_pulse_notifications();');
```

## ๐ ูุฑุงูุจุฉ ุงูุฃุฏุงุก

### ุงูุฅุญุตุงุฆูุงุช ุงููุชุงุญุฉ:
- ุฅุฌูุงูู ุงูุฅุดุนุงุฑุงุช ุงููุดุทุฉ
- ุฅุฌูุงูู ุงููุดุงูุฏุงุช
- ุฅุฌูุงูู ุงูููุฑุงุช
- ูุนุฏู ุงูููุฑ (CTR)
- ุฃุฏุงุก ูู ููุน ูู ุงูุฅุดุนุงุฑุงุช

### ุงูุงุณุชุนูุงูุงุช ุงููููุฏุฉ:
```sql
-- ุฃูุถู ุงูุฅุดุนุงุฑุงุช ุฃุฏุงุกู
SELECT title, views_count, clicks_count,
       ROUND((clicks_count::float / NULLIF(views_count, 0)) * 100, 2) as ctr_percentage
FROM pulse_notifications
WHERE views_count > 0
ORDER BY ctr_percentage DESC;

-- ุฅุญุตุงุฆูุงุช ููููุฉ
SELECT DATE(created_at) as day,
       COUNT(*) as notifications_count,
       SUM(views_count) as total_views,
       SUM(clicks_count) as total_clicks
FROM pulse_notifications
GROUP BY DATE(created_at)
ORDER BY day DESC;
```

## ๐ ุงูุฃูุงู ูุงูุตูุงุญูุงุช

- **ุฅูุดุงุก ุงูุฅุดุนุงุฑุงุช**: ููุตูุฑ ุนูู ุงููุดุฑููู ููุท
- **ุนุฑุถ ุงูุฅุดุนุงุฑุงุช**: ูุชุงุญ ูุฌููุน ุงููุณุชุฎุฏููู
- **ุชุญุฏูุซ ุงูุฅุญุตุงุฆูุงุช**: ุชููุงุฆู ูุขูู
- **ุญุฐู ุงูุฅุดุนุงุฑุงุช**: ุงูุชูุงุก ุตูุงุญูุฉ ุชููุงุฆู

## ๐๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ:

1. **ุนุฏู ุธููุฑ ุงูุฅุดุนุงุฑุงุช**
   - ุชุฃูุฏ ูู ูุฌูุฏ ุฅุดุนุงุฑุงุช ูุดุทุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - ูุญุต ุงุชุตุงู Supabase
   - ุงูุชุญูู ูู console errors

2. **ุนุฏู ุชุณุฌูู ุงูุฅุญุตุงุฆูุงุช**
   - ูุญุต API endpoint `/api/pulse/active`
   - ุงูุชุฃูุฏ ูู ุตูุงุญูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

3. **ุจุทุก ูู ุงูุชุญููู**
   - ูุญุต ุงูููุงุฑุณ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - ุชุญุณูู ุงุณุชุนูุงูุงุช SQL

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ูููุฒุงุช ูุฎุทุทุฉ:
- [ ] ุฏุนู ุงูุตูุฑ ูู ุงูุฅุดุนุงุฑุงุช
- [ ] ุฅุดุนุงุฑุงุช ูุฌุฏููุฉ
- [ ] ุชูุงูู ูุน WebSockets ููุชุญุฏูุซุงุช ุงูููุฑูุฉ
- [ ] ุชุฎุตูุต ุงูุณุฑุนุฉ ูุงูุงุชุฌุงู
- [ ] ุฏุนู RTL/LTR ุฏููุงูููู
- [ ] ุชุตุฏูุฑ ุงูุฅุญุตุงุฆูุงุช ูู CSV/Excel

### ุชุญุณููุงุช ุงูุฃุฏุงุก:
- [ ] Cache ููุฅุดุนุงุฑุงุช ุงููุดุทุฉ
- [ ] Lazy loading ููุฅุญุตุงุฆูุงุช
- [ ] Service Worker ููุนูู offline

## ๐ค ุงููุณุงููุฉ

ูููุณุงููุฉ ูู ุชุทููุฑ ุงููุธุงู:

1. Fork ุงููุดุฑูุน
2. ุฅูุดุงุก branch ููููุฒุฉ ุงูุฌุฏูุฏุฉ
3. Commit ุงูุชุบููุฑุงุช
4. Push ุฅูู branch
5. ุฅูุดุงุก Pull Request

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช ุฑุฎุตุฉ MIT - ุฑุงุฌุน ููู LICENSE ููุชูุงุตูู.

---

**ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ ูุฑูู ุตุญููุฉ ุณุจู ุงูุฅููุชุฑูููุฉ** ๐

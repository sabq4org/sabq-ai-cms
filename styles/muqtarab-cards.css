/* Muqtarab cards styles - Compatible with theme system */

/* Special background for Muqtarab pages - Highest priority possible */
html, html *, body, body * {
  transition: background-color 0.1s ease;
}

body:has([data-page="muqtarab"]),
body:has([data-muqtarab="true"]),
body[data-muqtarab-page="true"],
html:has([data-page="muqtarab"]) body,
html:has([data-muqtarab="true"]) body {
  background: #f8f8f7 !important;
  background-color: #f8f8f7 !important;
}

/* إزالة الخلفية البيضاء من العناصر غير البطاقات */
[data-page="muqtarab"] > div:not(.card),
[data-muqtarab="true"] > div:not(.card) {
  background: transparent !important;
}

/* تطبيق مباشر على جميع عناصر الحاوية في صفحة مقترب */
[data-page="muqtarab"],
[data-muqtarab="true"] {
  background: #f8f8f7 !important;
  background-color: #f8f8f7 !important;
}

/* حل شامل للخلفية */
html:has([data-page="muqtarab"]),
html:has([data-page="muqtarab"]) body,
html:has([data-muqtarab="true"]),
html:has([data-muqtarab="true"]) body {
  background: #f8f8f7 !important;
  background-color: #f8f8f7 !important;
}

/* توسيط حاوية البطاقات */
.muqtarab-card-container {
  margin-left: auto;
  margin-right: auto;
  width: 100%;
}

/* إزالة أي تأثيرات غير مرغوبة على الزوايا */
[data-page="muqtarab"] .muqtarab-themed-card > div:first-child {
  position: relative !important;
  overflow: hidden !important;
}

/* إزالة الخطوط الملونة من بطاقات مقترب - معطل مؤقتاً */
/* .muqtarab-card-container div[class*="absolute"][style*="backgroundColor"] {
  display: none !important;
}

.muqtarab-card-container div[class*="absolute"][style*="background"] {
  display: none !important;
} */

/* تعطيل أي تداخل يفرض حدود/خلفية/ظلال على .group داخل مقترب */
/* تم إلغاء هذه القواعد لأنها تؤثر على التنسيق */

/* تطبيق ألوان الثيم على الليبلات */
.muqtarab-card-container div[style*="backgroundColor"][class*="rounded-full"] {
  background-color: rgba(59, 130, 246, 0.1) !important;
  color: #3b82f6 !important;
  border: 1px solid rgba(59, 130, 246, 0.2) !important;
}

/* تعطيل أي إعادة تنسيق لخطوط الفصل حتى لا تختلف عن بطاقة الأخبار */
.muqtarab-card-container .border-t {
  background-color: transparent;
  padding: 0;
  border-radius: 0;
  margin-top: 0;
}

/* أيقونات تتبع نظام الألوان المتغيرة مثل بطاقات الأخبار */
.muqtarab-card-container .text-xs svg,
.muqtarab-card-container .text-sm svg {
  color: inherit !important;
}

/* إزالة تأثير hover أزرق من الروابط */
.muqtarab-card-container a:hover,
.muqtarab-card-container a:hover h3,
.muqtarab-card-container .group:hover h3 {
  color: inherit !important;
}

/* إزالة تأثير transition من الروابط */
.muqtarab-card-container a,
.muqtarab-card-container .group {
  transition: none !important;
}

/* إلغاء أي تأثير hover على العناوين داخل مقترب لمطابقة بطاقات الأخبار */
.muqtarab-card-container h3:hover {
  color: inherit !important;
}



/* إزالة الخطوط الملونة من جميع المتغيرات */
.muqtarab-card-container .absolute.h-1,
.muqtarab-card-container .absolute.h-0\.5,
.muqtarab-card-container .absolute.w-0\.5,
.muqtarab-card-container .absolute.h-1\.5,
.muqtarab-card-container .absolute[class*="h-"][class*="transition"] {
  display: none !important;
}

/* إلغاء خط الفصل في الهيدر لعرض البلوك بدون حاوية */
.muqtarab-card-container > div > div:first-child {
  border-bottom: none;
  padding-bottom: 1rem;
  margin-bottom: 1.5rem;
}

.dark .muqtarab-card-container > div > div:first-child {
  border-color: transparent;
}

/* تطبيق عرض موحد مع البلوكات الأخرى */
.muqtarab-block-wrapper {
  width: 100%;
}

/* تحسين التباعد */
.muqtarab-card-container .grid {
  gap: 1.5rem;
}

/* إضافة لون الثيم للعناوين عند hover */
.muqtarab-card-container a:hover h3 {
  color: var(#3b82f6) !important;
  transition: color 0.3s ease;
}

/* الاعتماد على .category-pill العالمية مثل بطاقة الأخبار */
/* تم إلغاء هذه القاعدة لأنها تؤثر على التنسيق */

/* تخصيص لون الإطارات لبطاقات مقترب */
.muqtarab-card-container .group,
.muqtarab-card-container .border,
.muqtarab-card-container [class*="border-"],
.muqtarab-card-container .rounded-lg,
.muqtarab-card-container .rounded-xl {
  border-color: #f0f0ef !important;
}

/* في الوضع الليلي */
.dark .muqtarab-card-container .group,
.dark .muqtarab-card-container .border,
.dark .muqtarab-card-container [class*="border-"],
.dark .muqtarab-card-container .rounded-lg,
.dark .muqtarab-card-container .rounded-xl {
  border-color: #f0f0ef !important;
}

/* تخصيص خلفية البطاقات - إبقاء البطاقات بيضاء فقط، ليس الحاوية */
.muqtarab-card-container article,
.muqtarab-card-container .card:not(.muqtarab-card-container) {
  background-color: #ffffff !important;
}

.dark .muqtarab-card-container article,
.dark .muqtarab-card-container .card:not(.muqtarab-card-container) {
  background-color: #1f2937 !important;
}

/* شريط الفلاتر وعناصر التحكم - بقاء البطاقات بيضاء فقط */
.muqtarab-card-container .card .bg-white\/50,
.muqtarab-card-container .card [class*="bg-white"] {
  background-color: #ffffff !important;
  border: 1px solid #f0f0ef !important;
}

/* بطاقات المقال المميز - ضمان الخلفية البيضاء للبطاقات فقط */
.muqtarab-card-container article.card,
.muqtarab-card-container [data-card="hero"]:not(.min-h-screen),
[data-muqtarab="true"] .card:not(.min-h-screen),
[data-page="muqtarab"] .card:not(.min-h-screen) {
  background-color: #ffffff !important;
}

/* خلفيات MobileFeaturedImage - إبقاء البطاقات فقط بيضاء */
[data-muqtarab="true"] .card .bg-white,
[data-page="muqtarab"] .card .bg-white {
  background-color: #ffffff !important;
}

/* نظام الألوان المتغيرة لبطاقات مقترب */
[data-page="muqtarab"] .card,
[data-muqtarab="true"] .card {
  transition: all 0.3s ease;
}

[data-page="muqtarab"] .card:hover,
[data-muqtarab="true"] .card:hover {
  /* اللون المختار من نظام الألوان المتغيرة */
  background-color: rgba(59, 130, 246, 0.06) !important;
  transform: translateY(-2px);
  box-shadow: 0 4px 20px rgba(59, 130, 246, 0.15);
}

/* تأثيرات على عناصر البطاقات */
[data-page="muqtarab"] .card:hover .text-blue-500,
[data-muqtarab="true"] .card:hover .text-blue-500 {
  color: var(--card-accent) !important;
}

[data-page="muqtarab"] .card:hover [class*="text-blue-"],
[data-muqtarab="true"] .card:hover [class*="text-blue-"] {
  color: var(--card-accent) !important;
}

/* بطاقات MuqtarabCard المحددة */
.muqtarab-themed-card {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.muqtarab-themed-card:hover {
  /* fallback للأزرق الافتراضي ثم اللون المختار من الهيدر */
  background: rgba(59, 130, 246, 0.05) !important;
  background-color: rgba(59, 130, 246, 0.05) !important;
  background: rgba(59, 130, 246, 0.06) !important;
  background-color: rgba(59, 130, 246, 0.06) !important;
  transform: translateY(-1px);
  box-shadow: 0 8px 25px rgba(59, 130, 246, 0.12);
}

/* نسخة الصفحة الرئيسية (داخل .muqtarab-card-container) */
.muqtarab-card-container .card { transition: all 0.3s ease; }
.muqtarab-card-container .card:hover {
  /* fallback ثم اللون المختار */
  background-color: rgba(59, 130, 246, 0.05) !important;
  background-color: rgba(59, 130, 246, 0.06) !important;
}

/* عند اختيار "بلا لون" عُد للخلفية البيضاء بدون تلوين */
.muqtarab-card-container .card:hover,
[data-page="muqtarab"] .card:hover,
.muqtarab-themed-card:hover {
  background: #ffffff !important;
  background-color: #ffffff !important;
}

/* تأثيرات على النصوص والأيقونات */
.muqtarab-themed-card:hover .text-gray-600 {
  color: var(--card-accent) !important;
}

.muqtarab-themed-card:hover [class*="text-blue-"] {
  color: var(--card-accent) !important;
}

.muqtarab-themed-card:hover svg {
  color: var(--card-accent) !important;
}

/* تأثيرات الأزرار والفلاتر */
[data-page="muqtarab"] .btn,
[data-page="muqtarab"] button,
[data-page="muqtarab"] Button {
  transition: all 0.3s ease;
}

[data-page="muqtarab"] .btn:hover,
[data-page="muqtarab"] button:hover,
[data-page="muqtarab"] Button:hover {
  background-color: var(#3B82F6 !important;
  border-color: var(#3B82F6 !important;
  color: white !important;
}

/* أزرار البطاقات بنظام الألوان المتغيرة */
[data-page="muqtarab"] .card button,
[data-muqtarab="true"] .card button,
[data-page="muqtarab"] .card Button,
[data-muqtarab="true"] .card Button {
  background-color: var(#3B82F6 !important;
  border-color: var(#3B82F6 !important;
  color: white !important;
}

[data-page="muqtarab"] .card button:hover,
[data-muqtarab="true"] .card button:hover,
[data-page="muqtarab"] .card Button:hover,
[data-muqtarab="true"] .card Button:hover {
  background-color: #2563EB !important;
  border-color: #2563EB !important;
}

/* تأثيرات البحث */
[data-page="muqtarab"] .search-input:focus {
  border-color: var(#3b82f6, hsl(212 90% 50%)) !important;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
}

/* تأثيرات الإحصائيات والأيقونات */
[data-page="muqtarab"] .stats-icon,
[data-page="muqtarab"] .header-icon {
  transition: color 0.3s ease;
}

[data-page="muqtarab"] .stats-icon:hover,
[data-page="muqtarab"] .header-icon:hover {
  color: var(#3b82f6, hsl(212 90% 50%)) !important;
}

/* تحسين شريط الإحصائيات */
[data-page="muqtarab"] [class*="backdrop-blur"] {
  border: 1px solid rgba(59, 130, 246, 0.2) !important;
}

/* تأثيرات الهيدر والأيقونة الرئيسية */
[data-page="muqtarab"] .header-main-icon,
.themed-gradient-bg {
  background: linear-gradient(135deg, var(#3B82F6, #2563EB) !important;
  transition: all 0.3s ease;
}

[data-page="muqtarab"] .header-main-icon:hover {
  transform: scale(1.05);
  box-shadow: 0 8px 30px rgba(59, 130, 246, 0.3);
}

/* تأثيرات على العناوين والخطوط الزرقاء */
[data-page="muqtarab"] .section-accent-line {
  background-color: var(#3b82f6, hsl(212 90% 50%)) !important;
  transition: all 0.3s ease;
}

[data-page="muqtarab"] .section-accent-line:hover {
  background-color: #2563EB, hsl(212 90% 45%)) !important;
}

.dark .muqtarab-card-container .bg-gray-800\/30,
.dark .muqtarab-card-container [class*="bg-gray-800"] {
  background-color: #ffffff !important;
  border: 1px solid #f0f0ef !important;
}

/* إصلاح نهائي للخلفيات - الأولوية القصوى */
[data-page="muqtarab"]:not(.card):not(article),
[data-page="muqtarab"] > *:not(.card):not(article):not(.rounded-2xl):not(.rounded-xl):not(.rounded-lg),
[data-muqtarab="true"]:not(.card):not(article),
[data-muqtarab="true"] > *:not(.card):not(article):not(.rounded-2xl):not(.rounded-xl):not(.rounded-lg) {
  background-color: transparent !important;
}

/* الحاوية الرئيسية */
.min-h-screen[data-page="muqtarab"],
div.min-h-screen:has([data-muqtarab="true"]) {
  background: #f8f8f7 !important;
  background-color: #f8f8f7 !important;
}

/* ضمان أن جميع البطاقات في مقترب بيضاء */
[data-page="muqtarab"] .card,
[data-page="muqtarab"] article.card,
[data-page="muqtarab"] .bg-white,
[data-page="muqtarab"] .rounded-2xl:not(.header-main-icon),
[data-page="muqtarab"] .rounded-xl:not(.header-main-icon),
[data-page="muqtarab"] .rounded-lg:not(.header-main-icon),
[data-muqtarab="true"] .card,
[data-muqtarab="true"] article.card,
.muqtarab-card-container .card,
.muqtarab-card-container article.card {
  background: #ffffff !important;
  background-color: #ffffff !important;
}

/* استثناء: لا تطبق على div العامة داخل البطاقات */
[data-page="muqtarab"] .card > div:not([class*="card"]):not([class*="Card"]) {
  background: transparent !important;
}

/* الحفاظ على أحجام الصور في بطاقات الزوايا */
/* تم إلغاء هذه القاعدة لأنها تؤثر على حجم الصور */

/* خلفية قسم مقترب في الواجهة الرئيسية */
.muqtarab-home-section {
  position: relative;
  overflow: hidden;
}

.muqtarab-home-section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: none !important;
  pointer-events: none;
}

/* تأثير الحركة الخفيف عند التمرير */
.muqtarab-home-section:hover::before {
  animation: none;
}

@keyframes muqtarab-subtle-move {
  from {
    transform: translate(0, 0);
  }
  to {
    transform: translate(40px, 40px);
  }
}

/* النمط المنقط في الوضع الداكن */
.dark .muqtarab-home-section::before {
  background-image: none !important;
}

/* تأثير إضافي للوضع الداكن */
.dark .muqtarab-home-section::after {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: none !important;
  pointer-events: none;
}

/* تطبيق الخلفية على الصفحة الرئيسية بالكامل */
html,
body {
  background: #f8f8f7 !important;
  background-color: #f8f8f7 !important;
  background-image: none !important;
}

/* الوضع الداكن */
html.dark,
body.dark,
.dark html,
.dark body {
  background: #111827 !important;
  background-color: #111827 !important;
}

/* إزالة أي خلفيات من العناصر الأساسية */
.page-wrapper,
.homepage-wrapper,
.content-main-desktop,
.content-main-mobile,
main,
#__next {
  background: transparent !important;
  background-color: transparent !important;
}

/* الحفاظ على تنسيق بطاقات الزوايا */
[data-page="muqtarab"] a > div[style*="borderRadius"],
[data-muqtarab="true"] a > div[style*="borderRadius"] {
  background-color: #ffffff !important;
}

/* البطاقات في الوضع الداكن */
.dark [data-page="muqtarab"] .card,
.dark [data-page="muqtarab"] article,
.dark [data-muqtarab="true"] .card,
.dark [data-muqtarab="true"] article,
.dark .muqtarab-card-container .card,
.dark .muqtarab-card-container article {
  background: #1f2937 !important;
  background-color: #1f2937 !important;
}

/* شريط البحث والفلاتر - أبيض أيضاً */
[data-page="muqtarab"] input,
[data-page="muqtarab"] .search-input,
[data-page="muqtarab"] .filter-container,
[data-muqtarab="true"] input,
[data-muqtarab="true"] .search-input,
[data-muqtarab="true"] .filter-container {
  background: #ffffff !important;
  background-color: #ffffff !important;
}

/* تأثيرات الأيقونات والإحصائيات بنظام الألوان المتغيرة */
[data-page="muqtarab"] .stats-icon,
[data-muqtarab="true"] .stats-icon {
  color: var(#3B82F6 !important;
  transition: color 0.3s ease;
}

[data-page="muqtarab"] .stats-container,
[data-muqtarab="true"] .stats-container {
  transition: all 0.3s ease;
}

[data-page="muqtarab"] .stats-container:hover,
[data-muqtarab="true"] .stats-container:hover {
  background-color: rgba(59, 130, 246, 0.03) !important;
  border-color: var(#3B82F6 !important;
}

/* أيقونات الزوايا */
[data-page="muqtarab"] .text-green-600,
[data-muqtarab="true"] .text-green-600 {
  color: var(#3B82F6 !important;
}

/* ========== تطبيق نفس النظام على صفحة عمق ========== */

/* تأثيرات الإحصائيات والأيقونات لصفحة عمق */
[data-page="deep"] .stats-icon,
[data-page="deep"] .header-icon {
  color: var(#3B82F6 !important;
  transition: color 0.3s ease;
}

[data-page="deep"] .stats-icon:hover,
[data-page="deep"] .header-icon:hover {
  color: var(#3b82f6, hsl(212 90% 50%)) !important;
}

/* تحسين شريط الإحصائيات لصفحة عمق */
[data-page="deep"] .stats-container {
  background: transparent !important;
  border: 1px solid #f0f0ef !important;
  transition: all 0.3s ease;
}

[data-page="deep"] .stats-container:hover {
  background-color: rgba(59, 130, 246, 0.03) !important;
  border-color: var(#3B82F6 !important;
}

/* تأثيرات الهيدر والأيقونة الرئيسية لصفحة عمق */
[data-page="deep"] .header-main-icon,
[data-page="deep"] .themed-gradient-bg {
  background: linear-gradient(135deg, var(#3b82f6, #8b5cf6), #2563EB, #7c3aed)) !important;
  transition: all 0.3s ease;
}

[data-page="deep"] .header-main-icon:hover {
  transform: scale(1.05);
  box-shadow: 0 8px 30px rgba(59, 130, 246, 0.3);
}

/* إزالة أي خلفيات بيضاء من صفحة عمق */
[data-page="deep"] section,
[data-page="deep"] .max-w-7xl,
[data-page="deep"] .relative,
[data-deep="true"] section,
[data-deep="true"] .max-w-7xl,
[data-deep="true"] .relative {
  background: transparent !important;
  background-color: transparent !important;
}

/* التأكد من أن الأيقونة الرئيسية تتبع النظام */
[data-page="deep"] .header-main-icon .header-icon,
[data-deep="true"] .header-main-icon .header-icon {
  color: white !important;
}

/* التأكد من تطبيق الخلفية على الحاوية الرئيسية */
[data-page="deep"],
[data-deep="true"] {
  background: #f8f8f7 !important;
  background-color: #f8f8f7 !important;
}

[data-page="muqtarab"] .text-purple-600,
[data-muqtarab="true"] .text-purple-600 {
  color: var(#3B82F6 !important;
}

/* ========== تطبيق نفس النظام على صفحة الأقسام ========== */

/* تأثيرات الإحصائيات والأيقونات لصفحة الأقسام */
[data-page="categories"] .stats-icon,
[data-page="categories"] .header-icon,
[data-categories="true"] .stats-icon,
[data-categories="true"] .header-icon {
  color: var(#3B82F6 !important;
  transition: color 0.3s ease;
}

[data-page="categories"] .stats-icon:hover,
[data-page="categories"] .header-icon:hover,
[data-categories="true"] .stats-icon:hover,
[data-categories="true"] .header-icon:hover {
  color: var(#3b82f6, hsl(212 90% 50%)) !important;
}

/* تحسين شريط الإحصائيات لصفحة الأقسام */
[data-page="categories"] .stats-container,
[data-categories="true"] .stats-container {
  background: transparent !important;
  border: 1px solid #f0f0ef !important;
  transition: all 0.3s ease;
}

[data-page="categories"] .stats-container:hover,
[data-categories="true"] .stats-container:hover {
  background-color: rgba(59, 130, 246, 0.03) !important;
  border-color: var(#3B82F6 !important;
}

/* تأثيرات الهيدر والأيقونة الرئيسية لصفحة الأقسام */
[data-page="categories"] .header-main-icon,
[data-page="categories"] .themed-gradient-bg,
[data-categories="true"] .header-main-icon,
[data-categories="true"] .themed-gradient-bg {
  background: linear-gradient(135deg, var(#3b82f6, #6366f1), #2563EB, #4f46e5)) !important;
  transition: all 0.3s ease;
}

[data-page="categories"] .header-main-icon:hover,
[data-categories="true"] .header-main-icon:hover {
  transform: scale(1.05);
  box-shadow: 0 8px 30px rgba(59, 130, 246, 0.3);
}

/* إزالة أي خلفيات بيضاء من صفحة الأقسام */
[data-page="categories"] section,
[data-page="categories"] .max-w-7xl,
[data-page="categories"] .relative,
[data-categories="true"] section,
[data-categories="true"] .max-w-7xl,
[data-categories="true"] .relative {
  background: transparent !important;
  background-color: transparent !important;
}

/* التأكد من أن الأيقونة الرئيسية بيضاء */
[data-page="categories"] .header-main-icon .header-icon,
[data-categories="true"] .header-main-icon .header-icon {
  color: white !important;
}

/* التأكد من تطبيق الخلفية على الحاوية الرئيسية */
[data-page="categories"],
[data-categories="true"] {
  background: #f8f8f7 !important;
  background-color: #f8f8f7 !important;
}

/* ========== تطبيق نفس النظام على صفحة الأخبار ========== */

/* تأثيرات الإحصائيات والأيقونات لصفحة الأخبار */
[data-page="news"] .stats-icon,
[data-page="news"] .header-icon,
[data-news="true"] .stats-icon,
[data-news="true"] .header-icon {
  color: var(#3B82F6 !important;
  transition: color 0.3s ease;
}

[data-page="news"] .stats-icon:hover,
[data-page="news"] .header-icon:hover,
[data-news="true"] .stats-icon:hover,
[data-news="true"] .header-icon:hover {
  color: var(#3b82f6, hsl(212 90% 50%)) !important;
}

/* تحسين شريط الإحصائيات لصفحة الأخبار */
[data-page="news"] .stats-container,
[data-news="true"] .stats-container {
  background: transparent !important;
  border: 1px solid #f0f0ef !important;
  transition: all 0.3s ease;
}

[data-page="news"] .stats-container:hover,
[data-news="true"] .stats-container:hover {
  background-color: rgba(59, 130, 246, 0.03) !important;
  border-color: var(#3B82F6 !important;
}

/* تأثيرات الهيدر والأيقونة الرئيسية لصفحة الأخبار */
[data-page="news"] .header-main-icon,
[data-page="news"] .themed-gradient-bg,
[data-news="true"] .header-main-icon,
[data-news="true"] .themed-gradient-bg {
  background: linear-gradient(135deg, var(#3b82f6, #3b82f6), #2563EB, #2563eb)) !important;
  transition: all 0.3s ease;
}

[data-page="news"] .header-main-icon:hover,
[data-news="true"] .header-main-icon:hover {
  transform: scale(1.05);
  box-shadow: 0 8px 30px rgba(59, 130, 246, 0.3);
}

/* إزالة أي خلفيات بيضاء من صفحة الأخبار */
[data-page="news"] section,
[data-page="news"] .max-w-7xl,
[data-page="news"] .relative,
[data-news="true"] section,
[data-news="true"] .max-w-7xl,
[data-news="true"] .relative {
  background: transparent !important;
  background-color: transparent !important;
}

/* التأكد من أن الأيقونة الرئيسية بيضاء */
[data-page="news"] .header-main-icon .header-icon,
[data-news="true"] .header-main-icon .header-icon {
  color: white !important;
}

/* التأكد من تطبيق الخلفية على الحاوية الرئيسية */
[data-page="news"],
[data-news="true"] {
  background: #f8f8f7 !important;
  background-color: #f8f8f7 !important;
}

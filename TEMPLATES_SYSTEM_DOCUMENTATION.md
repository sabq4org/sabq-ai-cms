# ๐ ุชูุซูู ูุธุงู ุงูููุงูุจ ุงูุฏููุงููููุฉ

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชูุนูู ูุธุงู ุงูููุงูุจ ุจุงููุงูู ูู ููุญุฉ ุงูุชุญูู ูุน ุฌููุน ุงููุฒุงูุง ุงููุทููุจุฉ:

### โ ุงููุฒุงูุง ุงููููุนููุฉ:

1. **ุฑุจุท ุงูููุงูุจ ุงููุนุงูุฉ ุจูุงุฌูุฉ ุงููุณุชุฎุฏู** โ
   - ุนูุฏ ุชุนููู ูุงูุจ ูู "ูุดุท" ูุชู ุชุญูููู ุชููุงุฆูุงู
   - ุฏุนู ุงูููุงูุจ ุญุณุจ ุงูุชุตููู ูุงูุตูุญุฉ

2. **ุชูุนูู ุงูุฌุฏููุฉ ุงูุฒูููุฉ** โ
   - ุญููู "ุชุงุฑูุฎ ุงูุจุฏุงูุฉ" ู"ุชุงุฑูุฎ ุงูููุงูุฉ" ุชุนูู ุจุดูู ูุงูู
   - ุนุฑุถ ุงูููุงูุจ ููุท ูู ุงููุชุฑุฉ ุงูุฒูููุฉ ุงููุญุฏุฏุฉ

3. **ุฑุจุท ุงููุงูุจ ุจุงูุชุตููู** โ
   - ุฏุนู ุฑุจุท ุงููุงูุจ ุจุชุตููู ูุญุฏุฏ
   - ุนุฑุถ ุงููุงูุจ ููุท ูู ุตูุญุฉ ุงูุชุตููู ุงููุญุฏุฏ

4. **ุชูุนูู ุงููุนุงููุฉ** โ
   - ุฒุฑ ูุนุงููุฉ ูุจุงุดุฑุฉ ููู ูุงูุจ
   - ุตูุญุฉ ูุนุงููุฉ ูุฎุตุตุฉ: `/preview/template/[token]`

5. **ุงูุดุนุงุฑ ูุงููุธูุฑ** โ
   - ุญููู ุงูุดุนุงุฑ ูุงููุฉ (URL, Alt, Width, Height)
   - ุฏุนู ุงูุฃููุงู ุงููุฎุตุตุฉ
   - ุฃููุงุท CSS ูุฎุตุตุฉ

6. **ุงูุงุณุชูุฏุงู ุงูุฌุบุฑุงูู** โ
   - ุฏุนู ุนุฑุถ ุงูููุงูุจ ุญุณุจ ุงูุฏููุฉ
   - ูุงุฆูุฉ ุจุงูุฏูู ุงูุนุฑุจูุฉ ุงูุฑุฆูุณูุฉ

---

## ๐ ูููู ุงููููุงุช

```
sabq-ai-cms-new/
โโโ database/
โ   โโโ templates_system.sql          # ุณูููุง ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ lib/
โ   โโโ services/
โ       โโโ templateService.ts        # ุฎุฏูุฉ ุฅุฏุงุฑุฉ ุงูููุงูุจ
โโโ types/
โ   โโโ template.ts                   # ุฃููุงุน TypeScript
โโโ hooks/
โ   โโโ useTemplate.ts                # React hooks ููููุงูุจ
โโโ app/
โ   โโโ api/
โ   โ   โโโ templates/
โ   โ       โโโ route.ts              # GET/POST ููููุงูุจ
โ   โ       โโโ active/
โ   โ       โ   โโโ route.ts          # ุงูุญุตูู ุนูู ุงููุงูุจ ุงููุดุท
โ   โ       โโโ [id]/
โ   โ           โโโ route.ts          # GET/PATCH/DELETE
โ   โ           โโโ set-default/
โ   โ           โ   โโโ route.ts      # ุชุนููู ูุงูุชุฑุงุถู
โ   โ           โโโ preview/
โ   โ               โโโ route.ts      # ุฅูุดุงุก ูุนุงููุฉ
โ   โโโ dashboard/
โ   โ   โโโ templates/
โ   โ       โโโ page.tsx              # ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูููุงูุจ
โ   โ       โโโ components/
โ   โ           โโโ TemplatesList.tsx # ูุงุฆูุฉ ุงูููุงูุจ
โ   โ           โโโ TemplateEditor.tsx # ูุญุฑุฑ ุงูููุงูุจ
โ   โโโ preview/
โ       โโโ template/
โ           โโโ [token]/
โ               โโโ page.tsx          # ุตูุญุฉ ุงููุนุงููุฉ
โโโ components/
    โโโ layout/
        โโโ TemplateProvider.tsx      # ูููุฑ ุงูููุงูุจ
        โโโ DynamicHeader.tsx         # ููุฏุฑ ุฏููุงูููู

```

---

## ๐ง ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ูู ููุญุฉ ุงูุชุญูู

```typescript
// ุงูุงูุชูุงู ุฅูู ุตูุญุฉ ุงูููุงูุจ
/dashboard/templates

// ุฅูุดุงุก ูุงูุจ ุฌุฏูุฏ
- ุงุถุบุท ุนูู "ูุงูุจ ุฌุฏูุฏ"
- ุงููุฃ ุงูุจูุงูุงุช ุงููุทููุจุฉ
- ุญุฏุฏ ุงูุฌุฏููุฉ ูุงูุงุณุชูุฏุงู
- ุงุญูุธ ุงููุงูุจ

// ุชูุนูู ูุงูุจ
- ุงููุฑ ุนูู ุฒุฑ ุงูุชุจุฏูู ูุชูุนูู/ุชุนุทูู
- ุงููุฑ ุนูู ุงููุฌูุฉ ูุชุนูููู ูุงูุชุฑุงุถู

// ูุนุงููุฉ ูุงูุจ
- ุงููุฑ ุนูู ุฃููููุฉ ุงูุนูู ูููุนุงููุฉ ุงููุจุงุดุฑุฉ
```

### 2. ูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ

```tsx
// ุงุณุชุฎุฏุงู ุงูููุงูุจ ูู Layout
import { TemplateProvider } from '@/components/layout/TemplateProvider'
import { DynamicHeader } from '@/components/layout/DynamicHeader'

export default function RootLayout({ children }) {
  return (
    <html>
      <body>
        <TemplateProvider>
          <DynamicHeader />
          {children}
        </TemplateProvider>
      </body>
    </html>
  )
}
```

### 3. ุงุณุชุฎุฏุงู Hook ููููุงูุจ

```tsx
import { useTemplate } from '@/hooks/useTemplate'

function MyComponent() {
  const { template, loading, error } = useTemplate({
    type: 'header',
    categoryId: 1,
    countryCode: 'SA'
  })
  
  if (loading) return <div>ุฌุงุฑู ุงูุชุญููู...</div>
  if (error) return <div>ุฎุทุฃ ูู ุชุญููู ุงููุงูุจ</div>
  if (!template) return <div>ูุง ููุฌุฏ ูุงูุจ ูุดุท</div>
  
  return <div>{/* ุงุณุชุฎุฏู ุงููุงูุจ */}</div>
}
```

---

## ๐ API Endpoints

### ุงูููุงูุจ
- `GET /api/templates` - ุฌูุจ ุฌููุน ุงูููุงูุจ
- `POST /api/templates` - ุฅูุดุงุก ูุงูุจ ุฌุฏูุฏ
- `GET /api/templates/active` - ุฌูุจ ุงููุงูุจ ุงููุดุท
- `GET /api/templates/[id]` - ุฌูุจ ูุงูุจ ูุญุฏุฏ
- `PATCH /api/templates/[id]` - ุชุญุฏูุซ ูุงูุจ
- `DELETE /api/templates/[id]` - ุญุฐู ูุงูุจ
- `POST /api/templates/[id]/set-default` - ุชุนููู ูุงูุชุฑุงุถู
- `POST /api/templates/[id]/preview` - ุฅูุดุงุก ุฑุงุจุท ูุนุงููุฉ

---

## ๐จ ุฃููุงุน ุงูููุงูุจ ุงููุฏุนููุฉ

1. **header** - ูุงูุจ ุฑุฃุณ ุงูุตูุญุฉ
2. **footer** - ูุงูุจ ุฐูู ุงูุตูุญุฉ
3. **sidebar** - ูุงูุจ ุงูุดุฑูุท ุงูุฌุงูุจู
4. **article** - ูุงูุจ ุนุฑุถ ุงูููุงูุงุช
5. **category** - ูุงูุจ ุตูุญุงุช ุงูุชุตูููุงุช
6. **special** - ููุงูุจ ุงูููุงุณุจุงุช ุงูุฎุงุตุฉ

---

## ๐ ูุซุงู ูุงูู

### ุฅูุดุงุก ูุงูุจ ุฑูุถุงู

```json
{
  "name": "ูุงูุจ ุฑูุถุงู ุงููุจุงุฑู",
  "description": "ูุงูุจ ุฎุงุต ุจุดูุฑ ุฑูุถุงู ูุน ุฃููุงู ูุชุตููู ูููุฒ",
  "type": "header",
  "is_active": true,
  "starts_at": "2024-03-11T00:00:00Z",
  "ends_at": "2024-04-10T23:59:59Z",
  "logo_url": "/images/ramadan-logo.png",
  "logo_alt": "ุดุนุงุฑ ุฑูุถุงู",
  "primary_color": "#1a365d",
  "secondary_color": "#fbbf24",
  "custom_styles": ".header { background: linear-gradient(135deg, #1a365d 0%, #2c5282 100%); }",
  "content": {
    "navigation": {
      "items": [
        { "label": "ุงูุฑุฆูุณูุฉ", "url": "/" },
        { "label": "ุฑูุถุงููุงุช", "url": "/ramadan" },
        { "label": "ููุงููุช ุงูุตูุงุฉ", "url": "/prayer-times" }
      ]
    }
  }
}
```

---

## ๐ ุงูุตูุงุญูุงุช ุงููุทููุจุฉ

- `templates.view` - ุนุฑุถ ุงูููุงูุจ
- `templates.create` - ุฅูุดุงุก ููุงูุจ ุฌุฏูุฏุฉ
- `templates.update` - ุชุญุฏูุซ ุงูููุงูุจ
- `templates.delete` - ุญุฐู ุงูููุงูุจ

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุฃููููุฉ ูู ุนุฑุถ ุงูููุงูุจ:**
   - ูุงูุจ ูุฑุชุจุท ุจุชุตููู ูุญุฏุฏ
   - ูุงูุจ ูุณุชูุฏู ูุฏููุฉ ูุญุฏุฏุฉ
   - ูุงูุจ ุงูุชุฑุงุถู ุนุงู

2. **ุงูููุงูุจ ุงูุงูุชุฑุงุถูุฉ:**
   - ูุง ูููู ุญุฐู ูุงูุจ ุงูุชุฑุงุถู
   - ุนูุฏ ุชุนููู ูุงูุจ ูุงูุชุฑุงุถูุ ูุชู ุชูุนููู ุชููุงุฆูุงู

3. **ูุนุงููุฉ ุงูููุงูุจ:**
   - ุฑูุงุจุท ุงููุนุงููุฉ ุตุงูุญุฉ ููุฏุฉ 24 ุณุงุนุฉ
   - ูููู ุงููุตูู ูููุนุงููุฉ ุจุฏูู ุชุณุฌูู ุฏุฎูู

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ ุงูููุตู ุจูุง

1. **ุฅุถุงูุฉ ูุญุฑุฑ ูุฑุฆู ููููุงูุจ** - ุงุณุชุฎุฏุงู drag & drop
2. **ุฏุนู ุงููุฒูุฏ ูู ุฃููุงุน ุงูููุงูุจ** - homepage, newsletter
3. **ูุธุงู ูุณุฎ ุงุญุชูุงุทู ููููุงูุจ** - ุชุตุฏูุฑ/ุงุณุชูุฑุงุฏ
4. **ุฅุญุตุงุฆูุงุช ุงุณุชุฎุฏุงู ุงูููุงูุจ** - ุชุชุจุน ุงูุฃุฏุงุก
5. **A/B Testing ููููุงูุจ** - ุงุฎุชุจุงุฑ ูุนุงููุฉ ุงูููุงูุจ

---

ุชู ุงูุชูููุฐ ุจูุงุณุทุฉ: ูุฑูู ุงูุชุทููุฑ
ุงูุชุงุฑูุฎ: {{ ุงูุชุงุฑูุฎ ุงูุญุงูู }} 
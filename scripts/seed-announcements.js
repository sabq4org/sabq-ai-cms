/**
 * Ø³ÙƒØ±Ø¨Øª Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ÙˆØ§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª
 * Script to seed test data for announcements system
 * 
 * Usage: node scripts/seed-announcements.js
 */

const { PrismaClient } = require('@prisma/client');
const prisma = new PrismaClient();

const sampleAnnouncements = [
  {
    title: 'ğŸ”§ ØµÙŠØ§Ù†Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø¬Ø¯ÙˆÙ„Ø©',
    bodyMd: `## ØµÙŠØ§Ù†Ø© Ø¯ÙˆØ±ÙŠØ©

Ø³ÙŠØªÙ… Ø¥Ø¬Ø±Ø§Ø¡ ØµÙŠØ§Ù†Ø© Ø¯ÙˆØ±ÙŠØ© Ù„Ù„Ù†Ø¸Ø§Ù… ÙŠÙˆÙ… **Ø§Ù„Ø¬Ù…Ø¹Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…** Ù…Ù† Ø§Ù„Ø³Ø§Ø¹Ø© **2:00 - 4:00 ØµØ¨Ø§Ø­Ø§Ù‹**.

### Ø§Ù„Ù…ØªØ£Ø«Ø±:
- Ø¬Ù…ÙŠØ¹ Ø£Ù†Ø¸Ù…Ø© Ø§Ù„ØªØ­Ø±ÙŠØ±
- Ù†Ø¸Ø§Ù… Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±
- API Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ

### ÙŠØ±Ø¬Ù‰:
- Ø­ÙØ¸ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ¹Ø¯
- Ø¹Ø¯Ù… Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ÙˆØµÙˆÙ„ Ø®Ù„Ø§Ù„ ÙØªØ±Ø© Ø§Ù„ØµÙŠØ§Ù†Ø©`,
    type: 'MAINTENANCE',
    priority: 'HIGH',
    status: 'SCHEDULED',
    isPinned: true,
    startAt: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000), // Ø¨Ø¹Ø¯ ÙŠÙˆÙ…ÙŠÙ†
    endAt: new Date(Date.now() + 3 * 24 * 60 * 60 * 1000),
    audienceRoles: []
  },
  {
    title: 'ğŸ‰ Ù…ÙŠØ²Ø© Ø¬Ø¯ÙŠØ¯Ø©: Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨ÙˆØ¯ÙƒØ§Ø³Øª Ø§Ù„Ø°ÙƒÙŠ',
    bodyMd: `## Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨ÙˆØ¯ÙƒØ§Ø³Øª!

ÙŠØ³Ø¹Ø¯Ù†Ø§ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø¹Ù† Ø¥Ø·Ù„Ø§Ù‚ **Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨ÙˆØ¯ÙƒØ§Ø³Øª Ø§Ù„Ø°ÙƒÙŠ** ÙÙŠ Ø³Ø¨Ù‚ Ø§Ù„Ø°ÙƒÙŠØ©.

### Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª:
- ğŸ™ï¸ Ù…Ø´ØºÙ„ ØµÙˆØªÙŠ Ù…ØªØ·ÙˆØ±
- ğŸ“Š ØªØ­Ù„ÙŠÙ„Ø§Øª Ø´Ø§Ù…Ù„Ø©
- ğŸ¨ ØªØµÙ…ÙŠÙ… Ø¹ØµØ±ÙŠ ÙˆÙ…ØªØ¬Ø§ÙˆØ¨
- ğŸŒ™ Ø¯Ø¹Ù… Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù…

[Ø§Ù‚Ø±Ø£ Ø§Ù„Ù…Ø²ÙŠØ¯ ÙÙŠ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙˆØ¯ÙƒØ§Ø³Øª](/docs/PODCAST_README.md)`,
    type: 'FEATURE',
    priority: 'NORMAL',
    status: 'ACTIVE',
    isPinned: true,
    audienceRoles: []
  },
  {
    title: 'ğŸ“‹ ØªØ­Ø¯ÙŠØ« Ù…Ù‡Ù… ÙÙŠ Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ù†Ø´Ø±',
    bodyMd: `## ØªØ­Ø¯ÙŠØ«Ø§Øª Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ù†Ø´Ø± 2025

ØªÙ… ØªØ­Ø¯ÙŠØ« **Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ù†Ø´Ø±** Ù„ØªØ´Ù…Ù„ Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ø­ÙˆÙ„:

1. **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ØµØ§Ø¯Ø±**: ÙˆØ¬ÙˆØ¨ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† 3 Ù…ØµØ§Ø¯Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„
2. **Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù†Ø´Ø±**: Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ù„ÙƒÙŠØ© Ø§Ù„ÙÙƒØ±ÙŠØ©
3. **Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©**: Ù…Ø±Ø§Ø¬Ø¹Ø© Ø¥Ù„Ø²Ø§Ù…ÙŠØ© Ù…Ù† Ø§Ù„Ù…Ø­Ø±Ø± Ø§Ù„Ø£ÙˆÙ„

ÙŠØ±Ø¬Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø³ÙŠØ§Ø³Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø© ÙÙŠ [Ø¯Ù„ÙŠÙ„ Ø§Ù„ØªØ­Ø±ÙŠØ±](/docs/editorial-policy.md)`,
    type: 'POLICY',
    priority: 'HIGH',
    status: 'ACTIVE',
    audienceRoles: ['editor', 'reporter', 'trainee']
  },
  {
    title: 'âœ… ØªÙ…Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ ØµÙˆØ±Ø© Ø§Ù„ÙˆØ²ÙŠØ±',
    bodyMd: `ØªÙ…Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ø³ØªØ®Ø¯Ø§Ù… **ØµÙˆØ±Ø© ÙˆØ²ÙŠØ± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù…** ÙÙŠ Ø§Ù„Ù…Ù‚Ø§Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ.

ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ù†Ø´Ø± Ø§Ù„Ù…Ù‚Ø§Ù„ Ø¯ÙˆÙ† Ù‚ÙŠÙˆØ¯.`,
    type: 'ASSET_APPROVED',
    priority: 'CRITICAL',
    status: 'ACTIVE',
    audienceRoles: ['editor', 'reporter', 'media'],
    audienceUsers: []
  },
  {
    title: 'ğŸ“š Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„ÙƒØªØ§Ø¨Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ',
    bodyMd: `## Ø¯Ù„ÙŠÙ„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ

### Ù…ØªÙ‰ Ù†Ø³ØªØ®Ø¯Ù… AI:
- âœ… Ø§Ù„ØªÙ„Ø®ÙŠØµ ÙˆØ§Ù„Ø§Ø®ØªØµØ§Ø±
- âœ… Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚ Ø§Ù„Ù„ØºÙˆÙŠ
- âœ… Ø§Ù‚ØªØ±Ø§Ø­ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†

### Ù…ØªÙ‰ Ù„Ø§ Ù†Ø³ØªØ®Ø¯Ù… AI:
- âŒ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
- âŒ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ØµØ§Ø¯Ø±
- âŒ Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª Ø§Ù„ØªØ­Ø±ÙŠØ±ÙŠØ©

Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙƒØ£Ø¯Ø§Ø© Ù…Ø³Ø§Ø¹Ø¯Ø©ØŒ ÙˆÙ„ÙŠØ³ Ø¨Ø¯ÙŠÙ„Ø§Ù‹ Ø¹Ù† Ø§Ù„ØµØ­Ø§ÙØ© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©.`,
    type: 'GUIDELINE',
    priority: 'NORMAL',
    status: 'ACTIVE',
    isPinned: false,
    audienceRoles: ['editor', 'reporter']
  },
  {
    title: 'âš ï¸ ØªØ­Ø°ÙŠØ±: Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ù†Ø¸Ø§Ù… Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±',
    bodyMd: `## Ù…Ø´ÙƒÙ„Ø© Ù…Ø¤Ù‚ØªØ©

Ù†ÙˆØ§Ø¬Ù‡ Ø­Ø§Ù„ÙŠØ§Ù‹ Ù…Ø´ÙƒÙ„Ø© Ù…Ø¤Ù‚ØªØ© ÙÙŠ **Ù†Ø¸Ø§Ù… Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±** ØªØ¤Ø¯ÙŠ Ø¥Ù„Ù‰ Ø¨Ø·Ø¡ ÙÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„.

### Ø§Ù„Ø­Ù„ Ø§Ù„Ù…Ø¤Ù‚Øª:
1. Ù‚Ù„Ù„ Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ± Ù‚Ø¨Ù„ Ø§Ù„Ø±ÙØ¹
2. Ø§Ø³ØªØ®Ø¯Ù… ØµÙŠØºØ© WebP Ø¥Ù† Ø£Ù…ÙƒÙ†
3. ØªØ¬Ù†Ø¨ Ø±ÙØ¹ Ø£ÙƒØ«Ø± Ù…Ù† 5 ØµÙˆØ± ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙˆÙ‚Øª

ÙŠØ¹Ù…Ù„ Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„ØªÙ‚Ù†ÙŠ Ø¹Ù„Ù‰ Ø­Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©.`,
    type: 'CRITICAL',
    priority: 'CRITICAL',
    status: 'ACTIVE',
    audienceRoles: []
  },
  {
    title: 'ğŸ“… Ø§Ø¬ØªÙ…Ø§Ø¹ Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„ØªØ­Ø±ÙŠØ±ÙŠ - Ø§Ù„Ø£Ø­Ø¯ Ø§Ù„Ù‚Ø§Ø¯Ù…',
    bodyMd: `**Ø§Ø¬ØªÙ…Ø§Ø¹ Ø¯ÙˆØ±ÙŠ** Ù„Ù„ÙØ±ÙŠÙ‚ Ø§Ù„ØªØ­Ø±ÙŠØ±ÙŠ ÙŠÙˆÙ… **Ø§Ù„Ø£Ø­Ø¯** Ø§Ù„Ø³Ø§Ø¹Ø© **10:00 ØµØ¨Ø§Ø­Ø§Ù‹**.

### Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„:
- Ù…Ø±Ø§Ø¬Ø¹Ø© Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹
- Ø®Ø·Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù„Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ù‚Ø§Ø¯Ù…
- Ù†Ù‚Ø§Ø´ Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©

Ø§Ù„Ø­Ø¶ÙˆØ± Ø¥Ù„Ø²Ø§Ù…ÙŠ. Ø§Ù„Ø±Ø§Ø¨Ø· Ø³ÙŠÙØ±Ø³Ù„ Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø¨Ù€ 30 Ø¯Ù‚ÙŠÙ‚Ø©.`,
    type: 'ANNOUNCEMENT',
    priority: 'NORMAL',
    status: 'SCHEDULED',
    startAt: new Date(Date.now() + 1 * 24 * 60 * 60 * 1000), // ØºØ¯Ø§Ù‹
    audienceRoles: ['editor', 'reporter']
  },
  {
    title: 'ğŸ“ Ø¯ÙˆØ±Ø© ØªØ¯Ø±ÙŠØ¨ÙŠØ©: SEO Ù„Ù„ØµØ­ÙÙŠÙŠÙ†',
    bodyMd: `## Ø¯ÙˆØ±Ø© ØªØ­Ø³ÙŠÙ† Ù…Ø­Ø±ÙƒØ§Øª Ø§Ù„Ø¨Ø­Ø« (SEO)

Ù†Ø¯Ø¹ÙˆÙƒÙ… Ù„Ø­Ø¶ÙˆØ± **Ø¯ÙˆØ±Ø© ØªØ¯Ø±ÙŠØ¨ÙŠØ© Ù…ÙƒØ«ÙØ©** Ø­ÙˆÙ„ ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù„Ù…Ø­Ø±ÙƒØ§Øª Ø§Ù„Ø¨Ø­Ø«.

### Ø§Ù„ØªÙØ§ØµÙŠÙ„:
- **Ø§Ù„Ù…Ø¯Ø±Ø¨**: Ø£Ø­Ù…Ø¯ Ø§Ù„Ø³ÙŠØ¯ - Ø®Ø¨ÙŠØ± SEO
- **Ø§Ù„Ù…Ø¯Ø©**: 3 Ø£ÙŠØ§Ù… (2 Ø³Ø§Ø¹Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹)
- **Ø§Ù„ØªØ§Ø±ÙŠØ®**: 15-17 Ø£ÙƒØªÙˆØ¨Ø±
- **Ø§Ù„Ù…ÙƒØ§Ù†**: Ù‚Ø§Ø¹Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨ - Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø«Ø§Ù„Ø«

Ù„Ù„ØªØ³Ø¬ÙŠÙ„: [Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ³Ø¬ÙŠÙ„](#)`,
    type: 'ANNOUNCEMENT',
    priority: 'LOW',
    status: 'ACTIVE',
    isPinned: false,
    audienceRoles: ['reporter', 'trainee']
  }
];

async function main() {
  try {
    console.log('ğŸš€ Ø¨Ø¯Ø¡ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©...\n');

    // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£ÙˆÙ„ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„ÙŠÙƒÙˆÙ† Ø§Ù„Ù…Ø¤Ù„Ù
    const firstUser = await prisma.users.findFirst({
      select: { id: true, name: true }
    });

    if (!firstUser) {
      console.error('âŒ Ø®Ø·Ø£: Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
      console.log('ğŸ’¡ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ø£ÙˆÙ„Ø§Ù‹ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù…:');
      console.log('   npm run seed');
      process.exit(1);
    }

    console.log(`âœ… ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${firstUser.name} (${firstUser.id})\n`);

    // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª
    let created = 0;
    for (const announcement of sampleAnnouncements) {
      try {
        const result = await prisma.adminAnnouncement.create({
          data: {
            ...announcement,
            authorId: firstUser.id
          }
        });

        console.log(`âœ… ${announcement.title}`);
        created++;
      } catch (error) {
        console.error(`âŒ ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡: ${announcement.title}`);
        console.error(`   ${error.message}`);
      }
    }

    console.log(`\nğŸ‰ ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ${created} Ø¥Ø¹Ù„Ø§Ù† ØªØ¬Ø±ÙŠØ¨ÙŠ Ø¨Ù†Ø¬Ø§Ø­!`);
    console.log(`\nğŸ“Š Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:`);
    
    const stats = await prisma.adminAnnouncement.groupBy({
      by: ['status', 'priority'],
      _count: true
    });

    console.log('\nØ­Ø³Ø¨ Ø§Ù„Ø­Ø§Ù„Ø© ÙˆØ§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©:');
    stats.forEach(stat => {
      console.log(`  - ${stat.status} (${stat.priority}): ${stat._count} Ø¥Ø¹Ù„Ø§Ù†`);
    });

    console.log('\nğŸ’¡ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰:');
    console.log('   http://localhost:3000/admin/announcements');

  } catch (error) {
    console.error('\nâŒ Ø®Ø·Ø£ Ø¹Ø§Ù…:', error);
    process.exit(1);
  } finally {
    await prisma.$disconnect();
  }
}

// ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³ÙƒØ±Ø¨Øª
main();

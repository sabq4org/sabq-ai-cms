const { PrismaClient } = require('../lib/generated/prisma')
const prisma = new PrismaClient()

async function addTestArticle() {
  try {
    console.log('๐ ูุญุต ุงูููุงูุงุช ุงูููุฌูุฏุฉ...')
    
    // ุงูุชุญูู ูู ูุฌูุฏ ููุงู ุจู ID 1
    const existingArticle = await prisma.articles.findUnique({
      where: { id: '1' }
    })
    
    if (existingArticle) {
      console.log('โ ุงูููุงู ููุฌูุฏ ุจุงููุนู:')
      console.log(`- ุงูุนููุงู: ${existingArticle.title}`)
      console.log(`- ุงูุฑุงุจุท: /article/1`)
      console.log(`- ุงููุดุงูุฏุงุช: ${existingArticle.views}`)
      console.log(`- ุงูุฅุนุฌุงุจุงุช: ${existingArticle.likes || 0}`)
      console.log(`- ุงููุดุงุฑูุงุช: ${existingArticle.shares || 0}`)
      console.log(`- ุงูุญูุธ: ${existingArticle.saves || 0}`)
      return
    }
    
    // ุงูุชุญูู ูู ูุฌูุฏ ุชุตููู ุฃู ุฅูุดุงุก ูุงุญุฏ
    console.log('๐ ูุญุต ุงูุชุตูููุงุช...')
    let category = await prisma.categories.findFirst()
    
    if (!category) {
      console.log('๐ ุฅูุดุงุก ุชุตููู ุชุฌุฑูุจู...')
      category = await prisma.categories.create({
        data: {
          id: '1',
          name: 'ุชูููุฉ',
          slug: 'technology',
          description: 'ุฃุฎุจุงุฑ ุงูุชูููุฉ ูุงูุฐูุงุก ุงูุงุตุทูุงุนู',
          color: '#3B82F6',
          icon: '๐ป'
        }
      })
    }
    
    console.log(`โ ุงุณุชุฎุฏุงู ุงูุชุตููู: ${category.name}`)
    
    // ุฅูุดุงุก ููุงู ุชุฌุฑูุจู
    console.log('๐ ุฅูุดุงุก ููุงู ุชุฌุฑูุจู...')
    
    const testArticle = await prisma.articles.create({
      data: {
        id: '1',
        title: 'ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุญุฏุซ ุซูุฑุฉ ูู ุตูุงุนุฉ ุงูุฅุนูุงู',
        slug: 'ai-revolution-in-media-industry',
        content: `<p>ุดูุฏุช ุตูุงุนุฉ ุงูุฅุนูุงู ุชุญููุงู ุฌุฐุฑูุงู ูุน ุฏุฎูู ุชูููุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนูุ ุญูุซ ุฃุตุจุญุช ูุฐู ุงูุชูููุงุช ุฌุฒุกุงู ูุง ูุชุฌุฒุฃ ูู ุงูุนูููุฉ ุงูุฅุนูุงููุฉ ุงูุญุฏูุซุฉ.</p>
        
        <h2>ุงูุชุญูู ุงูุฑููู ูู ุบุฑู ุงูุฃุฎุจุงุฑ</h2>
        <p>ุชุณุชุฎุฏู ุงููุคุณุณุงุช ุงูุฅุนูุงููุฉ ุงููุจุฑู ุงูููู ุฃุฏูุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูู ูุฎุชูู ุฌูุงูุจ ุงูุนูู ุงูุตุญููุ ูู ุฌูุน ุงูุฃุฎุจุงุฑ ูุชุญููู ุงูุจูุงูุงุช ุฅูู ูุชุงุจุฉ ุงูุชูุงุฑูุฑ ููุดุฑ ุงููุญุชูู.</p>
        
        <h2>ููุงุฆุฏ ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูู ุงูุฅุนูุงู</h2>
        <ul>
        <li>ุชุณุฑูุน ุนูููุฉ ุฅูุชุงุฌ ุงููุญุชูู</li>
        <li>ุชุญุณูู ุฏูุฉ ุงูุชุญูููุงุช ูุงูุชูุงุฑูุฑ</li>
        <li>ุชุฎุตูุต ุงููุญุชูู ุญุณุจ ุงูุชูุงูุงุช ุงููุฑุงุก</li>
        <li>ุงูุชุดุงู ุงูุฃุฎุจุงุฑ ุงูุนุงุฌูุฉ ุจุดูู ุฃุณุฑุน</li>
        </ul>
        
        <h2>ุงูุชุญุฏูุงุช ูุงูุงุนุชุจุงุฑุงุช ุงูุฃุฎูุงููุฉ</h2>
        <p>ูุน ูู ูุฐู ุงูููุงุฆุฏุ ุชูุงุฌู ุงูุตูุงุนุฉ ุชุญุฏูุงุช ูููุฉ ุชุชุนูู ุจุงูููุซูููุฉ ูุงูุดูุงููุฉ ูุงูุญูุงุธ ุนูู ุงููุนุงููุฑ ุงูุตุญููุฉ ุงูุชูููุฏูุฉ.</p>`,
        excerpt: 'ุชุญููู ุดุงูู ูุชุฃุซูุฑ ุชูููุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุนูู ุตูุงุนุฉ ุงูุฅุนูุงู ูููู ุชุบูุฑ ุทุฑููุฉ ุฅูุชุงุฌ ูุชูุฒูุน ุงููุญุชูู ุงูุฅุฎุจุงุฑู',
        author_id: '1',
        category_id: category.id,
        status: 'published',
        featured: true,
        published_at: new Date(),
        views: 1250,
        likes: 87,
        shares: 45,
        saves: 23,
        reading_time: 5,
        seo_title: 'ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุญุฏุซ ุซูุฑุฉ ูู ุตูุงุนุฉ ุงูุฅุนูุงู - ุชุญููู ุดุงูู',
        seo_description: 'ุงูุชุดู ููู ูุบูุฑ ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุตูุงุนุฉ ุงูุฅุนูุงู ููุง ูู ุงููุฑุต ูุงูุชุญุฏูุงุช ุงูุชู ุชูุงุฌู ุงููุคุณุณุงุช ุงูุฅุนูุงููุฉ',
        allow_comments: true,
        updated_at: new Date()
      }
    })
    
    console.log('โ ุชู ุฅูุดุงุก ุงูููุงู ุจูุฌุงุญ!')
    console.log(`- ุงูุนููุงู: ${testArticle.title}`)
    console.log(`- ุงูุฑุงุจุท: /article/${testArticle.id}`)
    console.log(`- ุงููุดุงูุฏุงุช: ${testArticle.views}`)
    console.log(`- ุงูุฅุนุฌุงุจุงุช: ${testArticle.likes}`)
    console.log(`- ุงููุดุงุฑูุงุช: ${testArticle.shares}`)
    console.log(`- ุงูุญูุธ: ${testArticle.saves}`)
    
  } catch (error) {
    console.error('โ ุฎุทุฃ:', error.message)
  } finally {
    await prisma.$disconnect()
  }
}

addTestArticle() 
# ุชูุฑูุฑ ุชูููุฐ ูุคุดุฑ ููุน ุงูุชุญููู ุงูุนููู ุงููุฑุฆู

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุชูููุฐ ูุธุงู ูุฑุฆู ูุนุฑุถ ููุน ุงูุชุญููู ุงูุนููู (ูุฏููุ ุฐูุงุก ุงุตุทูุงุนูุ ูุฎุชูุท) ุจุดูู ูุงุถุญ ูุฌุฐุงุจ ูู ุงููุงุฌูุฉ.

## ุงูููููุงุช ุงููููุฐุฉ

### 1. ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### Prisma Schema (`prisma/schema.prisma`)
```prisma
model DeepAnalysis {
  // ... existing fields
  analysisType       AnalysisType? @default(manual) @map("analysis_type")
}

enum AnalysisType {
  manual
  ai
  mixed
}
```

#### Migration SQL (`database/add_analysis_type.sql`)
```sql
-- ุฅุถุงูุฉ enum ููุฃููุงุน
CREATE TYPE analysis_type AS ENUM ('manual', 'ai', 'mixed');

-- ุฅุถุงูุฉ ุญูู analysis_type ูุฌุฏูู deep_analyses
ALTER TABLE deep_analyses 
ADD COLUMN IF NOT EXISTS analysis_type analysis_type DEFAULT 'manual';

-- ุฅุถุงูุฉ ููุฑุณ ููุญูู ุงูุฌุฏูุฏ
CREATE INDEX IF NOT EXISTS idx_deep_analyses_analysis_type ON deep_analyses(analysis_type);
```

### 2. ูููู ุนุฑุถ ุงูุฃููููุฉ

#### `components/deep-analysis/AnalysisTypeIcon.tsx`
ูููู React ูุนุฑุถ ุฃููููุฉ ููุน ุงูุชุญููู ูุน tooltip:

```typescript
const typeConfig = {
  manual: {
    icon: 'โ๏ธ',
    label: 'ุชุญุฑูุฑ ูุฏูู ุจุงููุงูู',
    color: 'text-blue-600'
  },
  ai: {
    icon: '๐ค',
    label: 'ููููุฏ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู',
    color: 'text-purple-600'
  },
  mixed: {
    icon: 'โก',
    label: 'ูุฒูุฌ ูุฏูู + AI',
    color: 'text-orange-600'
  }
};
```

#### ุงูููุฒุงุช:
- ุซูุงุซุฉ ุฃุญุฌุงู: small, medium, large
- ุฎูุงุฑ ุนุฑุถ ุงููุต ุจุฌุงูุจ ุงูุฃููููุฉ
- Tooltip ุชูุงุนูู ุนูุฏ ุงูุชูุฑูุฑ
- ุฃููุงู ูููุฒุฉ ููู ููุน

### 3. ุงูุชูุงูู ูุน ุงููุงุฌูุงุช

#### ุตูุญุฉ ุฅูุดุงุก ุงูุชุญููู ุงูุนููู
- ุฅุถุงูุฉ ุญูู `analysisType` ูู ุงููููุฐุฌ
- ุฑุจุท ุชููุงุฆู ุจูู `creationType` ู `analysisType`:
  - `manual` โ `manual`
  - `gpt` โ `ai`
  - `mixed` โ `mixed`

#### ุจุทุงูุฉ ุงูุชุญููู ุงูุนููู
- ุนุฑุถ ุงูุฃููููุฉ ูู ุดุงุฑุฉ "ุชุญููู ุนููู"
- ููุถุน ุงูุฃููููุฉ: ุจุฌุงูุจ ุงููุต ูู ุงูุจุงุฏุฌ ุงูุฑุฆูุณู

#### DeepAnalysisWidget
- ุฅุถุงูุฉ ุงูุฃููููุฉ ูู ุจุทุงูุงุช ุงูุนุฑุถ
- ุงูุชูุงูู ูุน ุงูุชุตููู ุงูุญุงูู

### 4. ุชุญุฏูุซ API

#### `app/api/deep-analyses/route.ts`
- ุญูุธ `analysisType` ุนูุฏ ุฅูุดุงุก ุชุญููู ุฌุฏูุฏ
- ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ: `manual`

### 5. ุชุญุฏูุซ ุงูุฃููุงุน

#### `types/deep-analysis.ts`
```typescript
export interface DeepAnalysis {
  // ... existing fields
  analysisType?: 'manual' | 'ai' | 'mixed';
}

export interface CreateAnalysisRequest {
  // ... existing fields
  analysisType?: 'manual' | 'ai' | 'mixed';
}
```

## ุทุฑููุฉ ุงูุงุณุชุฎุฏุงู

### ูู ุงูุจุทุงูุงุช
```tsx
<AnalysisTypeIcon type={analysis.analysisType} size="small" />
```

### ูุน ุนุฑุถ ุงููุต
```tsx
<AnalysisTypeIcon 
  type={analysis.analysisType} 
  size="medium" 
  showLabel={true} 
/>
```

### ูุน ุชุฎุตูุต ุฅุถุงูู
```tsx
<AnalysisTypeIcon 
  type={analysis.analysisType} 
  size="large" 
  className="opacity-80" 
/>
```

## ุงูุชุตููู ูุงูุชุฌุฑุจุฉ

### ุงููุจุงุฏุฆ ุงูุชูุฌูููุฉ
1. **ุงูุจุณุงุทุฉ**: ุฃููููุงุช ูุงุถุญุฉ ูุณููุฉ ุงูููู
2. **ุงูุงุชุณุงู**: ููุณ ุงูุฃููููุงุช ูู ุฌููุน ุฃูุญุงุก ุงูุชุทุจูู
3. **ุฅููุงููุฉ ุงููุตูู**: tooltips ูุงุถุญุฉ ุจุงููุบุฉ ุงูุนุฑุจูุฉ
4. **ุงูุฃูุงูุฉ**: ุชูุงูู ุณูุณ ูุน ุงูุชุตููู ุงูุญุงูู

### ุงูุฃููุงู ุงููุณุชุฎุฏูุฉ
- **ูุฏูู (โ๏ธ)**: ุฃุฒุฑู - ููุซู ุงููุชุงุจุฉ ุงูุจุดุฑูุฉ
- **ุฐูุงุก ุงุตุทูุงุนู (๐ค)**: ุจููุณุฌู - ููุซู ุงูุชูููุฉ
- **ูุฎุชูุท (โก)**: ุจุฑุชูุงูู - ููุซู ุงูุทุงูุฉ ูุงูุฏูุฌ

## ุงูุฎุทูุงุช ุงูุชุงููุฉ

### ููุชุทุจูู ุงูููุฑู
1. ุชุดุบูู migration ูุงุนุฏุฉ ุงูุจูุงูุงุช:
   ```bash
   psql $DATABASE_URL < database/add_analysis_type.sql
   ```

2. ุชุญุฏูุซ ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ุญุณุจ ุงูุญุงุฌุฉ

### ุชุญุณููุงุช ูุณุชูุจููุฉ ููุชุฑุญุฉ
1. ุฅุถุงูุฉ ุฑุณูู ูุชุญุฑูุฉ ููุฃููููุงุช
2. ุฅุญุตุงุฆูุงุช ุนู ุชูุฒูุน ุฃููุงุน ุงูุชุญูููุงุช
3. ููุชุฑุฉ ุญุณุจ ููุน ุงูุชุญููู ูู ุตูุญุงุช ุงูุนุฑุถ
4. ุดุงุฑุงุช ุฅุถุงููุฉ ููุฌูุฏุฉ ูุงูููุซูููุฉ

## ุงูุฎูุงุตุฉ
ุชู ุชูููุฐ ูุธุงู ูุฑุฆู ูุชูุงูู ูุนุฑุถ ููุน ุงูุชุญููู ุงูุนูููุ ููุง ูุนุฒุฒ ุงูุดูุงููุฉ ููุณุงุนุฏ ุงููุฑุงุก ุนูู ููู ุทุจูุนุฉ ุงููุญุชูู ุจุดูู ุฃูุถู. ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ููููู ุชูุณูุนู ุจุณูููุฉ. 
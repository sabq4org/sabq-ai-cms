# ุชูุฑูุฑ ุชุทุจูู ุงูุชุฒุงูู ุงูููุฑู ูู ูุดุฑูุน Sabq AI CMS

## ๐ ุงูุชุงุฑูุฎ: 2025-01-30

## ๐ฏ ุงููุฏู ุงููุญูู
ุชู ุชุทุจูู ูุธุงู ุชุฒุงูู ููุฑู ูุนูู ุจูู ุฌููุน ุงููุชุตูุญุงุช (Chrome, Safari, Firefox) ูุถูุงู ุชุญุฏูุซ ุงูุจูุงูุงุช ูุญุธูุงู.

## โ ุงูุญููู ุงููุทุจูุฉ

### 1. **Hook ููุชุฒุงูู ุงููุญูู (ุจุฏูู ููุชุจุงุช ุฎุงุฑุฌูุฉ)**
- **ุงูููู**: `/hooks/useLocalStorageSync.ts`
- **ุงููููุฒุงุช**:
  - ูุนูู ููุฑุงู ุจุฏูู ุฅุนุฏุงุฏุงุช
  - ููุงุณุจ ููุชุทููุฑ ุงููุญูู
  - ูุณุชุฎุฏู localStorage events
  - ุชูุธูู ุชููุงุฆู ููุจูุงูุงุช ุงููุฏููุฉ

### 2. **Hook ููุชุฒุงูู ุนุจุฑ Pusher (ููุฅูุชุงุฌ)**
- **ุงูููู**: `/hooks/useRealtimeSync.ts`
- **ุงููููุฒุงุช**:
  - ุชุฒุงูู ุนุจุฑ ุงูุฅูุชุฑูุช
  - ูุฏุนู WebSocket
  - ุฅุดุนุงุฑุงุช ููุฑูุฉ
  - ูุคุดุฑุงุช ุงูุงุชุตุงู

### 3. **ูุญุฑุฑ ุงููุตูุต ุงููุชุฒุงูู**
- **ุงูููู**: `/components/ArticleEditor/RealtimeEditor.tsx`
- **ุงููููุฒุงุช**:
  - ุญูุธ ุชููุงุฆู
  - ุชุฒุงูู ููุฑู ูููุญุชูู
  - ูุคุดุฑุงุช ุงูุญุงูุฉ
  - ุฏุนู TipTap

### 4. **ุตูุญุฉ ุงูุงุฎุชุจุงุฑ**
- **ุงูููู**: `/app/test-realtime-sync/page.tsx`
- **ุงููููุฒุงุช**:
  - ุงุฎุชุจุงุฑ ุงูุชูุงุนูุงุช ุงููุชุฒุงููุฉ
  - ูุญุฑุฑ ูุตูุต ุชุฌุฑูุจู
  - ุฅุดุนุงุฑุงุช ูุฑุฆูุฉ

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ููุชุทููุฑ ุงููุญูู:
```typescript
import { useLocalStorageSync } from '@/hooks/useLocalStorageSync';

const { broadcast, lastUpdate } = useLocalStorageSync({
  key: 'my-feature',
  userId: 'user-123',
  onUpdate: (event) => {
    // ูุนุงูุฌุฉ ุงูุชุญุฏูุซุงุช
  }
});

// ุจุซ ุชุญุฏูุซ
broadcast('data-changed', { newData: '...' });
```

### ููุฅูุชุงุฌ (ูุน Pusher):
1. ุฃุถู ููุงุชูุญ Pusher ูู `.env.local`:
```env
PUSHER_APP_ID=your_app_id
PUSHER_KEY=your_key
PUSHER_SECRET=your_secret
PUSHER_CLUSTER=eu
NEXT_PUBLIC_PUSHER_KEY=your_key
NEXT_PUBLIC_PUSHER_CLUSTER=eu
```

2. ุซุจุช ุงูููุชุจุงุช:
```bash
npm install pusher pusher-js
```

3. ุงุณุชุฎุฏู Hook:
```typescript
import { useRealtimeSync } from '@/hooks/useRealtimeSync';

const { broadcast, isConnected } = useRealtimeSync({
  channel: 'article-123',
  userId: 'user-456',
  onUpdate: (data) => {
    // ูุนุงูุฌุฉ ุงูุชุญุฏูุซุงุช
  }
});
```

## ๐งช ุงูุงุฎุชุจุงุฑ

1. ุงูุชุญ ุงููุดุฑูุน:
```bash
npm run dev
```

2. ุงุฐูุจ ุฅูู: `http://localhost:3000/test-realtime-sync`

3. ุงูุชุญ ุงูุตูุญุฉ ูู ูุชุตูุญุงุช ูุชุนุฏุฏุฉ

4. ุฌุฑุจ:
   - ุงููุชุงุจุฉ ูู ุงููุญุฑุฑ
   - ุงูุถุบุท ุนูู ุฃุฒุฑุงุฑ ุงูุชูุงุนู
   - ูุฑุงูุจุฉ ุงูุฅุดุนุงุฑุงุช

## ๐ ุงููุชุงุฆุฌ

### โ **ูุง ุชู ุชุญูููู:**
1. ุชุฒุงูู ููุฑู ุจูู ุฌููุน ุงููุชุตูุญุงุช
2. ุญูุธ ุชููุงุฆู ููุชุบููุฑุงุช
3. ุฅุดุนุงุฑุงุช ูุฑุฆูุฉ ููุชุญุฏูุซุงุช
4. ุฏุนู ุงูุนูู ุงูุชุนุงููู
5. ุญู ูุนูู ูุญููุงู ููู ุงูุฅูุชุงุฌ

### ๐ฏ **ุญุงูุงุช ุงูุงุณุชุฎุฏุงู:**
- ูุญุฑุฑ ุงูููุงูุงุช ุงูุชุนุงููู
- ููุญุฉ ุงูุชุญูู ุงููุจุงุดุฑุฉ
- ุงูุชูุงุนูุงุช ุงูููุฑูุฉ (likes, views)
- ุงูุชุนูููุงุช ุงููุจุงุดุฑุฉ
- ุงูุฅุดุนุงุฑุงุช ุงูููุฑูุฉ

## ๐ง ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ

1. **ุฏุนู Offline**:
   - ุงุณุชุฎุฏุงู Service Workers
   - ูุฒุงููุฉ ุนูุฏ ุงุณุชุนุงุฏุฉ ุงูุงุชุตุงู

2. **ุชุญุณูู ุงูุฃุฏุงุก**:
   - ุถุบุท ุงูุจูุงูุงุช
   - ุชุฌููุน ุงูุชุญุฏูุซุงุช
   - lazy loading

3. **ุงูุฃูุงู**:
   - ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
   - ุงูุชุญูู ูู ุงูุตูุงุญูุงุช
   - ุญูุงูุฉ ูู spam

## ๐ ููุงุญุธุงุช ูููุฉ

1. **localStorage Sync**:
   - ูุนูู ููุท ุนูู ููุณ ุงูุฌูุงุฒ
   - ูุญุฏูุฏ ุจู 5MB
   - ููุงุณุจ ููุชุทููุฑ

2. **Pusher**:
   - ูุญุชุงุฌ ุงุชุตุงู ุฅูุชุฑูุช
   - ุฎุทุฉ ูุฌุงููุฉ: 200k ุฑุณุงูุฉ/ููู
   - ูุฏุนู SSL

3. **ุงูุฃุฏุงุก**:
   - ุงุณุชุฎุฏู debounce ููุชุญุฏูุซุงุช ุงููุชูุฑุฑุฉ
   - ูุธู ุงูุจูุงูุงุช ุงููุฏููุฉ
   - ุฑุงูุจ ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ

## ๐ ุงูุฎูุงุตุฉ

ุชู ุชุทุจูู ูุธุงู ุชุฒุงูู ููุฑู ุงุญุชุฑุงูู ูุญู ูุดููุฉ ุงูุชุฒุงูู ุจูู ุงููุชุตูุญุงุช ุงููุฎุชููุฉ. ุงููุธุงู ูุนูู ูุญููุงู ููุชุทููุฑ ููููู ุชุฑููุชู ุจุณูููุฉ ููุฅูุชุงุฌ ุจุงุณุชุฎุฏุงู Pusher ุฃู ุฃู ุฎุฏูุฉ WebSocket ุฃุฎุฑู.

ุงูุญู ูููุฑ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุณุฉ ูุน ุฅุดุนุงุฑุงุช ูุฑุฆูุฉ ูุญูุธ ุชููุงุฆูุ ููุง ูุฌุนู ุงูุนูู ุงูุชุนุงููู ุณููุงู ููุนุงูุงู. 
# ุชูุฑูุฑ ุชุทุจูู ุงููุถุน ุงููููู ุงูุงุญุชุฑุงูู

## ุงูุชุงุฑูุฎ: 2024-12-29
## ุงููุทูุฑ: ุนูู ุงูุญุงุฒูู

## ููุฎุต ุงูุชุทุจูู

ุชู ุฅุนุงุฏุฉ ุจูุงุก ูุธุงู ุงููุถุน ุงููููู ุจุดูู ุงุญุชุฑุงูู ููุณุชูุฑุ ูุน ุฏุนู ูุงูู ูุชูุถููุงุช ุงููุธุงู ูููุน ูููุถ ุงูุซูู ุงูุฎุงุทุฆ.

## ุงูุชุญุณููุงุช ุงููุทุจูุฉ

### 1. ุฅุนุฏุงุฏ Tailwind CSS
```javascript
// tailwind.config.js
module.exports = {
  darkMode: 'class', // ุชูุนูู ุงููุถุน ุงููููู ุจูุงุกู ุนูู ุงูููุงุณ
  // ...
}
```

### 2. ุงูุชููุฆุฉ ุงููุจูุฑุฉ (ููุน ุงููููุถ)
ุชู ุฅุถุงูุฉ ุณูุฑูุจุช ูู `app/layout.tsx` ูุนูู ูุจู ุชุญููู React:

```javascript
<script dangerouslySetInnerHTML={{
  __html: `
    (function() {
      const theme = localStorage.getItem('theme') || 'light';
      const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const shouldBeDark = theme === 'dark' || (theme === 'system' && systemPrefersDark);
      
      if (shouldBeDark) {
        document.documentElement.classList.add('dark');
      }
    })();
  `
}} />
```

### 3. ThemeContext ุงููุญุณู
#### ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ:
- **ุฏุนู ุซูุงุซุฉ ุฃูุถุงุน**: light, dark, system
- **ุงูุงุณุชูุงุน ูุชุบููุฑุงุช ุงููุธุงู**: ุชุญุฏูุซ ุชููุงุฆู ุนูุฏ ุชุบููุฑ ุชูุถูู ุงููุธุงู
- **resolvedTheme**: ุงูุซูู ุงููุนูู ุงููุทุจู (light ุฃู dark)
- **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**: try-catch ูู ุฌููุน ุงูุนูููุงุช ุงูุญุฑุฌุฉ
- **ุฏุนู ุงููุชุตูุญุงุช ุงููุฏููุฉ**: ุงุณุชุฎุฏุงู addListener/removeListener

#### ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ:
```typescript
interface ThemeContextType {
  theme: 'light' | 'dark' | 'system';
  resolvedTheme: 'light' | 'dark';
  toggleTheme: () => void;
  setTheme: (theme: Theme) => void;
  mounted: boolean;
}
```

### 4. ูููู ThemeToggle ุงููุญุณู
#### ุงูููุฒุงุช:
- **ุซูุงุซ ุฃููููุงุช**: โ๏ธ ูููุงุชุญุ ๐ ููุฏุงููุ ๐ฅ๏ธ ููุชููุงุฆู
- **ุฃุญุฌุงู ูุชุนุฏุฏุฉ**: sm, md, lg
- **ุฎูุงุฑ ุนุฑุถ ุงูุชุณููุฉ**: showLabel
- **ุงุฎุชุตุงุฑ ููุญุฉ ุงูููุงุชูุญ**: Ctrl+Shift+L
- **ุชุฃุซูุฑุงุช ุจุตุฑูุฉ**: ุฏูุฑุงู ุงูุฃููููุฉ ุนูุฏ ุงูุชูุฑูุฑ
- **Skeleton loader**: ุฃุซูุงุก ุงูุชุญููู ุงูุฃููู

### 5. ูููู ThemeSelect
ููุณุฏู ูุงุฎุชูุงุฑ ุงูุซูู ูุน ูุงุฌูุฉ ุฃูุถุญ ููุฅุนุฏุงุฏุงุช.

## ุงูุชุญุณููุงุช ุงูุชูููุฉ

### 1. ููุน ูููุถ ุงูุซูู ุงูุฎุงุทุฆ (FOUC)
- ุชุทุจูู ุงูุซูู ูุจู ุชุญููู React
- ุงุณุชุฎุฏุงู localStorage ู matchMedia
- ุชุญุฏูุซ meta theme-color ุฏููุงููููุงู

### 2. ุงูุฃุฏุงุก
- ุงุณุชุฎุฏุงู useCallback ูุชุญุณูู ุงูุฃุฏุงุก
- ุชุฌูุจ ุฅุนุงุฏุฉ ุงูุฑูุฏุฑ ุบูุฑ ุงูุถุฑูุฑูุฉ
- ุชุญููู ูุณูู ููููููุงุช

### 3. ุฅููุงููุฉ ุงููุตูู
- ุฏุนู ูุงูู ูููุญุฉ ุงูููุงุชูุญ
- aria-labels ูุงุถุญุฉ
- focus states ูุฑุฆูุฉ

### 4. ุงูุชูุงูููุฉ
- ุฏุนู ุฌููุน ุงููุชุตูุญุงุช ุงูุญุฏูุซุฉ
- ุฏุนู Safari ุนูู iOS
- ุฏุนู ุงููุชุตูุญุงุช ุงููุฏููุฉ ูุน fallbacks

## ุงูุงุณุชุฎุฏุงู

### ูู ุฃู ูููู:
```tsx
import { useTheme } from '@/contexts/ThemeContext';

function MyComponent() {
  const { theme, resolvedTheme, toggleTheme } = useTheme();
  
  return (
    <div className="bg-white dark:bg-gray-900">
      {/* ุงููุญุชูู */}
    </div>
  );
}
```

### ูู Header:
```tsx
import { ThemeToggle } from './ThemeToggle';

<ThemeToggle size="md" />
```

## ุฃูุถู ุงูููุงุฑุณุงุช ุงููุทุจูุฉ

1. **ุงูุชุฎุฒูู ุงููุณุชูุฑ**: ุงุณุชุฎุฏุงู localStorage ูุน fallback ูููุธุงู
2. **ุงูุชุทุจูู ุนูู ุงูุฌุฐุฑ**: ุฅุถุงูุฉ ุงูููุงุณ ุนูู `<html>` ูููุณ `<body>`
3. **ุชุฌูุจ ุงููููุถ**: ุชุทุจูู ุงูุซูู ูุจู React hydration
4. **ุฏุนู SSR**: ุงูุชุนุงูู ุงูุขูู ูุน window ู document
5. **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**: try-catch ูู ุฌููุน ุงูุนูููุงุช

## ุงูุงุฎุชุจุงุฑ

### ููุงุท ุงูุงุฎุชุจุงุฑ ุงููุทููุจุฉ:
1. โ ุงูุชุจุฏูู ุจูู ุงูุฃูุถุงุน ุงูุซูุงุซุฉ
2. โ ุญูุธ ุงูุชูุถูู ุนุจุฑ ุงูุฌูุณุงุช
3. โ ุงูุงุณุชุฌุงุจุฉ ูุชุบููุฑ ุชูุถูู ุงููุธุงู
4. โ ุนุฏู ูุฌูุฏ ูููุถ ุนูุฏ ุงูุชุญุฏูุซ
5. โ ุงูุนูู ุนูู ุฌููุน ุงููุชุตูุญุงุช
6. โ ุงุฎุชุตุงุฑ ููุญุฉ ุงูููุงุชูุญ

## ุงูุชูุตูุงุช ุงููุณุชูุจููุฉ

1. **ุฅุถุงูุฉ ุงูุชูุงูุงุช ุณูุณุฉ**: ุชุญุณูู ุงูุงูุชูุงู ุจูู ุงูุฃูุถุงุน
2. **ุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช**: ูููุณุชุฎุฏููู ุงููุณุฌููู
3. **ูุฒุงููุฉ ุจูู ุงูุชุจููุจุงุช**: ุงุณุชุฎุฏุงู BroadcastChannel API
4. **ุซููุงุช ูุฎุตุตุฉ**: ุงูุณูุงุญ ุจุฃููุงู ูุฎุตุตุฉ

## ุงูุฎูุงุตุฉ

ุชู ุชุทุจูู ูุธุงู ูุถุน ูููู ุงุญุชุฑุงูู ููุณุชูุฑ ูููุฑ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ ูุน ุฏุนู ูุงูู ูุฌููุน ุงูุณููุงุฑูููุงุช ูุงููุชุตูุญุงุช. 
# ุชูุฑูุฑ ุฅุตูุงุญ ูุดููุฉ ุงูุตูุฑ ุงููุคูุชุฉ (Blob URLs)

## ๐ ููุฎุต ุงููุดููุฉ

ุชู ุงูุชุดุงู ูุดููุฉ ุฎุทูุฑุฉ ูู ูุธุงู ุฅุฏุงุฑุฉ ุงูุตูุฑ ุญูุซ ูุงูุช ุงูููุงูุงุช ุชุณุชุฎุฏู **blob URLs** ูุคูุชุฉ ุจุฏูุงู ูู ุฑูุน ุงูุตูุฑ ูุนููุงู ุฅูู ุงูุฎุงุฏูุ ููุง ูุคุฏู ุฅูู ุงุฎุชูุงุก ุงูุตูุฑ ุนูุฏ ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ ุฃู ุฅุถุงูุฉ ููุงู ุฌุฏูุฏ.

## ๐ ุงูุชุดุฎูุต

### ุงููุดููุฉ ุงูุฃุณุงุณูุฉ:
- ุงุณุชุฎุฏุงู `blob:http://localhost:3000/...` ูู ุญูู `featured_image`
- ุนุฏู ุงุณุชุฎุฏุงู API ุงูุฑูุน ุงูููุฌูุฏ (`/api/upload/route.ts`)
- ุงุนุชูุงุฏ ุนูู `FileReader` ูุฅูุดุงุก data URLs ูุคูุชุฉ

### ุงููููุงุช ุงููุชุฃุซุฑุฉ:
- `data/articles.json` - ูุญุชูู ุนูู blob URLs
- `components/ContentEditor.tsx` - ูุง ูุณุชุฎุฏู API ุงูุฑูุน
- `app/api/upload/route.ts` - ููุฌูุฏ ููู ุบูุฑ ูุณุชุฎุฏู

## โ ุงูุญููู ุงููุทุจูุฉ

### 1. ุฅุตูุงุญ ุงูููุงูุงุช ุงูููุฌูุฏุฉ
- **ุงูุณูุฑูุจุช**: `scripts/fix-blob-images.js`
- **ุงูููุงูุงุช ุงููุนุงูุฌุฉ**: 5 ููุงูุงุช
- **ุงููุชูุฌุฉ**: ุงุณุชุจุฏุงู ุฌููุน blob URLs ุจุตูุฑ ุงูุชุฑุงุถูุฉ ููุงุณุจุฉ

### 2. ุชุญุฏูุซ ูููู ContentEditor
- **ุงูููู**: `components/ContentEditor.tsx`
- **ุงูุชุญุฏูุซ**: ุงุณุชุฎุฏุงู API ุงูุฑูุน ุจุฏูุงู ูู blob URLs
- **ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ**:
  - ุงูุชุญูู ูู ููุน ุงูููู
  - ุงูุชุญูู ูู ุญุฌู ุงูููู (5MB ูุญุฏ ุฃูุตู)
  - ุฑูุน ูุนูู ููุตูุฑ ุฅูู `/uploads/featured/`

### 3. ุชุญุณูู API ุงูุฑูุน
- **ุงูููู**: `app/api/upload/route.ts`
- **ุงูููุฒุงุช**:
  - ุฏุนู ุฃููุงุน ูููุงุช ูุชุนุฏุฏุฉ (featured, article, avatar)
  - ูุณุงุฑุงุช ููุธูุฉ ููุตูุฑ
  - ุฃุณูุงุก ูููุงุช ูุฑูุฏุฉ ูุน timestamps ู UUIDs

### 4. ุฅูุดุงุก ุตูุฑ ุงูุชุฑุงุถูุฉ
- **ุงูุณูุฑูุจุช**: `scripts/create-default-images.js`
- **ุงููุชูุฌุฉ**: 29 ุตูุฑุฉ ุงูุชุฑุงุถูุฉ ููุธูุฉ ุญุณุจ ุงูุชุตููู
- **ุงูุชุตูููุงุช ุงููุฏุนููุฉ**:
  - ุชูููุฉ (4 ุตูุฑ)
  - ุฑูุงุถุฉ (5 ุตูุฑ)
  - ุงูุชุตุงุฏ (4 ุตูุฑ)
  - ุณูุงุณุฉ (5 ุตูุฑ)
  - ูุญููุงุช (5 ุตูุฑ)
  - ุซูุงูุฉ ููุฌุชูุน (3 ุตูุฑ)
  - ุตุญุฉ (3 ุตูุฑ)

## ๐ ุงููุชุงุฆุฌ

### ุงูููุงูุงุช ุงูููุตูุญุฉ:
1. **ููุงู ุงูููุงู** โ `/uploads/featured/hilal-logo.jpg`
2. **ููุงู ุชุฑุงูุจ** โ `/uploads/featured/trump-politics.jpg`
3. **ููุงู ุงูุงุณุชุซูุงุฑุงุช** โ `/uploads/featured/economy-default.jpg`
4. **ููุงู ุงูููุท** โ `/uploads/featured/tech-default.jpg`
5. **ููุงู ูููู** โ `/uploads/featured/tech-default.jpg`

### ุงููููุงุช ุงูููุดุฃุฉ:
- `scripts/fix-blob-images.js` - ุณูุฑูุจุช ุงูุฅุตูุงุญ
- `public/uploads/featured/` - 29 ุตูุฑุฉ ุงูุชุฑุงุถูุฉ
- `reports/blob-images-fix-report-*.json` - ุชูุฑูุฑ ููุตู

### ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ:
- `data/articles_backup_before_blob_fix_*.json` - ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ุงูุจูุงูุงุช ุงูุฃุตููุฉ

## ๐ก๏ธ ุงูููุงูุฉ ูู ุงููุดุงูู ุงููุณุชูุจููุฉ

### 1. ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
```javascript
// ูู ContentEditor.tsx
if (!file.type.startsWith('image/')) {
  alert('ูุฑุฌู ุงุฎุชูุงุฑ ููู ุตูุฑุฉ ุตุงูุญ');
  return;
}
```

### 2. ุญุฏูุฏ ุงูุญุฌู
```javascript
if (file.size > 5 * 1024 * 1024) {
  alert('ุญุฌู ุงูุตูุฑุฉ ูุฌุจ ุฃู ูููู ุฃูู ูู 5MB');
  return;
}
```

### 3. ุฃุณูุงุก ูููุงุช ูุฑูุฏุฉ
```javascript
const fileName = `${Date.now()}-${randomUUID()}${fileExtension}`;
```

### 4. ูุณุงุฑุงุช ููุธูุฉ
```
public/uploads/
โโโ featured/     # ุตูุฑ ุงูููุงูุงุช ุงููููุฒุฉ
โโโ articles/     # ุตูุฑ ูุญุชูู ุงูููุงูุงุช
โโโ avatars/      # ุตูุฑ ุงููุคูููู
```

## ๐ง ุงูุชูุตูุงุช ูููุณุชูุจู

### 1. ูุฑุงูุจุฉ ุงูุตูุฑ
- ุฅุถุงูุฉ validation ููุชุฃูุฏ ูู ุนุฏู ุงุณุชุฎุฏุงู blob URLs
- ูุญุต ุฏูุฑู ูุตุญุฉ ุฑูุงุจุท ุงูุตูุฑ

### 2. ุชุญุณูู ุงูุฃุฏุงุก
- ุถุบุท ุงูุตูุฑ ุชููุงุฆูุงู
- ุฅูุดุงุก ุตูุฑ ูุตุบุฑุฉ (thumbnails)
- ุงุณุชุฎุฏุงู lazy loading

### 3. ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
- ูุณุฎ ุงุญุชูุงุทู ุฏูุฑู ููุตูุฑ
- ูุธุงู ุงุณุชุฑุฏุงุฏ ููุตูุฑ ุงููุญุฐููุฉ

### 4. ูุงุฌูุฉ ุงููุณุชุฎุฏู
- ูุนุงููุฉ ุงูุตูุฑุฉ ูุจู ุงูุฑูุน
- ุดุฑูุท ุชูุฏู ุฃุซูุงุก ุงูุฑูุน
- ุฅููุงููุฉ ุงูุชุตุงุต ุงูุตูุฑ

## ๐ ุงูุฎูุงุตุฉ

ุชู ุฅุตูุงุญ ุงููุดููุฉ ุจูุฌุงุญ ูุถูุงู ุนุฏู ุชูุฑุงุฑูุง ูุณุชูุจูุงู. ุฌููุน ุงูููุงูุงุช ุงูุขู ุชุณุชุฎุฏู ุตูุฑ ุซุงุจุชุฉ ููุชุงุญุฉุ ูุงููุธุงู ุงูุฌุฏูุฏ ูุถูู ุฑูุน ุงูุตูุฑ ูุนููุงู ุจุฏูุงู ูู ุงุณุชุฎุฏุงู blob URLs ูุคูุชุฉ.

**ุงูุญุงูุฉ**: โ **ููุตูุญุฉ ุจุงููุงูู**  
**ุงูุชุงุฑูุฎ**: 23 ููููู 2025  
**ุงููุฏุฉ**: ุชู ุงูุฅุตูุงุญ ูู ุฌูุณุฉ ูุงุญุฏุฉ  
**ุงูุชุฃุซูุฑ**: ุฌููุน ุงูุตูุฑ ุชุนูู ุจุดูู ุตุญูุญ ููุณุชูุฑ 
# ุชูุฑูุฑ ูุฑุงุฌุนุฉ ุงุณุชุฎุฏุงู Cloudinary ูู ูุดุฑูุน ุณุจู

## ุงูุชุงุฑูุฎ: 2025-01-29

## ๐ฏ ุงูููุฎุต ุงูุชูููุฐู

ุชู ุฅุฌุฑุงุก ูุฑุงุฌุนุฉ ุดุงููุฉ ูุงุณุชุฎุฏุงู Cloudinary ูู ุงููุดุฑูุน ูุชู ุงูุชุดุงู ุนุฏุฉ ูุดุงูู:

### โ ูุง ูุนูู ุจุดูู ุตุญูุญ:
1. **ุฅุนุฏุงุฏุงุช Cloudinary**: ุงูุชูููู ุตุญูุญ ูู `lib/cloudinary.ts`
2. **API ุงูุฑูุน**: `/api/upload` ูุนูู ูุน Cloudinary
3. **API ุงููุณุงุฆุท**: `/api/media/upload` ูุนูู ูุน Cloudinary
4. **ููุน ุงูุชุฎุฒูู ุงููุญูู**: ุชู ุชุทุจูู ุงููููุฏ ุนูู ุงูุชุฎุฒูู ุงููุญูู

### โ ุงููุดุงูู ุงูููุชุดูุฉ:
1. **ุงูุตูุฑ ุงูุนุดูุงุฆูุฉ**: ุงููุธุงู ูุณุชุฎุฏู ุตูุฑ ุนุดูุงุฆูุฉ ูู Unsplash ุนูุฏ ูุดู ุชุญููู ุงูุตูุฑ
2. **ุงูุตูุฑ ุงูุงูุชุฑุงุถูุฉ ุงููุญููุฉ**: ุจุนุถ ุงูููููุงุช ุชุณุชุฎุฏู ุตูุฑ ูุญููุฉ ูุซู `/default-avatar.png`
3. **ุนุฏู ุงูุชุญูู ูู ุตุญุฉ ุฑูุงุจุท Cloudinary**: ูุง ูุชู ุงูุชุญูู ูู ุตุญุฉ ุงูุฑูุงุจุท ูุจู ุนุฑุถูุง

## ๐ ุชูุงุตูู ุงููุดุงูู

### 1. ูุดููุฉ ุงูุตูุฑ ุงูุนุดูุงุฆูุฉ

**ุงููููุน**: `app/page.tsx` ู `app/for-you/page.tsx`
**ุงููุดููุฉ**: ุงุณุชุฎุฏุงู ุตูุฑ ุนุดูุงุฆูุฉ ูู Unsplash

```javascript
// ูู app/page.tsx - ุงูุณุทุฑ 436
const randomIndex = Math.floor(Math.random() * placeholderImages.length);
return `${placeholderImages[randomIndex]}?auto=format&fit=crop&w=800&q=80`;
```

**ุงูุชุฃุซูุฑ**: ุชุบููุฑ ุงูุตูุฑ ูู ูู ูุฑุฉ ูุชู ุชุญููู ุงูุตูุญุฉ

### 2. ูุดููุฉ ุงูุตูุฑ ุงูุงูุชุฑุงุถูุฉ ุงููุญููุฉ

**ุงูููุงูุน ุงููุชุฃุซุฑุฉ**:
- `components/FeaturedImageUpload.tsx` - ุงูุณุทุฑ 178
- `components/BlockEditor/blocks/ImageBlock.tsx` - ุงูุณุทุฑ 119
- `app/dashboard/team/page.tsx` - ุงูุณุทุฑ 534

```javascript
// ูุซุงู ูู FeaturedImageUpload.tsx
e.currentTarget.src = '/default-avatar.png';
```

### 3. ูุดููุฉ ุนุฏู ุงูุชุญูู ูู ุตุญุฉ ุงูุฑูุงุจุท

**ุงููููุน**: ุฌููุน ููููุงุช ุนุฑุถ ุงูุตูุฑ
**ุงููุดููุฉ**: ูุง ูุชู ุงูุชุญูู ูู ุตุญุฉ ุฑูุงุจุท Cloudinary ูุจู ุนุฑุถูุง

## ๐ง ุงูุญููู ุงูููุชุฑุญุฉ

### 1. ุฅุตูุงุญ ุงูุตูุฑ ุงูุนุดูุงุฆูุฉ

**ุงูุญู**: ุงุณุชุฎุฏุงู ุฏุงูุฉ ุซุงุจุชุฉ ูุชูููุฏ ุงูุตูุฑ ุจูุงุกู ุนูู hash ุงูุนููุงู

```javascript
const generatePlaceholderImage = (title: string) => {
  const placeholderImages = [
    'https://res.cloudinary.com/dybhezmvb/image/upload/v1/sabq-cms/placeholders/placeholder-1.jpg',
    'https://res.cloudinary.com/dybhezmvb/image/upload/v1/sabq-cms/placeholders/placeholder-2.jpg',
    // ... ุงููุฒูุฏ ูู ุงูุตูุฑ ุงูุซุงุจุชุฉ
  ];
  
  if (!title || typeof title !== 'string') {
    return placeholderImages[0]; // ุตูุฑุฉ ุงูุชุฑุงุถูุฉ ุซุงุจุชุฉ
  }
  
  // ุงุณุชุฎุฏุงู hash ุซุงุจุช ูููุณ ุงูุนููุงู
  const hash = title.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
  const imageIndex = hash % placeholderImages.length;
  
  return placeholderImages[imageIndex];
};
```

### 2. ุงุณุชุจุฏุงู ุงูุตูุฑ ุงููุญููุฉ ุจุตูุฑ Cloudinary

**ุงูุญู**: ุฑูุน ุตูุฑ ุงูุชุฑุงุถูุฉ ุฅูู Cloudinary ูุงุณุชุฎุฏุงู ุฑูุงุจุทูุง

```javascript
// ุจุฏูุงู ูู
e.currentTarget.src = '/default-avatar.png';

// ุงุณุชุฎุฏู
e.currentTarget.src = 'https://res.cloudinary.com/dybhezmvb/image/upload/v1/sabq-cms/defaults/default-avatar.jpg';
```

### 3. ุฅุถุงูุฉ ุงูุชุญูู ูู ุตุญุฉ ุงูุฑูุงุจุท

**ุงูุญู**: ุฅูุดุงุก ุฏุงูุฉ ููุชุญูู ูู ุตุญุฉ ุฑูุงุจุท Cloudinary

```javascript
const isValidCloudinaryUrl = (url: string): boolean => {
  return url && url.includes('res.cloudinary.com') && url.includes('dybhezmvb');
};

const getValidImageUrl = (imageUrl?: string, fallbackTitle?: string): string => {
  if (!imageUrl || !isValidCloudinaryUrl(imageUrl)) {
    return generatePlaceholderImage(fallbackTitle || 'ููุงู');
  }
  return imageUrl;
};
```

## ๐ ุฎุทุฉ ุงูุชูููุฐ

### ุงููุฑุญูุฉ 1: ุฅุตูุงุญ ุงูุตูุฑ ุงูุนุดูุงุฆูุฉ
1. ุชุญุฏูุซ `app/page.tsx`
2. ุชุญุฏูุซ `app/for-you/page.tsx`
3. ุงุฎุชุจุงุฑ ุนุฏู ุชุบููุฑ ุงูุตูุฑ

### ุงููุฑุญูุฉ 2: ุฑูุน ุงูุตูุฑ ุงูุงูุชุฑุงุถูุฉ
1. ุฑูุน ุงูุตูุฑ ุงูุงูุชุฑุงุถูุฉ ุฅูู Cloudinary
2. ุชุญุฏูุซ ุฌููุน ุงูููููุงุช ูุงุณุชุฎุฏุงู ุฑูุงุจุท Cloudinary
3. ุญุฐู ุงูุตูุฑ ุงููุญููุฉ

### ุงููุฑุญูุฉ 3: ุฅุถุงูุฉ ุงูุชุญูู ูู ุงูุฑูุงุจุท
1. ุฅูุดุงุก ุฏุงูุฉ ุงูุชุญูู
2. ุชุทุจูููุง ุนูู ุฌููุน ููููุงุช ุนุฑุถ ุงูุตูุฑ
3. ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก

## ๐ฏ ุงููุชุงุฆุฌ ุงููุชููุนุฉ

1. **ุซุจุงุช ุงูุตูุฑ**: ูู ุชุชุบูุฑ ุงูุตูุฑ ูู ูู ูุฑุฉ ูุชู ุชุญููู ุงูุตูุญุฉ
2. **ุฃุฏุงุก ุฃูุถู**: ุฌููุน ุงูุตูุฑ ูู Cloudinary CDN
3. **ุฃูุงู ุฃูุจุฑ**: ูุง ุชูุฌุฏ ุตูุฑ ูุญููุฉ ุนูู ุงูุฎุงุฏู
4. **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ**: ุตูุฑ ุนุงููุฉ ุงูุฌูุฏุฉ ููุญุณูุฉ ุชููุงุฆูุงู

## ๐ ุงูุชูุตูุงุช

1. **ุฅูุดุงุก ููุชุจุฉ ุตูุฑ ุงูุชุฑุงุถูุฉ**: ูุฌููุนุฉ ูู ุงูุตูุฑ ุงูุงูุชุฑุงุถูุฉ ุนุงููุฉ ุงูุฌูุฏุฉ
2. **ุฅุถุงูุฉ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**: ุฑุณุงุฆู ูุงุถุญุฉ ุนูุฏ ูุดู ุชุญููู ุงูุตูุฑ
3. **ุชุญุณูู ุงูุฃุฏุงุก**: ุงุณุชุฎุฏุงู lazy loading ููุตูุฑ
4. **ุงููุฑุงูุจุฉ**: ุชุชุจุน ุงุณุชุฎุฏุงู Cloudinary ูุชุฌูุจ ุชุฌุงูุฒ ุงูุญุฏูุฏ

## โ ุงูุฎูุงุตุฉ

ุงููุดุฑูุน ูุณุชุฎุฏู Cloudinary ุจุดูู ุตุญูุญ ูู ูุนุธู ุงูุฃูุงููุ ููู ููุงู ุญุงุฌุฉ ูุฅุตูุงุญ:
- ุงูุตูุฑ ุงูุนุดูุงุฆูุฉ ุงูุชู ุชุชุบูุฑ ูู ูู ูุฑุฉ
- ุงุณุชุจุฏุงู ุงูุตูุฑ ุงููุญููุฉ ุจุตูุฑ Cloudinary
- ุฅุถุงูุฉ ุงูุชุญูู ูู ุตุญุฉ ุงูุฑูุงุจุท

ูุฐู ุงูุฅุตูุงุญุงุช ุณุชุถูู ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุซุงุจุชุฉ ูุฃุฏุงุก ูุญุณู. 
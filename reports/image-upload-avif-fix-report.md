# ุชูุฑูุฑ ุญู ูุดููุฉ ุฑูุน ุตูุฑ AVIF

## ๐ ููุฎุต ุงููุดููุฉ

**ุงููุดููุฉ**: ูุดู ุฑูุน ุงูุตูุฑ ุจุตูุบุฉ AVIF ูุน ุธููุฑ ุฑุณุงูุฉ "ูุดู ุฑูุน ุงูุตูุฑุฉ"
**ุงูุณุจุจ ุงูุฌุฐุฑู**: API ุงูุฑูุน ูุง ูุฏุนู ุตูุบุฉ AVIF ุงูุญุฏูุซุฉ
**ุงูุชุงุฑูุฎ**: 23 ููููู 2025

## ๐ ุงูุชุดุฎูุต

### 1. ุงููุดููุฉ ุงูููุชุดูุฉ:
```
โ ููุน ููู ุบูุฑ ูุฏุนูู: image/avif
```

### 2. ุงูุตูุบ ุงููุฏุนููุฉ ุณุงุจูุงู:
- image/jpeg
- image/jpg  
- image/png
- image/gif
- image/webp

### 3. ุงูุตูุบุฉ ุงูููููุฏุฉ:
- image/avif (ุตูุบุฉ ุญุฏูุซุฉ ุนุงููุฉ ุงูููุงุกุฉ)
- image/svg+xml (ุฑุณูููุงุช ูุชุฌูุฉ)

## โ ุงูุญููู ุงููุทุจูุฉ

### 1. ุชุญุฏูุซ API ุงูุฑูุน (`app/api/upload/route.ts`):
```typescript
// ูุจู
const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp'];

// ุจุนุฏ  
const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp', 'image/avif', 'image/svg+xml'];
```

### 2. ุชุญุณูู ุฑุณุงุฆู ุงูุฎุทุฃ:
```typescript
// ูุจู
{ success: false, error: 'ููุน ุงูููู ุบูุฑ ูุฏุนูู. ููุณูุญ ุจู: JPG, PNG, GIF, WEBP' }

// ุจุนุฏ
{ success: false, error: 'ููุน ุงูููู ุบูุฑ ูุฏุนูู (${file.type}). ููุณูุญ ุจู: JPG, PNG, GIF, WEBP, AVIF, SVG' }
```

### 3. ุชุญุฏูุซ ูุญุฑุฑ ุงููุญุชูู (`components/ContentEditor.tsx`):
```typescript
// ูุจู
if (!file.type.startsWith('image/')) {
  alert('ูุฑุฌู ุงุฎุชูุงุฑ ููู ุตูุฑุฉ ุตุงูุญ');
}

// ุจุนุฏ
const supportedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp', 'image/avif', 'image/svg+xml'];
if (!supportedTypes.includes(file.type)) {
  alert(`ููุน ุงูููู ุบูุฑ ูุฏุนูู (${file.type}). ุงูุตูุบ ุงููุฏุนููุฉ: JPG, PNG, GIF, WEBP, AVIF, SVG`);
}
```

### 4. ุฃุฏุงุฉ ุงุฎุชุจุงุฑ ูุญุณูุฉ:
- ุฅูุดุงุก `scripts/test-image-upload-avif.js`
- ูุญุต ุดุงูู ูููุฌูุฏุงุช ูุงูุตูุงุญูุงุช
- ูุงุฆูุฉ ุจุฌููุน ุงูุตูุบ ุงููุฏุนููุฉ
- ูุตุงุฆุญ ูุญู ุงููุดุงูู

## ๐ ุงููุชุงุฆุฌ

### ุงูุตูุบ ุงููุฏุนููุฉ ุงูุขู:
1. โ **JPEG/JPG** - ุงูุตูุบุฉ ุงูุฃูุซุฑ ุดููุนุงู
2. โ **PNG** - ุฏุนู ุงูุดูุงููุฉ
3. โ **GIF** - ุงูุตูุฑ ุงููุชุญุฑูุฉ  
4. โ **WEBP** - ุตูุบุฉ ุญุฏูุซุฉ ูุถุบูุทุฉ
5. โ **AVIF** - ุฃุญุฏุซ ุตูุบุฉ ุนุงููุฉ ุงูููุงุกุฉ
6. โ **SVG** - ุฑุณูููุงุช ูุชุฌูุฉ ูุงุจูุฉ ููุชูุจูุฑ

### ุงูููุงุตูุงุช ุงูุชูููุฉ:
- **ุญุฏ ุงูุญุฌู**: 5MB
- **ูุฌูุฏุงุช ุงูุฑูุน**: featured, articles, avatars
- **ุงูุชุดููุฑ**: UUID + timestamp ูุฃุณูุงุก ูุฑูุฏุฉ
- **ุงูุญูุงูุฉ**: ุงูุชุญูู ูู ุงูููุน ูุงูุญุฌู

## ๐ ุงูุชุญุณููุงุช ุงููุถุงูุฉ

### 1. ุชุณุฌูู ููุตู:
```javascript
console.log('๐ ุจุฏุก ูุนุงูุฌุฉ ุทูุจ ุฑูุน ุงูุตูุฑุฉ...');
console.log('๐ ูุนูููุงุช ุงูููู:', { fileName, fileSize, fileType });
console.log('โ ุชู ุฑูุน ุงูุตูุฑุฉ ุจูุฌุงุญ');
```

### 2. ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ:
- ุนุฑุถ ููุน ุงูููู ุงููุฑููุถ
- ูุงุฆูุฉ ุจุงูุตูุบ ุงููุฏุนููุฉ
- ูุนูููุงุช ุนู ุญุฏ ุงูุญุฌู

### 3. ุฃุฏูุงุช ุชุดุฎูุต:
- ูุญุต ุงููุฌูุฏุงุช ูุงูุตูุงุญูุงุช
- ุงุฎุชุจุงุฑ curl ููู API
- ุฅุญุตุงุฆูุงุช ุดุงููุฉ

## ๐ฏ ุฎุทูุงุช ูุง ุจุนุฏ ุงูุญู

### ูููุณุชุฎุฏู:
1. **ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู** (ุฃูู ุฎุทูุฉ)
2. ูุณุญ cache ุงููุชุตูุญ
3. ุชุฌุฑุจุฉ ุฑูุน ุตูุฑุฉ AVIF ุฌุฏูุฏุฉ

### ูููุทูุฑ:
1. ูุฑุงูุจุฉ ุณุฌูุงุช ุงูุฎุงุฏู
2. ุงุฎุชุจุงุฑ ุฌููุน ุงูุตูุบ ุงููุฏุนููุฉ
3. ุงูุชุฃูุฏ ูู ุฃุฏุงุก ุงูุถุบุท

## ๐ ุงูููุงุฆุฏ ุงููุญููุฉ

### 1. ุฏุนู ุฃูุณุน ููุตูุบ:
- **AVIF**: ุชูููุฑ 50% ูู ุงูุญุฌู ููุงุฑูุฉ ุจู JPEG
- **SVG**: ุฑุณูููุงุช ูุงุจูุฉ ููุชูุจูุฑ ุจุฏูู ููุฏุงู ุฌูุฏุฉ

### 2. ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ:
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ููููุฏุฉ
- ุฏุนู ุงูุตูุบ ุงูุญุฏูุซุฉ
- ูุนุงููุฉ ููุฑูุฉ ููุตูุฑ

### 3. ุฃุฏูุงุช ุชุดุฎูุต ูุชูุฏูุฉ:
- ูุญุต ุดุงูู ูููุธุงู
- ูุตุงุฆุญ ูุญู ุงููุดุงูู
- ุฅุญุตุงุฆูุงุช ููุตูุฉ

## ๐ง ุฃูุงูุฑ ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ API ูุจุงุดุฑุฉ:
```bash
curl -X POST http://localhost:3000/api/upload \
  -F "file=@image.avif" \
  -F "type=featured"
```

### ุชุดุบูู ุฃุฏุงุฉ ุงูุชุดุฎูุต:
```bash
node scripts/test-image-upload-avif.js
```

## โจ ุฎูุงุตุฉ

ุชู ุญู ูุดููุฉ ุฑูุน ุตูุฑ AVIF ุจูุฌุงุญ ูู ุฎูุงู:
- โ ุชุญุฏูุซ ูุงุฆูุฉ ุงูุตูุบ ุงููุฏุนููุฉ
- โ ุชุญุณูู ุฑุณุงุฆู ุงูุฎุทุฃ  
- โ ุฅุถุงูุฉ ุฃุฏูุงุช ุชุดุฎูุต
- โ ุชูุซูู ุดุงูู ููุญู

**ุงููุธุงู ุงูุขู ูุฏุนู 7 ุตูุบ ุตูุฑ ูุฎุชููุฉ ุจูุง ูู ุฐูู ุฃุญุฏุซ ุตูุบุฉ AVIF ุนุงููุฉ ุงูููุงุกุฉ.** 
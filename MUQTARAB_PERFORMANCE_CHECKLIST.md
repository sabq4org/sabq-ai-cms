# قائمة التحقق من تحسينات أداء مُقترب

## ✅ المكتمل

### 1. إلغاء الجلب المزدوج
- [x] لا يوجد `useEffect(() => fetchArticle...)` في أي مكون
- [x] كل البيانات تُجلب في Server Components
- [x] البيانات تُمرر كـ props جاهزة للعميل

### 2. Skeleton موحد
- [x] Suspense واحدة عليا مع Skeleton خفيف
- [x] لا يوجد سبينر يغطي الصفحة مرتين
- [x] loading.tsx لكل مسار

### 3. HeaderSpacer ثابت
- [x] مساحة ثابتة قبل المحتوى
- [x] لا إضافة للمساحة عبر JavaScript
- [x] يمنع CLS والقفزة

### 4. جلب متوازي
- [x] Promise.all للبيانات المستقلة
- [x] لا waterfall في جلب البيانات

### 5. كاش مضبوط
- [x] revalidate: 60 لجميع الصفحات
- [x] cache headers على API routes
- [x] tags للـ revalidation المستهدف

### 6. صور محسّنة
- [x] sizes محددة لجميع الصور
- [x] loading="lazy" للصور غير الحرجة
- [x] priority للصور الرئيسية

## 📋 اختبارات يدوية مطلوبة

### 1. اختبار سرعة التحميل
- [ ] افتح `/muqtarab` - يجب أن يظهر skeleton فوراً
- [ ] لا شاشة بيضاء أبداً
- [ ] المحتوى يظهر تدريجياً

### 2. اختبار التنقل
- [ ] من قائمة الزوايا إلى زاوية - سريع وسلس
- [ ] من زاوية إلى مقال - لا تأخير ملحوظ
- [ ] زر العودة - لا إعادة تحميل كاملة

### 3. اختبار الشبكة
- [ ] فتح Network tab
- [ ] التنقل بين الصفحات
- [ ] عدد طلبات API للمقال الواحد = 1

### 4. اختبار الموبايل
- [ ] لا قفزة عند التحميل
- [ ] التمرير سلس
- [ ] الصور تحمل تدريجياً

## 📊 قياسات الأداء

### Lighthouse (Target)
- Performance: > 90
- FCP: < 1.8s
- LCP: < 2.5s
- CLS: < 0.1

### Web Vitals (Production)
- TTFB: < 800ms
- FID: < 100ms
- INP: < 200ms

## 🚀 خطوات النشر

1. **Commit & Push**
   ```bash
   git add -A
   git commit -m "perf: تحسين شامل لأداء قسم مُقترب"
   git push
   ```

2. **Vercel Build**
   - انتظر 3-5 دقائق
   - تحقق من build logs

3. **Production Test**
   - اختبر كل المسارات
   - قس الأداء بـ PageSpeed Insights

4. **Monitor**
   - راقب Vercel Analytics
   - تحقق من Error logs

## 🎯 معايير النجاح

- ✅ لا شاشة بيضاء نهائياً
- ✅ رسالة التحميل مرة واحدة فقط
- ✅ CLS < 0.1
- ✅ LCP < 2.5s على 4G
- ✅ لا إعادة جلب عند التركيب
- ✅ التنقل بين الصفحات سلس

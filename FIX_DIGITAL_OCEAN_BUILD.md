# ุญู ูุดููุฉ ุงูุจูุงุก ุนูู Digital Ocean

## ุงููุดููุฉ
```
[Error: Failed to collect page data for /api/upload]
```

ูุฐุง ุงูุฎุทุฃ ูุญุฏุซ ุจุณุจุจ ููุชุจุฉ `sharp` ุงูุชู ุชูุณุชุฎุฏู ููุนุงูุฌุฉ ุงูุตูุฑ.

## ุงูุญููู

### 1. ุชุญุฏูุซ ููู app.yaml
ุชุฃูุฏ ูู ุฃู `build_command` ูุณุชุฎุฏู ุงูุณูุฑูุจุช ุงูุฌุฏูุฏ:
```yaml
build_command: node scripts/digitalocean-build-fix.js
```

### 2. ุชุญุฏูุซ Dockerfile
ุชู ุฅุถุงูุฉ ุงูุชุจุนูุงุช ุงููุทููุจุฉ ูู sharp:
```dockerfile
RUN apk add --no-cache libc6-compat python3 make g++ vips-dev
```

### 3. ุชุญุฏูุซ ุงูููุฏ ููุชุนุงูู ูุน ุนุฏู ุชููุฑ sharp
ุชู ุชุญุฏูุซ `lib/image-optimizer.ts` ููุชุนุงูู ูุน ุงูุญุงูุงุช ุงูุชู ูุง ูุชููุฑ ูููุง sharp.

### 4. ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงููุทููุจุฉ
ุชุฃูุฏ ูู ูุฌูุฏ ูุฐู ุงููุชุบูุฑุงุช ูู Digital Ocean:
```
DATABASE_URL=postgresql://...
JWT_SECRET=...
SKIP_EMAIL_VERIFICATION=true
NEXT_TELEMETRY_DISABLED=1
```

### 5. ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ

#### ุงูุฎูุงุฑ ุงูุฃูู: ุชุนุทูู ุชุญุณูู ุงูุตูุฑ ูุคูุชุงู
ุฃุถู ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ:
```
DISABLE_IMAGE_OPTIMIZATION=true
```

#### ุงูุฎูุงุฑ ุงูุซุงูู: ุงุณุชุฎุฏุงู ุจูุงุก ูุฎุตุต
```bash
# ูู Build Command
npm install --include=optional sharp || true && node scripts/digitalocean-build-fix.js
```

#### ุงูุฎูุงุฑ ุงูุซุงูุซ: ุงุณุชุฎุฏุงู Docker
ุงุณุชุฎุฏู Dockerfile ุงููุญุฏุซ ุงูุฐู ูุญุชูู ุนูู ุฌููุน ุงูุชุจุนูุงุช.

## ุงูุชุญูู ูู ูุฌุงุญ ุงูุจูุงุก

1. ุงุฐูุจ ุฅูู **Activity** โ **Deployments**
2. ุงููุฑ ุนูู ุขุฎุฑ deployment
3. ุงุถุบุท **View Logs**
4. ุงุจุญุซ ุนู:
   - `โ ุชู ุชุซุจูุช sharp ุจูุฌุงุญ` ุฃู
   - `โ๏ธ ูุดู ุชุซุจูุช sharpุ ุณูุชู ุงูุงุณุชูุฑุงุฑ ุจุฏููู`
   - `๐ ุชู ุฅููุงู ุงูุจูุงุก ุจูุฌุงุญ!`

## ููุงุญุธุงุช ูููุฉ

- ุฅุฐุง ูุดู ุชุซุจูุช sharpุ ุณูุณุชูุฑ ุงูุชุทุจูู ุจุงูุนูู ูููู ุจุฏูู ุชุญุณูู ุงูุตูุฑ
- ุงูุตูุฑ ุณุชุฑูุน ุฅูู Cloudinary ูุจุงุดุฑุฉ ุจุฏูู ุชุญุณูู
- ูุฐุง ูู ูุคุซุฑ ุนูู ูุธุงุฆู ุงูุชุทุจูู ุงูุฃุณุงุณูุฉ 
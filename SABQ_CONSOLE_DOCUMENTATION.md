# وثائق لوحة سبق الذكية - Sabq Console Dashboard

## نظرة عامة

لوحة سبق الذكية هي مركز التحكم والمراقبة المتقدم لمنصة صحيفة سبق الإلكترونية. تجمع اللوحة بين التحليلات اللحظية، مراقبة النظام، تتبع سلوك المستخدمين، والذكاء الاصطناعي في واجهة واحدة متكاملة.

## المميزات الرئيسية

### 1. مؤشرات الأداء اللحظية (Live KPIs)
- **الزوار النشطون**: عدد الزوار المتواجدين حالياً على الموقع
- **المقالات المنشورة**: إحصائيات النشر اليومية
- **المشاهدات**: إجمالي مشاهدات الصفحات
- **معدل التفاعل**: نسبة تفاعل الزوار مع المحتوى
- **الأخبار العاجلة**: عدد الأخبار العاجلة المنشورة
- **متوسط وقت القراءة**: الوقت الذي يقضيه الزوار في قراءة المقالات
- **التعليقات**: عدد التعليقات الجديدة والمعلقة
- **أداء الخادم**: حالة الخوادم ونسبة التشغيل

### 2. رؤى الذكاء الاصطناعي (AI Insights)
نظام ذكي يقدم توصيات لحظية:
- **توصيات النشر**: أفضل أوقات النشر بناءً على تحليل البيانات
- **تحذيرات الجودة**: تنبيهات عند انخفاض جودة المحتوى
- **الفرص الساخنة**: مواضيع رائجة يُنصح بتغطيتها
- **الإنجازات**: تقدير للأداء المتميز للفريق

### 3. سجل النشاطات المباشر (Activity Timeline)
تتبع لحظي لجميع الأحداث:
- نشر وتحرير المقالات
- دخول وخروج المستخدمين
- تفاعلات الذكاء الاصطناعي
- تنبيهات النظام
- مع إمكانية البحث والتصفية المتقدمة

### 4. تنبيهات النظام (System Alerts)
مراقبة استباقية للمشاكل:
- **تنبيهات الأداء**: بطء في الاستجابة أو ضغط على الخوادم
- **تنبيهات المحتوى**: أقسام بدون نشر لفترات طويلة
- **تنبيهات الأمان**: محاولات دخول مشبوهة
- **تنبيهات التقنية**: مشاكل في APIs أو الخدمات

### 5. مراقبة المحتوى (Content Monitor)
تحليل شامل للمحتوى المنشور:
- إحصائيات المقالات حسب القسم
- تقييم AI لجودة المحتوى
- المقالات الأكثر تفاعلاً
- المحتوى الذي يحتاج تحسين

### 6. تحليل سلوك المحررين (Editor Behavior)
متابعة أداء فريق التحرير:
- عدد المقالات المنشورة لكل محرر
- معدل استخدام أدوات AI
- نسبة قبول اقتراحات AI
- متوسط وقت الكتابة
- ساعات الذروة للنشاط

## هيكل قاعدة البيانات

### الجداول الجديدة

#### 1. `ai_interactions` - تفاعلات الذكاء الاصطناعي
```sql
- id: UUID (المعرف الفريد)
- user_id: UUID (معرف المستخدم)
- interaction_type: TEXT (نوع التفاعل)
- request_data: JSONB (بيانات الطلب)
- response_data: JSONB (بيانات الاستجابة)
- tokens_used: INT (عدد التوكنز المستخدمة)
- processing_time_ms: INT (وقت المعالجة)
- was_accepted: BOOLEAN (هل تم قبول النتيجة)
- feedback: TEXT (ملاحظات المستخدم)
- article_id: UUID (معرف المقال المرتبط)
- created_at: TIMESTAMP
```

#### 2. `content_insights` - رؤى المحتوى
```sql
- id: SERIAL
- article_id: UUID
- ai_score: FLOAT (0-100)
- seo_score: FLOAT (0-100)
- readability_score: FLOAT (0-100)
- engagement_prediction: FLOAT
- recommendations: JSONB
- similar_articles: UUID[]
- optimal_publish_time: TIMESTAMP
- keywords_analysis: JSONB
- sentiment_analysis: JSONB
```

#### 3. `system_alerts` - تنبيهات النظام
```sql
- id: UUID
- alert_type: TEXT (performance, security, content, ai, system)
- severity: TEXT (info, warning, error, critical)
- title: TEXT
- message: TEXT
- metadata: JSONB
- is_resolved: BOOLEAN
- resolved_by: UUID
- resolved_at: TIMESTAMP
```

#### 4. `performance_metrics` - مقاييس الأداء
```sql
- id: SERIAL
- metric_type: TEXT
- value: NUMERIC
- metadata: JSONB
- recorded_at: TIMESTAMP
```

#### 5. `editor_behavior` - سلوك المحررين
```sql
- id: SERIAL
- user_id: UUID
- date: DATE
- ai_usage_count: INT
- ai_acceptance_rate: FLOAT
- avg_writing_time_minutes: FLOAT
- avg_editing_time_minutes: FLOAT
- articles_started: INT
- articles_completed: INT
- peak_activity_hour: INT
- most_used_ai_features: JSONB
```

## API Endpoints

### 1. `/api/console/live-kpis`
جلب مؤشرات الأداء اللحظية
```json
GET /api/console/live-kpis
Response: {
  "kpis": [...],
  "hourlyData": [...],
  "lastUpdated": "2024-01-15T10:30:00Z"
}
```

### 2. `/api/console/activities`
جلب سجل النشاطات
```json
GET /api/console/activities?limit=50&offset=0&search=
Response: {
  "activities": [...],
  "total": 150,
  "offset": 0,
  "limit": 50
}
```

### 3. `/api/console/ai-insights`
جلب رؤى الذكاء الاصطناعي
```json
GET /api/console/ai-insights
Response: {
  "insights": [...],
  "recommendations": [...],
  "lastAnalysis": "2024-01-15T10:00:00Z"
}
```

### 4. `/api/console/alerts`
جلب تنبيهات النظام
```json
GET /api/console/alerts?severity=all&resolved=false
Response: {
  "alerts": [...],
  "summary": {
    "critical": 1,
    "error": 3,
    "warning": 5,
    "info": 2
  }
}
```

## تكامل الذكاء الاصطناعي

### 1. تحليل جودة المحتوى
- تقييم تلقائي للعناوين والمحتوى
- اكتشاف المحتوى المكرر أو المشابه
- اقتراحات تحسين SEO
- تحليل المشاعر والنبرة

### 2. التنبؤ بالأداء
- توقع معدلات التفاعل للمقالات
- تحديد أفضل أوقات النشر
- التنبؤ بالمواضيع الرائجة
- تحليل سلوك القراء

### 3. توصيات ذكية
- اقتراح مواضيع للكتابة
- توصيات تحسين المحتوى
- تنبيهات للفرص الضائعة
- نصائح لتحسين الأداء

## الأمان والصلاحيات

### الصلاحيات المطلوبة
- `console.view`: عرض لوحة التحكم
- `console.kpis`: عرض مؤشرات الأداء
- `console.activities`: عرض سجل النشاطات
- `console.alerts`: إدارة التنبيهات
- `console.ai_insights`: عرض رؤى AI
- `console.export`: تصدير البيانات

### تسجيل النشاطات
جميع الإجراءات في لوحة التحكم يتم تسجيلها تلقائياً:
- من قام بالإجراء
- نوع الإجراء
- الوقت والتاريخ
- عنوان IP

## أفضل الممارسات

### 1. الأداء
- استخدام WebSockets للتحديثات اللحظية
- تخزين مؤقت للبيانات الثابتة
- تحديث تدريجي للمكونات
- lazy loading للمكونات الثقيلة

### 2. تجربة المستخدم
- واجهة سريعة الاستجابة
- دعم الوضع الليلي
- اختصارات لوحة المفاتيح
- إشعارات غير مزعجة

### 3. البيانات
- حفظ السجلات لمدة سنة كاملة
- أرشفة تلقائية للبيانات القديمة
- نسخ احتياطية يومية
- تشفير البيانات الحساسة

## خطط التطوير المستقبلية

### المرحلة القادمة
1. دمج تحليلات وسائل التواصل الاجتماعي
2. نظام تنبؤ متقدم بالذكاء الاصطناعي
3. لوحة تحكم مخصصة لكل مستخدم
4. تقارير تلقائية يومية/أسبوعية
5. تطبيق موبايل للوحة التحكم

### تحسينات مخططة
- دعم اللغات المتعددة
- تكامل مع أدوات تحليل خارجية
- نظام إنذار مبكر متطور
- أتمتة المزيد من المهام الروتينية

## الدعم والمساعدة

للحصول على المساعدة أو الإبلاغ عن مشكلة:
- البريد الإلكتروني: support@sabq.org
- الوثائق الفنية: /docs/console
- فريق الدعم الفني: متاح 24/7 
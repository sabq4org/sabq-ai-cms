# ๐ง ููุฎุต ุญููู ูุดุงูู ูุธุงู ุงูููุงูุงุช - ููููู 2025

## ๐ ุงููุดุงูู ุงูุชู ุชู ุญููุง

### 1. โ **ูุดููุฉ "ุบูุฑ ูุตููู" ูู ุงูููุงูุงุช**

#### ๐จ ุงููุดููุฉ
ุฌููุน ุงูููุงูุงุช ูุงูุช ุชุธูุฑ ูู "ุบูุฑ ูุตููู" ูู ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉ ูููุญุฉ ุงูุชุญูู ุฑุบู ูุฌูุฏ ุชุตูููุงุช.

#### ๐ ุงูุณุจุจ
ูู `app/api/articles/route.ts`ุ ูุงู ููุงู ุฎุทุฃ ูู ุงุณู ุงูุญูู:
```javascript
// โ ุฎุทุฃ - ุงูุญูู ุงููุนูู ุงุณูู categories ูููุณ category
const category = article.category || null;

// โ ุงูุตุญูุญ
const category = article.categories || null;
```

#### ๐ก ุงูุญู ุงููุทุจู
- ุชุตุญูุญ ุงุณู ุงูุญูู ูู `category` ุฅูู `categories` ูู ุณุทุฑ 420
- ุงูุชุฃูุฏ ูู include ุงูุนูุงูุฉ ุจุดูู ุตุญูุญ ูู query

---

### 2. โ **ูุดููุฉ ุฎุทุฃ ุชุญููู ุงูููุงู ูู ุตูุญุฉ ุงูุชุนุฏูู**

#### ๐จ ุงููุดููุฉ
ุธููุฑ ุฑุณุงูุฉ "ูุดู ูู ุฌูุจ ุงูููุงู" ุฏูู ุชูุงุตูู ุนูุฏ ูุญุงููุฉ ุชุนุฏูู ููุงู.

#### ๐ก ุงูุญู ุงููุทุจู
ูู `app/dashboard/article/edit/[id]/page.tsx`:
```javascript
// ุฅุถุงูุฉ ุชูุงุตูู ุงูุฎุทุฃ
const errorData = await res.json().catch(() => null);
const errorMessage = errorData?.error || res.statusText || 'ุฎุทุฃ ุบูุฑ ูุนุฑูู';
throw new Error(`ูุดู ูู ุฌูุจ ุงูููุงู: ${res.status} - ${errorMessage}`);
```

---

### 3. โ **ูุธุงู ุชุชุจุน ุงูุชูุงุนูุงุช ุงูุดุงูู**

#### ๐ ุงููููุฒุงุช ุงููุถุงูุฉ

##### **API Endpoint** `/api/interactions/route.ts`
- **GET**: ุฌูุจ ุงูุชูุงุนูุงุช ููููุงู ุฃู ุงููุณุชุฎุฏู
- **POST**: ุฅุถุงูุฉ/ุฅูุบุงุก ุชูุงุนู (toggle)
- **DELETE**: ุญุฐู ุชูุงุนู ููุงุฆูุงู

##### **ุฃููุงุน ุงูุชูุงุนูุงุช ุงููุฏุนููุฉ**
```typescript
enum interactions_type {
  like        // ุฅุนุฌุงุจ
  save        // ุญูุธ/bookmark
  share       // ูุดุงุฑูุฉ
  comment     // ุชุนููู
  view        // ูุดุงูุฏุฉ
  reading_session // ุฌูุณุฉ ูุฑุงุกุฉ
}
```

##### **Component ุฌุฏูุฏ** `ArticleInteractions.tsx`
- ุฃุฒุฑุงุฑ ุชูุงุนููุฉ ูุชูุฏูุฉ ูุน animations
- ุชุชุจุน ุญุงูุฉ ุงููุณุชุฎุฏู (liked/saved/shared)
- ุนุฑุถ ุฅุญุตุงุฆูุงุช real-time
- ุชุณุฌูู ุงููุดุงูุฏุงุช ุชููุงุฆูุงู
- ุชุชุจุน ููุช ุงููุฑุงุกุฉ ุนูุฏ ูุบุงุฏุฑุฉ ุงูุตูุญุฉ

##### **ููุงุท ุงูููุงุก**
```javascript
const pointsMap = {
  like: 1,
  save: 2,
  share: 3,
  comment: 5,
  reading_session: 10
};
```

---

## ๐ **ููููุฉ ุงูุงุณุชุฎุฏุงู**

### ูู ุตูุญุฉ ุงูููุงู
```tsx
import ArticleInteractions from '@/components/article/ArticleInteractions';

<ArticleInteractions 
  articleId={article.id}
  initialStats={{
    likes: article.likes || 0,
    saves: article.saves || 0,
    shares: article.shares || 0,
    views: article.views || 0
  }}
/>
```

### ุงุณุชุฏุนุงุก API
```javascript
// ุฌูุจ ุชูุงุนูุงุช ููุงู
GET /api/interactions?article_id=123

// ุฌูุจ ุชูุงุนูุงุช ูุณุชุฎุฏู
GET /api/interactions?user_id=456

// ุฅุถุงูุฉ/ุฅูุบุงุก ุฅุนุฌุงุจ
POST /api/interactions
{
  "user_id": "456",
  "article_id": "123", 
  "type": "like"
}
```

---

## ๐ **ุงูุจูุงูุงุช ุงููุญููุธุฉ**

### ูู ุฌุฏูู `interactions`
- `id`: ูุนุฑู ูุฑูุฏ
- `user_id`: ูุนุฑู ุงููุณุชุฎุฏู
- `article_id`: ูุนุฑู ุงูููุงู
- `type`: ููุน ุงูุชูุงุนู
- `created_at`: ููุช ุงูุชูุงุนู

### ูู ุฌุฏูู `articles`
- `likes`: ุนุฏุฏ ุงูุฅุนุฌุงุจุงุช
- `saves`: ุนุฏุฏ ูุฑุงุช ุงูุญูุธ
- `shares`: ุนุฏุฏ ุงููุดุงุฑูุงุช
- `views`: ุนุฏุฏ ุงููุดุงูุฏุงุช

### ูู ุฌุฏูู `loyalty_points`
- ููุงุท ููุงูุฃุฉ ููู ุชูุงุนู
- ุฑุจุท ุจุงูููุงู ูุงููุณุชุฎุฏู

---

## ๐ **ููุชุญูู ูู ุงููุธุงู**

### ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```sql
-- ุนุฑุถ ุขุฎุฑ ุงูุชูุงุนูุงุช
SELECT * FROM interactions 
ORDER BY created_at DESC 
LIMIT 10;

-- ุฅุญุตุงุฆูุงุช ุงูุชูุงุนู ูููุงู
SELECT type, COUNT(*) as count 
FROM interactions 
WHERE article_id = 'ARTICLE_ID' 
GROUP BY type;
```

### ูู ุงููุชุตูุญ (Console)
```javascript
// ูุญุต ุงูุชูุงุนูุงุช ููููุงู ุงูุญุงูู
fetch('/api/interactions?article_id=ARTICLE_ID')
  .then(r => r.json())
  .then(console.log);
```

---

## โ๏ธ **ููุงุญุธุงุช ูููุฉ**

### 1. **ุงูุชุตูููุงุช**
- ุชุฃูุฏ ูู ุงุฎุชูุงุฑ ุชุตููู ุนูุฏ ุฅูุดุงุก/ุชุนุฏูู ุงูููุงู
- ุงูููุงูุงุช ุจุฏูู ุชุตููู ุณุชุธูุฑ ูู "ุบูุฑ ูุตูู"

### 2. **ุงูุชูุงุนูุงุช**
- ุชุชุทูุจ ุชุณุฌูู ุฏุฎูู ุงููุณุชุฎุฏู
- ุงูุชูุงุนูุงุช ุงููุงุจูุฉ ููุชุจุฏูู: like, save
- ุงูุชูุงุนูุงุช ุงูุชุฑุงูููุฉ: share, view, comment

### 3. **ููุช ุงููุฑุงุกุฉ**
- ููุณุฌู ุชููุงุฆูุงู ุนูุฏ ูุบุงุฏุฑุฉ ุงูุตูุญุฉ
- ูุชุฌุงูู ุงููุฑุงุกุงุช ุฃูู ูู 5 ุซูุงูู
- ูููุญ 10 ููุงุท ููุงุก

---

## ๐ **ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ ุงูููุชุฑุญุฉ**

1. **ุฅุถุงูุฉ ุชุญูููุงุช ูุชูุฏูุฉ**
   - ูุนุฏู ุงูุชูุงุนู ููู ููุงู
   - ุฃููุงุช ุงูุฐุฑูุฉ ููุชูุงุนู
   - ุชูุงุฑูุฑ ุงููุคูููู

2. **ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู**
   - ุฅุดุนุงุฑุงุช ุนูุฏ ุงูุชูุงุนู
   - ุนุฑุถ ูู ุฃุนุฌุจ/ุญูุธ ุงูููุงู
   - ูุดุงุฑูุฉ ุนูู ูุณุงุฆู ุงูุชูุงุตู

3. **ุชุญุณููุงุช ุชูููุฉ**
   - WebSocket ููุชุญุฏูุซุงุช ุงูููุฑูุฉ
   - Caching ููุชูุงุนูุงุช ุงูุดุงุฆุนุฉ
   - Rate limiting ููุญูุงูุฉ

---

**ุขุฎุฑ ุชุญุฏูุซ**: 18 ููููู 2025  
**ุงูุญุงูุฉ**: โ ุฌููุน ุงููุดุงูู ูุญูููุฉ ูุงููุธุงู ูุนูู ุจููุงุกุฉ 
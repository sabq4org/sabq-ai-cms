# 📰 تحسينات صفحة إدارة الأخبار

## 📋 التعديلات المطلوبة والمنفذة

### ✅ 1. حذف عمود "اسم الكاتب" كعمود مستقل
- **تم حذف** عمود الكاتب من الجدول
- **تم إضافة** اسم الكاتب أسفل عنوان الخبر بخط صغير
- **التنسيق**: `text-xs text-gray-400`
- **المحاذاة**: يمين مع العنوان

### ✅ 2. تعديل عرض التصنيف
- **قبل**: كان يعرض `category_id` كرقم (مثال: 5 أو 4)
- **بعد**: يعرض اسم التصنيف (`name_ar`) بدلاً من ID
- **التصميم**: شارة ملونة بخلفية اللون المحدد لكل تصنيف
- **لون النص**: يتم حسابه تلقائياً (أسود أو أبيض) حسب التباين

## 🎨 التصنيفات المتاحة
```javascript
const categories = {
  1: { name: 'محليات', color: '#EF4444' },     // أحمر
  2: { name: 'تقنية', color: '#8B5CF6' },      // بنفسجي
  3: { name: 'اقتصاد', color: '#10B981' },     // أخضر
  4: { name: 'رياضة', color: '#F59E0B' },      // برتقالي
  5: { name: 'سياسة', color: '#3B82F6' },      // أزرق
  6: { name: 'ترفيه', color: '#EC4899' },      // وردي
  7: { name: 'صحة', color: '#06B6D4' },        // سماوي
  8: { name: 'تعليم', color: '#6366F1' },      // نيلي
  9: { name: 'ثقافة', color: '#14B8A6' },      // تركوازي
  10: { name: 'دولي', color: '#F97316' }       // برتقالي فاتح
};
```

## 🔧 الدوال المضافة

### دالة حساب لون النص
```javascript
function getContrastColor(hexColor: string): string {
  // تحويل HEX إلى RGB
  const r = parseInt(hexColor.slice(1, 3), 16);
  const g = parseInt(hexColor.slice(3, 5), 16);
  const b = parseInt(hexColor.slice(5, 7), 16);
  
  // حساب اللمعان
  const luminance = (0.299 * r + 0.587 * g + 0.114 * b) / 255;
  
  // إرجاع أسود أو أبيض حسب اللمعان
  return luminance > 0.5 ? '#000000' : '#FFFFFF';
}
```

## 📁 الملفات المعدلة
- `/app/dashboard/news/page.tsx` - صفحة إدارة الأخبار
- `/data/articles.json` - بيانات المقالات (إضافة أسماء الكتاب)

## 🖼️ مثال على الشكل النهائي

### قبل:
```
| العنوان | الكاتب | التصنيف | ... |
|---------|--------|---------|-----|
| خبر 1   | أحمد   | 5       | ... |
```

### بعد:
```
| العنوان                    | التصنيف    | ... |
|----------------------------|-----------|-----|
| خبر 1                      | [سياسة] 🔵 | ... |
| بواسطة أحمد                |           |     |
```

## ⚠️ ملاحظات مهمة
1. **البيانات**: يجب أن تحتوي المقالات على `author_name` في قاعدة البيانات
2. **التصنيفات**: يتم تحديد اسم ولون التصنيف بناءً على `category_id`
3. **الأداء**: الدالة تعمل محلياً دون الحاجة لطلبات إضافية

---
تم التحديث بتاريخ: 17/06/2025 
# ๐ง ุฏููู ุงุณุชูุดุงู ุฃุฎุทุงุก ุงูุชูุงุนู (ุงูุฅุนุฌุงุจ ูุงูุญูุธ)

## ๐ฏ ุงููุดููุฉ ุงููุจูุบ ุนููุง
ุนูููุชุง ุงูุฅุนุฌุงุจ ูุงูุญูุธ ูู ุชูุงุตูู ุงูุฎุจุฑ ูุง ุชุนูู ูุชุธูุฑ ุฎุทุฃ.

## โ ุงูุฅุตูุงุญุงุช ุงููุทุจูุฉ

### 1. ุฅุตูุงุญ ูุณุงุฑ useAuth
**ุงููุดููุฉ:** ุงููููู `BasicLikeSave` ูุงู ูุณุชุฎุฏู ูุณุงุฑ ุฎุงุทุฆ ูู useAuth
```typescript
// ูุจู ุงูุฅุตูุงุญ โ
import { useAuth } from '@/contexts/AuthContext';

// ุจุนุฏ ุงูุฅุตูุงุญ โ
import { useAuth } from '@/hooks/useAuth';
```

### 2. ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
**ุงููุดููุฉ:** ุฑุณุงุฆู ุฎุทุฃ ุบูุฑ ูุงุถุญุฉ
**ุงูุญู:** ุฅุถุงูุฉ ุชุดุฎูุต ููุตู:

```typescript
// ุฅุถุงูุฉ console logs ููุชุชุจุน
console.log('๐ ูุญุงููุฉ ุฅุนุฌุงุจ:', { articleId, like: newLikeStatus, userId: user.id });
console.log('๐ ุงุณุชุฌุงุจุฉ ุงูุฅุนุฌุงุจ:', response.status, response.statusText);
console.log('๐ ุจูุงูุงุช ุงูุงุณุชุฌุงุจุฉ:', data);

// ุฑุณุงุฆู ุฎุทุฃ ูุญุณูุฉ
alert(`ุญุฏุซ ุฎุทุฃ ูู ุงูุฅุนุฌุงุจ: ${data.error || 'ุฎุทุฃ ุบูุฑ ูุนุฑูู'}`);
```

### 3. ุชุดุฎูุต ุญุงูุฉ ุงููุตุงุฏูุฉ
```typescript
// ุชุดุฎูุต ุญุงูุฉ ุงููุตุงุฏูุฉ
console.log('๐ง BasicLikeSave Debug:', {
  articleId,
  user: user ? { id: user.id, name: user.name } : null,
  authToken: authToken ? 'ููุฌูุฏ' : 'ุบูุฑ ููุฌูุฏ',
  initialLikes,
  initialSaves
});
```

## ๐งช ููููุฉ ุงุฎุชุจุงุฑ ุงูุฅุตูุงุญุงุช

### 1. ุงุฎุชุจุงุฑ ูุฏูู ูู ุงููุชุตูุญ
1. ุงูุชุญ Developer Tools (F12)
2. ุงูุชูู ุฅูู ุชุจููุจ Console
3. ุงุฐูุจ ุฅูู ุฃู ููุงู ูู `/news/[slug]`
4. ุฌุฑุจ ุงูุถุบุท ุนูู ุฃุฒุฑุงุฑ ุงูุฅุนุฌุงุจ ูุงูุญูุธ
5. ุฑุงูุจ ุงูุฑุณุงุฆู ูู Console

### 2. ุงุฎุชุจุงุฑ APIs ุจุงุณุชุฎุฏุงู ุงูุณูุฑูุจุช
```bash
# ุชุดุบูู ุงุฎุชุจุงุฑ APIs
node test-interactions.js
```

### 3. ูุญุต Network Tab
1. ุงูุชุญ Developer Tools
2. ุงูุชูู ุฅูู ุชุจููุจ Network
3. ุงุถุบุท ุนูู ุฒุฑ ุงูุฅุนุฌุงุจ ุฃู ุงูุญูุธ
4. ุชุญูู ูู ุงูุทูุจุงุช ุงููุฑุณูุฉ:
   - `/api/interactions/like` ููุฅุนุฌุงุจ
   - `/api/bookmarks` ููุญูุธ
   - `/api/interactions/user-status` ูุฌูุจ ุงูุญุงูุฉ

## ๐ ุงูุฃุฎุทุงุก ุงููุญุชููุฉ ูุญููููุง

### ุฎุทุฃ 401 Unauthorized
**ุงูุณุจุจ:** ุงููุณุชุฎุฏู ุบูุฑ ูุณุฌู ุงูุฏุฎูู ุฃู ุงูุชูุช ุตูุงุญูุฉ ุงูุฌูุณุฉ
**ุงูุญู:**
1. ุชุฃูุฏ ูู ุชุณุฌูู ุงูุฏุฎูู
2. ุชุญูู ูู ูุฌูุฏ token ูู localStorage ุฃู cookies
3. ุฌุฑุจ ุชุณุฌูู ุงูุฎุฑูุฌ ูุงูุฏุฎูู ูุฑุฉ ุฃุฎุฑู

### ุฎุทุฃ 404 Article not found
**ุงูุณุจุจ:** ูุนุฑู ุงูููุงู ุบูุฑ ุตุญูุญ
**ุงูุญู:**
1. ุชุฃูุฏ ูู ุฃู ุงูููุงู ููุฌูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. ุชุญูู ูู ุตุญุฉ articleId ุงููุฑุณู

### ุฎุทุฃ 500 Internal Server Error
**ุงูุณุจุจ:** ุฎุทุฃ ูู ุงูุฎุงุฏู ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช
**ุงูุญู:**
1. ุชุญูู ูู logs ุงูุฎุงุฏู
2. ุชุฃูุฏ ูู ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุชุญูู ูู ุตุญุฉ JWT_SECRET

### ูุง ูุธูุฑ ุงููุณุชุฎุฏู (user = null)
**ุงูุณุจุจ:** ูุดููุฉ ูู useAuth hook
**ุงูุญู:**
1. ุชุฃูุฏ ูู ูุฌูุฏ AuthProvider ูู ุงูุชุทุจูู
2. ุชุญูู ูู ุตุญุฉ JWT token
3. ุชุฃูุฏ ูู ุชุญุฏูุซ useAuth hook

## ๐ APIs ุงููุณุชุฎุฏูุฉ

### 1. ุฌูุจ ุญุงูุฉ ุงููุณุชุฎุฏู
```
GET /api/interactions/user-status?articleId={id}
Headers: Authorization: Bearer {token}
```

**ุงูุงุณุชุฌุงุจุฉ ุงููุชููุนุฉ:**
```json
{
  "success": true,
  "isAuthenticated": true,
  "liked": false,
  "saved": false,
  "likesCount": 0,
  "savesCount": 0
}
```

### 2. ุงูุฅุนุฌุงุจ
```
POST /api/interactions/like
Headers: Authorization: Bearer {token}
Body: { "articleId": "...", "like": true }
```

**ุงูุงุณุชุฌุงุจุฉ ุงููุชููุนุฉ:**
```json
{
  "liked": true,
  "likes": 1,
  "saves": 0
}
```

### 3. ุงูุญูุธ
```
POST /api/bookmarks
Headers: Authorization: Bearer {token}
Body: { "articleId": "...", "saved": true }
```

**ุงูุงุณุชุฌุงุจุฉ ุงููุชููุนุฉ:**
```json
{
  "saved": true,
  "likes": 0,
  "saves": 1
}
```

## ๐ง ุฃุฏูุงุช ุงูุชุดุฎูุต

### Console Messages
ุงุจุญุซ ุนู ูุฐู ุงูุฑุณุงุฆู ูู Console:
- `๐ง BasicLikeSave Debug:` - ูุนูููุงุช ุงูุชุดุฎูุต ุงูุฃุณุงุณูุฉ
- `๐ ุฌูุจ ุญุงูุฉ ุงููุณุชุฎุฏู ููููุงู:` - ุจุฏุงูุฉ ุฌูุจ ุงูุญุงูุฉ
- `๐ ูุญุงููุฉ ุฅุนุฌุงุจ:` - ุจุฏุงูุฉ ุนูููุฉ ุงูุฅุนุฌุงุจ
- `๐พ ูุญุงููุฉ ุญูุธ:` - ุจุฏุงูุฉ ุนูููุฉ ุงูุญูุธ
- `โ ุชู ... ุจูุฌุงุญ` - ูุฌุงุญ ุงูุนูููุฉ
- `โ ูุดู ...` - ูุดู ุงูุนูููุฉ

### Network Requests
ุชุญูู ูู ูุฐู ุงูุทูุจุงุช ูู Network tab:
- Status Code 200: ูุฌุญ ุงูุทูุจ
- Status Code 401: ุบูุฑ ูุตุฑุญ
- Status Code 404: ุบูุฑ ููุฌูุฏ
- Status Code 500: ุฎุทุฃ ุฎุงุฏู

## ๐ ุฎุทูุงุช ุงูุชุญูู ุงูุณุฑูุน

1. **ุชุญูู ูู ุชุณุฌูู ุงูุฏุฎูู:**
   ```javascript
   // ูู Console
   console.log('User:', localStorage.getItem('user'));
   console.log('Token:', localStorage.getItem('auth-token'));
   ```

2. **ุชุญูู ูู ูุนุฑู ุงูููุงู:**
   ```javascript
   // ูู Console
   console.log('Article ID:', window.location.pathname.split('/').pop());
   ```

3. **ุงุฎุชุจุงุฑ API ูุฏููุงู:**
   ```javascript
   // ูู Console
   fetch('/api/interactions/user-status?articleId=YOUR_ARTICLE_ID', {
     headers: { 'Authorization': 'Bearer ' + localStorage.getItem('auth-token') }
   }).then(r => r.json()).then(console.log);
   ```

## ๐ ุงูุฏุนู ุงูููู

ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ ุจุนุฏ ุชุทุจูู ูุฐู ุงูุญููู:
1. ุงุฌูุน ูุนูููุงุช ุงูุชุดุฎูุต ูู Console
2. ุงูุชูุท screenshot ูู Network tab
3. ุงุฐูุฑ ุงูุฎุทูุงุช ุงููุชุจุนุฉ ูุฅุนุงุฏุฉ ุฅูุชุงุฌ ุงููุดููุฉ
4. ุงุฐูุฑ ููุน ุงููุชุตูุญ ูุงูุฅุตุฏุงุฑ

---

**ุขุฎุฑ ุชุญุฏูุซ:** 2025-01-10
**ุงูุฅุตุฏุงุฑ:** 1.0.0

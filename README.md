<div align="center">

# 🚀 منصة سبق الذكية
## Sabq AI CMS - نظام إدارة المحتوى الذكي

[![Next.js](https://img.shields.io/badge/Next.js-15-black)](https://nextjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.9-blue)](https://www.typescriptlang.org/)
[![Prisma](https://img.shields.io/badge/Prisma-6-2D3748)](https://www.prisma.io/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind-3-38B2AC)](https://tailwindcss.com/)
[![License](https://img.shields.io/badge/license-Proprietary-red)](./LICENSE)

**نظام إدارة محتوى متطور لبناء وتشغيل غرفة أخبار ذكية باللغة العربية**

[المميزات](#-المميزات-الرئيسية) • [التثبيت](#-التثبيت-السريع) • [التوثيق](#-التوثيق) • [المساهمة](#-المساهمة)

</div>

---

## 📖 نظرة عامة

**سبق الذكية** هو نظام إدارة محتوى (CMS) حديث ومتكامل مصمم خصيصاً للمنصات الإخبارية العربية. يجمع بين قوة Next.js 15 والذكاء الاصطناعي لتقديم تجربة تحرير ونشر استثنائية.

### 🎯 لماذا سبق الذكية؟

- **🎨 تحرير غني ومتقدم**: محررات بلوكات ذكية مع دعم كامل للمحتوى المتعدد الوسائط
- **⚡ أداء استثنائي**: تحسينات متقدمة للواجهة والصور والتخزين المؤقت
- **🔄 قابلية التوسع**: بنية مرنة مع دعم Redis/Kafka/ClickHouse وDocker/K8s
- **🤖 ذكاء اصطناعي متكامل**: تحليل المحتوى، التوصيات الذكية، والتلخيص التلقائي
- **🎙️ نظام بودكاست متطور**: مشغل ذكي مع موجات صوتية متحركة وتحليلات شاملة
- **📊 تحليلات متقدمة**: رؤى عميقة حول الأداء وسلوك المستخدمين
- **🌐 متعدد اللغات**: دعم كامل للعربية مع إمكانية التوسع للغات أخرى

---

## 🛠️ التقنيات الأساسية

<div align="center">

### Frontend Stack
![Next.js](https://img.shields.io/badge/-Next.js_15-000000?style=for-the-badge&logo=next.js)
![React](https://img.shields.io/badge/-React_18-61DAFB?style=for-the-badge&logo=react&logoColor=black)
![TypeScript](https://img.shields.io/badge/-TypeScript_5.9-3178C6?style=for-the-badge&logo=typescript&logoColor=white)
![Tailwind CSS](https://img.shields.io/badge/-Tailwind_CSS-38B2AC?style=for-the-badge&logo=tailwind-css&logoColor=white)

### Backend & Database
![Prisma](https://img.shields.io/badge/-Prisma_6-2D3748?style=for-the-badge&logo=prisma&logoColor=white)
![PostgreSQL](https://img.shields.io/badge/-PostgreSQL-336791?style=for-the-badge&logo=postgresql&logoColor=white)
![Redis](https://img.shields.io/badge/-Redis-DC382D?style=for-the-badge&logo=redis&logoColor=white)

### Infrastructure & DevOps
![Docker](https://img.shields.io/badge/-Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white)
![Kubernetes](https://img.shields.io/badge/-Kubernetes-326CE5?style=for-the-badge&logo=kubernetes&logoColor=white)
![Nginx](https://img.shields.io/badge/-Nginx-009639?style=for-the-badge&logo=nginx&logoColor=white)

### AI & Analytics
![OpenAI](https://img.shields.io/badge/-OpenAI-412991?style=for-the-badge&logo=openai&logoColor=white)
![Anthropic](https://img.shields.io/badge/-Claude-8B5CF6?style=for-the-badge)
![ClickHouse](https://img.shields.io/badge/-ClickHouse-FFCC01?style=for-the-badge&logo=clickhouse&logoColor=black)

</div>

### تفاصيل تقنية

| الفئة | التقنيات |
|------|----------|
| **الواجهة** | Next.js 15 (App Router) • React 18 • TypeScript 5.9 • Tailwind CSS • Radix UI • Framer Motion |
| **قاعدة البيانات** | Prisma 6 • PostgreSQL (Supabase) • Redis للكاش |
| **الوسائط** | Cloudinary (معالجة وتخزين الصور) • تحسين تلقائي للصور |
| **الذكاء الاصطناعي** | OpenAI GPT-4 • Anthropic Claude • نماذج ML مخصصة |
| **المراقبة** | ClickHouse • Prometheus • Grafana • ELK Stack |
| **البنية التحتية** | PM2 Clustering • Nginx • Docker • Kubernetes |

---

## ✨ المميزات الرئيسية

### 📝 نظام التحرير

- **محرر بلوكات متقدم**: محرر WYSIWYG قوي مع دعم للبلوكات الذكية
- **دعم الوسائط المتعددة**: صور، فيديوهات، جداول، اقتباسات، وأكثر
- **معاينة فورية**: شاهد التغييرات في الوقت الفعلي
- **حفظ تلقائي**: لا تفقد عملك أبداً
- **نظام الإصدارات**: تتبع وإدارة إصدارات المقالات

### 🎙️ نظام البودكاست الذكي

- **مشغل متطور**: تشغيل ذكي مع موجات صوتية متحركة
- **مشغل مصغر**: يبقى ثابتاً أثناء التنقل في الموقع
- **نظام فئات ملون**: تصنيف وتصفية ذكية مع أيقونات مميزة
- **تحليلات شاملة**: إحصائيات تفصيلية عن الاستماع والتفاعل
- **تصميم متجاوب**: تجربة مثالية على جميع الأجهزة
- **دعم الوضع المظلم**: تبديل سلس بين الأوضاع

📚 **[اقرأ المزيد عن نظام البودكاست](./PODCAST_README.md)**

### 🤖 الذكاء الاصطناعي

- **تحليل المحتوى**: تصنيف تلقائي واقتراح علامات ذكية
- **توصيات مخصصة**: محرك توصيات ML لكل مستخدم
- **تلخيص تلقائي**: إنشاء ملخصات ذكية للمقالات الطويلة
- **تحليل المشاعر**: فهم عميق لردود فعل القراء
- **مساعد الكتابة**: اقتراحات ذكية أثناء التحرير
- **توليد الصور**: إنشاء صور مصاحبة بالذكاء الاصطناعي

### 📊 التحليلات والإحصاءات

- **لوحة تحكم شاملة**: رؤية كاملة لأداء المنصة
- **تحليل سلوك المستخدمين**: فهم عميق لتفاعلات القراء
- **تقارير مخصصة**: إنشاء تقارير حسب احتياجاتك
- **إشعارات ذكية**: تنبيهات فورية للأحداث المهمة
- **تتبع الأداء**: مراقبة دقيقة لسرعة الموقع

### 🎨 نظام التخطيط الموحد

- **PageContainer**: نظام تخطيط ذكي لجميع الصفحات
- **PageHeader**: رؤوس صفحات موحدة ومتسقة
- **أحجام متعددة**: دعم default، wide، narrow، full
- **تجاوب كامل**: تصميم مثالي لجميع الأجهزة

📐 **[دليل نظام التخطيط](./docs/admin-layout-guide.md)**

### 🔐 الأمان والصلاحيات

- **نظام أدوار متقدم**: تحكم دقيق في الصلاحيات (RBAC)
- **مصادقة ثنائية (2FA)**: حماية إضافية للحسابات
- **سجلات التدقيق**: تتبع كامل لجميع الإجراءات
- **تشفير البيانات**: حماية شاملة للبيانات الحساسة
- **حماية من الهجمات**: CSRF، XSS، SQL Injection

---

## 📁 هيكل المشروع

```
sabq-ai-cms/
├── 📱 app/                      # صفحات Next.js (App Router)
│   ├── admin/                  # لوحة التحكم الإدارية
│   ├── api/                    # API Routes
│   │   └── podcast/           # API البودكاست
│   ├── podcast/                # صفحات البودكاست
│   └── (public)/               # الصفحات العامة
│
├── 🧩 components/               # المكونات المعاد استخدامها
│   ├── admin/                  # مكونات لوحة التحكم
│   │   └── layout/            # نظام التخطيط الموحد
│   │       ├── PageContainer.tsx
│   │       └── PageHeader.tsx
│   ├── home/                   # مكونات الصفحة الرئيسية
│   │   ├── IntelligentPodcastBlock.tsx
│   │   └── podcast/           # مكونات البودكاست
│   └── ui/                     # مكونات UI الأساسية
│       └── AudioWave.tsx      # موجات صوتية متحركة
│
├── 🔧 lib/                      # وظائف ومساعدات عامة
├── 🪝 hooks/                    # React Hooks مخصصة
├── 🗄️ prisma/                   # مخطط قاعدة البيانات
│   ├── schema.prisma           # التعريفات الرئيسية
│   └── podcast_models.prisma   # نماذج البودكاست
│
├── 🎨 styles/                   # أنماط CSS
│   └── podcast-block.css       # أنماط البودكاست
│
├── 📜 scripts/                  # سكربتات الصيانة
│   └── podcast-setup.js        # إعداد نظام البودكاست
│
├── 🧪 __tests__/                # اختبارات الوحدة
├── 🎭 e2e/                      # اختبارات E2E
│
├── 📚 docs/                     # التوثيق الفني
│   ├── admin-layout-guide.md  # دليل نظام التخطيط
│   └── PODCAST_README.md       # دليل نظام البودكاست
│
├── 🐳 docker/                   # ملفات Docker
├── ☸️ k8s/                      # ملفات Kubernetes
├── 🔧 config/                   # ملفات التكوين
│
├── 📄 .env.local               # متغيرات البيئة المحلية
├── 📄 .env.podcast.example     # مثال لإعدادات البودكاست
├── 📄 next.config.js           # تكوين Next.js
├── 📄 tailwind.config.ts       # تكوين Tailwind
├── 📄 tsconfig.json            # تكوين TypeScript
└── 📄 package.json             # التبعيات والسكربتات
```

---

## 🚀 التثبيت السريع

### المتطلبات الأساسية

- **Node.js**: الإصدار 18 أو أحدث (موصى به 20)
- **npm** أو **yarn**: أحدث إصدار
- **PostgreSQL**: الإصدار 14 أو أحدث
- **Redis** (اختياري): للتخزين المؤقت

### خطوات التثبيت

#### 1. استنساخ المشروع

```bash
git clone https://github.com/sabq4org/sabq-ai-cms.git
cd sabq-ai-cms
```

#### 2. تثبيت التبعيات

```bash
npm install
# أو
yarn install
```

#### 3. إعداد متغيرات البيئة

```bash
# نسخ ملف البيئة
cp env.example .env.local

# تحرير الملف وإضافة القيم المطلوبة
# DATABASE_URL, JWT_SECRET, CLOUDINARY_*, إلخ
```

**متغيرات أساسية**:

```env
# قاعدة البيانات
DATABASE_URL="postgresql://user:password@localhost:5432/sabq_cms"

# الأمان
JWT_SECRET="your-super-secret-jwt-key"
NEXTAUTH_SECRET="your-nextauth-secret"

# Cloudinary (للصور)
CLOUDINARY_CLOUD_NAME="your-cloud-name"
CLOUDINARY_API_KEY="your-api-key"
CLOUDINARY_API_SECRET="your-api-secret"

# Redis (اختياري)
REDIS_URL="redis://localhost:6379"

# OpenAI (اختياري للذكاء الاصطناعي)
OPENAI_API_KEY="sk-..."
```

#### 4. إعداد قاعدة البيانات

```bash
# توليد Prisma Client
npx prisma generate

# تطبيق المخططات على قاعدة البيانات
npx prisma db push

# (اختياري) ملء البيانات الأولية
npm run seed
```

#### 5. تشغيل التطوير

```bash
npm run dev
# أو
yarn dev
```

🎉 **المنصة جاهزة!** افتح [http://localhost:3000](http://localhost:3000)

---

## 🐳 التشغيل باستخدام Docker

### التشغيل السريع

```bash
# بناء وتشغيل جميع الخدمات
docker-compose up -d

# الوصول للتطبيق
open http://localhost:3000
```

### الخدمات المتوفرة

| الخدمة | البورت | الوصف |
|--------|--------|-------|
| **App** | 3000 | تطبيق Next.js الرئيسي |
| **PostgreSQL** | 5432 | قاعدة البيانات |
| **Redis** | 6379 | التخزين المؤقت |
| **Nginx** | 80/443 | خادم الويب |
| **Grafana** | 3001 | لوحة المراقبة |
| **Prometheus** | 9090 | جمع المقاييس |

---

## 🧪 الاختبارات

### اختبارات الوحدة

```bash
# تشغيل جميع الاختبارات
npm test

# وضع المراقبة
npm run test:watch

# تقرير التغطية
npm run test:coverage
```

### اختبارات E2E

```bash
# تشغيل Playwright
npm run test:e2e

# وضع المراقبة التفاعلي
npm run test:e2e:ui
```

### Linting

```bash
# فحص الكود
npm run lint

# إصلاح تلقائي
npm run lint:fix
```

---

## 📦 البناء والنشر

### البناء للإنتاج

```bash
# بناء التطبيق
npm run build

# تشغيل الإصدار المُنتج
npm start
```

### النشر باستخدام PM2

```bash
# تثبيت PM2
npm install -g pm2

# بناء التطبيق
npm run build

# تشغيل مع PM2
pm2 start ecosystem.config.js

# مراقبة الحالة
pm2 status
pm2 logs
```

### النشر على Kubernetes

```bash
# تطبيق التكوينات
kubectl apply -f k8s/

# التحقق من الحالة
kubectl get pods
kubectl get services
```

---

## 📚 التوثيق

### دلائل مفصلة

- **[دليل نظام التخطيط](./docs/admin-layout-guide.md)** - كيفية استخدام PageContainer و PageHeader
- **[دليل نظام البودكاست](./PODCAST_README.md)** - دليل شامل لنظام البودكاست
- **[دليل الأداء](./docs/QUICK_START_PERFORMANCE.md)** - تحسينات الأداء والسرعة
- **[دليل الأمان](./docs/2FA_BACKUP_RECOVERY.md)** - المصادقة الثنائية والأمان
- **[دليل API](./docs/API_DOCUMENTATION.md)** - توثيق شامل لـ API

### وثائق إضافية في `/docs`

```
docs/
├── admin-layout-guide.md           # نظام التخطيط
├── PODCAST_README.md                # نظام البودكاست
├── QUICK_START_PERFORMANCE.md      # تحسينات الأداء
├── SYNC_SOLUTION_DOCUMENTATION.md  # حل المزامنة
├── COOKIE_MIGRATION_PLAN.md        # خطة ترحيل الكوكيز
└── ENHANCED_DEVICE_DETECTION_GUIDE.md  # كشف الأجهزة
```

---

## 🎯 السكربتات المتاحة

```bash
# التطوير
npm run dev              # تشغيل التطوير
npm run build            # بناء للإنتاج
npm start                # تشغيل الإنتاج

# قاعدة البيانات
npm run prisma:generate  # توليد Prisma Client
npm run prisma:push      # مزامنة المخطط
npm run prisma:studio    # فتح Prisma Studio
npm run prisma:migrate   # إنشاء migration

# الاختبارات
npm test                 # اختبارات Jest
npm run test:e2e         # اختبارات Playwright
npm run lint             # فحص الكود

# البودكاست
npm run podcast:start    # تشغيل نظام البودكاست
npm run podcast:setup    # إعداد البودكاست
npm run podcast:seed     # ملء بيانات تجريبية

# النسخ الاحتياطي
npm run backup           # نسخ احتياطي للبيانات
npm run restore          # استعادة من نسخة احتياطية
```

---

## 🤝 المساهمة

نرحب بمساهماتكم! يرجى اتباع الخطوات التالية:

1. **Fork** المشروع
2. إنشاء **branch** للميزة الجديدة (`git checkout -b feature/AmazingFeature`)
3. **Commit** التغييرات (`git commit -m 'إضافة ميزة رائعة'`)
4. **Push** إلى Branch (`git push origin feature/AmazingFeature`)
5. فتح **Pull Request**

### معايير المساهمة

- اتبع دليل الأسلوب البرمجي
- اكتب اختبارات للميزات الجديدة
- حدّث التوثيق عند الضرورة
- تأكد من نجاح جميع الاختبارات

📖 **[اقرأ دليل المساهمة الكامل](./CONTRIBUTING.md)**

---

## 🐛 الإبلاغ عن المشاكل

إذا وجدت مشكلة:

1. تحقق من [المشاكل المفتوحة](https://github.com/sabq4org/sabq-ai-cms/issues) أولاً
2. أنشئ issue جديد مع:
   - وصف واضح للمشكلة
   - خطوات إعادة الإنتاج
   - السلوك المتوقع والفعلي
   - لقطات شاشة (إن أمكن)
   - معلومات البيئة

---

## 📄 الترخيص

هذا المشروع محمي بحقوق ملكية خاصة. جميع الحقوق محفوظة © 2024-2025 سبق.

للحصول على ترخيص تجاري، يرجى التواصل معنا على: licensing@sabq.org

---

## 👥 الفريق

### المطورون الأساسيون

- **فريق سبق التقني** - *التطوير والصيانة*

### شكر خاص

شكر خاص لجميع المساهمين والمختبرين الذين ساعدوا في تحسين هذا المشروع.

---

## 📞 التواصل والدعم

<div align="center">

### تواصل معنا

[![Website](https://img.shields.io/badge/الموقع-sabq.org-blue?style=for-the-badge)](https://sabq.org)
[![Email](https://img.shields.io/badge/البريد-tech@sabq.org-red?style=for-the-badge)](mailto:tech@sabq.org)
[![Twitter](https://img.shields.io/badge/Twitter-@sabq-1DA1F2?style=for-the-badge&logo=twitter)](https://twitter.com/sabq)

### الدعم الفني

- **📧 البريد الإلكتروني**: tech@sabq.org
- **💬 التليجرام**: [@sabq_tech](https://t.me/sabq_tech)
- **📱 الواتساب**: +966-50-XXX-XXXX

</div>

---

## 🗺️ خارطة الطريق

### الإصدار الحالي (v1.0)

- ✅ نظام إدارة المحتوى الأساسي
- ✅ محرر البلوكات المتقدم
- ✅ نظام البودكاست الذكي
- ✅ نظام التخطيط الموحد
- ✅ التكامل مع الذكاء الاصطناعي
- ✅ التحليلات الأساسية

### قريباً (v1.1)

- 🔄 تطبيق الجوال (React Native)
- 🔄 محرك بحث متقدم
- 🔄 نظام التعليقات الذكي
- 🔄 دعم البث المباشر للبودكاست

### المستقبل (v2.0)

- 📅 نظام الإشعارات Push
- 📅 تكامل مع منصات التواصل
- 📅 محرر فيديو مدمج
- 📅 نظام CRM متكامل

---

## 🌟 النجوم والدعم

إذا أعجبك المشروع، لا تنسَ إعطاءه ⭐ على GitHub!

<div align="center">

### صُنع بـ ❤️ في المملكة العربية السعودية

**سبق الذكية** - *مستقبل الإعلام الرقمي العربي*

---

[![GitHub stars](https://img.shields.io/github/stars/sabq4org/sabq-ai-cms?style=social)](https://github.com/sabq4org/sabq-ai-cms)
[![GitHub forks](https://img.shields.io/github/forks/sabq4org/sabq-ai-cms?style=social)](https://github.com/sabq4org/sabq-ai-cms/fork)

</div>

<div align="center">

# 🚀 منصة سبق الذكية (Sabq AI CMS)

<p align="center">
  <img src="https://img.shields.io/badge/Next.js-15-black?style=for-the-badge&logo=next.js" alt="Next.js 15">
  <img src="https://img.shields.io/badge/React-18-blue?style=for-the-badge&logo=react" alt="React 18">
  <img src="https://img.shields.io/badge/TypeScript-5.9-blue?style=for-the-badge&logo=typescript" alt="TypeScript">
  <img src="https://img.shields.io/badge/Prisma-6-2D3748?style=for-the-badge&logo=prisma" alt="Prisma">
  <img src="https://img.shields.io/badge/PostgreSQL-16-336791?style=for-the-badge&logo=postgresql" alt="PostgreSQL">
</p>

<p align="center">
  <strong>نظام إدارة محتوى حديث ومتطور لبناء وتشغيل غرفة أخبار ذكية باللغة العربية</strong>
</p>

<p align="center">
  <a href="#-المميزات">المميزات</a> •
  <a href="#-التقنيات">التقنيات</a> •
  <a href="#-البدء-السريع">البدء السريع</a> •
  <a href="#-الوثائق">الوثائق</a> •
  <a href="#-المساهمة">المساهمة</a>
</p>

</div>

---

## 📖 نظرة عامة

**منصة سبق الذكية** هي نظام إدارة محتوى (CMS) متكامل مصمم خصيصاً لغرف الأخبار العربية الحديثة. تجمع المنصة بين قوة الذكاء الاصطناعي والأداء العالي وتجربة المستخدم المتميزة لتوفير حل شامل لإنشاء وإدارة ونشر المحتوى الإخباري.

### 🎯 لماذا سبق الذكية؟

- **🎨 تحرير غني ومتقدم**: محررات نصوص قوية مع دعم البلوكات الذكية والوسائط المتعددة
- **⚡ أداء استثنائي**: تحسينات شاملة للواجهة والصور والتخزين المؤقت لتجربة سريعة
- **📈 قابلية توسع عالية**: معمارية حديثة مع دعم Redis/Kafka/ClickHouse وDocker/Kubernetes
- **🤖 ذكاء اصطناعي متقدم**: تحليل المحتوى، توصيات مخصصة، تلخيص تلقائي، وتحليل المشاعر
- **🎙️ نظام بودكاست ذكي**: مشغل متطور مع موجات صوتية متحركة وتحليلات مفصلة
- **📱 تصميم متجاوب**: تجربة مثالية على جميع الأجهزة من الهواتف إلى الشاشات الكبيرة
- **🔒 أمان متقدم**: مصادقة ثنائية، إدارة أدوار وصلاحيات، وحماية ضد الهجمات
- **📊 تحليلات شاملة**: لوحات تحكم تفاعلية مع رؤى عميقة عن الأداء والمستخدمين

---

## ✨ المميزات الرئيسية

### 📝 إدارة المحتوى
- **محرر بلوكات متقدم** مع دعم كامل للوسائط المتعددة
- **نظام قوالب ذكي** لإنشاء محتوى متسق وسريع
- **إدارة صور احترافية** مع Cloudinary وتحسين تلقائي
- **جدولة النشر** والمسودات التلقائية
- **نظام تصنيفات وعلامات** متطور مع تحليلات

### 🎙️ نظام البودكاست
- **مشغل صوت ذكي** مع موجات صوتية متحركة
- **مشغر مصغر ثابت** أثناء التنقل في الموقع
- **نظام فئات ملون** مع تصفية وبحث متقدم
- **تحليلات استماع** مفصلة لكل حلقة
- **دعم قوائم التشغيل** والتوصيات الذكية

### 🤖 الذكاء الاصطناعي
- **تحليل المحتوى** التلقائي واستخراج الكلمات المفتاحية
- **توصيات مخصصة** بناءً على سلوك المستخدم
- **تلخيص تلقائي** للمقالات الطويلة
- **تحليل المشاعر** باللغة العربية
- **تصحيح لغوي** وتحسين الجودة

### 📊 التحليلات والإحصائيات
- **لوحة تحكم شاملة** مع مؤشرات أداء حية
- **تحليلات مستخدمين** متقدمة مع تقسيمات ذكية
- **تتبع التفاعل** والمشاركات في الوقت الفعلي
- **تقارير مخصصة** قابلة للتصدير
- **تكامل مع ClickHouse** للبيانات الضخمة

### 👥 إدارة المستخدمين
- **نظام أدوار وصلاحيات** مرن وقابل للتخصيص
- **مصادقة ثنائية (2FA)** للأمان الإضافي
- **ملفات شخصية غنية** للمحررين والصحفيين
- **نظام نقاط وإنجازات** لتحفيز المستخدمين
- **إدارة جلسات** متقدمة

---

## 🛠️ التقنيات المستخدمة

### Frontend
```
Next.js 15        ⚡ App Router مع React Server Components
React 18          🎯 أحدث مميزات React مع Concurrent Mode
TypeScript 5.9    💪 Type-safe وأداء محسّن
Tailwind CSS      🎨 Utility-first CSS framework
Radix UI          🧩 مكونات UI accessible وmodern
Framer Motion     ✨ حركات وانتقالات سلسة
```

### Backend & Database
```
Prisma 6          🗄️ ORM حديث وقوي
PostgreSQL 16     🐘 قاعدة بيانات قوية وموثوقة
Supabase          ☁️ Backend-as-a-Service للإنتاج
Redis             ⚡ تخزين مؤقت وجلسات
Kafka             📨 معالجة الأحداث الموزعة
```

### AI & ML
```
OpenAI API        🤖 GPT-4 للذكاء الاصطناعي
Anthropic Claude  🧠 نماذج لغوية متقدمة
TensorFlow        📊 نماذج ML مخصصة
Python Services   🐍 محركات توصية وتحليل
```

### Infrastructure & DevOps
```
Docker            🐳 containerization
Kubernetes        ☸️ orchestration
Nginx             🌐 reverse proxy وload balancing
PM2               ⚙️ process management
ClickHouse        📈 analytics database
ElasticSearch     🔍 بحث نصي متقدم
Prometheus        📊 monitoring
Grafana           📈 visualizations
```

### Media & Storage
```
Cloudinary        🖼️ إدارة ومعالجة الصور
AWS S3            💾 تخزين ملفات
CDN               🚀 توزيع محتوى عالمي
```

---

## 🚀 البدء السريع

### المتطلبات الأساسية

- **Node.js** ≥ 18 (يُنصح بـ 20+)
- **npm** ≥ 9 أو **yarn** ≥ 1.22
- **PostgreSQL** ≥ 14
- **Redis** (اختياري للتخزين المؤقت)

### التثبيت

1️⃣ **استنساخ المشروع**
```bash
git clone https://github.com/sabq4org/sabq-ai-cms.git
cd sabq-ai-cms
```

2️⃣ **تثبيت التبعيات**
```bash
npm install
# أو
yarn install
```

3️⃣ **إعداد متغيرات البيئة**
```bash
# نسخ ملف الإعدادات
cp env.example .env.local

# تحديث القيم المطلوبة
# DATABASE_URL, JWT_SECRET, CLOUDINARY_*, etc.
```

4️⃣ **إعداد قاعدة البيانات**
```bash
# توليد Prisma Client
npx prisma generate

# تطبيق المخطط
npx prisma db push

# (اختياري) تعبئة بيانات تجريبية
npx prisma db seed
```

5️⃣ **تشغيل خادم التطوير**
```bash
npm run dev
# أو
./start.sh
```

6️⃣ **فتح المتصفح**
```
http://localhost:3000
```

### 🎬 تشغيل سريع بـ Docker

```bash
# بناء وتشغيل جميع الخدمات
docker compose up -d

# الوصول للتطبيق
http://localhost:3000
```

---

## 📁 هيكل المشروع

```
sabq-ai-cms/
├── 📱 app/                          # Next.js App Router
│   ├── (auth)/                      # مسارات المصادقة
│   ├── (main)/                      # صفحات الموقع الرئيسية
│   ├── admin/                       # لوحة التحكم
│   ├── api/                         # API Routes
│   │   ├── podcast/                 # API البودكاست
│   │   ├── admin/                   # API الإدارة
│   │   └── ...
│   └── podcast/                     # صفحات البودكاست
│
├── 🧩 components/                   # مكونات React
│   ├── home/                        # مكونات الصفحة الرئيسية
│   │   └── IntelligentPodcastBlock.tsx
│   ├── ui/                          # مكونات UI أساسية
│   ├── admin/                       # مكونات لوحة التحكم
│   └── editor/                      # محرر المحتوى
│
├── 🔧 lib/                          # مكتبات وأدوات مساعدة
│   ├── prisma.ts                    # Prisma client
│   ├── auth.ts                      # مصادقة
│   └── utils.ts                     # وظائف عامة
│
├── 🪝 hooks/                        # React Hooks مخصصة
├── 🌍 contexts/                     # React Contexts
├── 💾 stores/                       # Zustand stores
├── 🎨 styles/                       # ملفات CSS
│   └── podcast-block.css
│
├── 🗄️ prisma/                       # Prisma schema
│   ├── schema.prisma
│   └── podcast_models.prisma
│
├── 📜 scripts/                      # سكريبتات صيانة
├── 🧪 __tests__/                    # اختبارات Jest
├── 🎭 e2e/                          # اختبارات Playwright
├── 📚 docs/                         # وثائق المشروع
│
├── 🐳 config/                       # تهيئات خارجية
│   ├── nginx/
│   ├── redis/
│   └── prometheus/
│
├── 🤖 ml_recommendation_engine/     # محرك التوصيات
├── 😊 arabic_sentiment_system/      # تحليل المشاعر
└── 💾 backup-system/                # نظام النسخ الاحتياطي
```

---

## 🎨 نظام البودكاست الذكي

### المميزات
- ✅ مشغل صوت متطور مع تحكم كامل
- ✅ موجات صوتية متحركة أثناء التشغيل
- ✅ مشغر مصغر ثابت
- ✅ نظام فئات ملون
- ✅ بحث وتصفية متقدم
- ✅ تحليلات استماع مفصلة
- ✅ دعم الوضع المظلم/الفاتح

### الاستخدام

```tsx
import { IntelligentPodcastBlock } from '@/components/home/IntelligentPodcastBlock';

export default function HomePage() {
  return (
    <div>
      <IntelligentPodcastBlock />
    </div>
  );
}
```

### API Endpoints

```typescript
// جلب الحلقات
GET /api/podcast/episodes?limit=10&category=tech

// تسجيل استماع
POST /api/podcast/episodes
{
  "episodeId": "123",
  "action": "play",
  "playPosition": 120
}

// جلب الفئات
GET /api/podcast/categories
```

📚 [وثائق البودكاست الكاملة](./PODCAST_README.md)

---

## 🔧 الأوامر المتاحة

### التطوير
```bash
npm run dev              # تشغيل خادم التطوير
npm run build            # بناء للإنتاج
npm start                # تشغيل الإنتاج
npm run lint             # فحص الكود
npm run lint:fix         # إصلاح مشاكل الكود
```

### قاعدة البيانات
```bash
npm run prisma:generate  # توليد Prisma Client
npm run prisma:push      # مزامنة المخطط
npm run prisma:migrate   # تطبيق الهجرات
npm run prisma:studio    # فتح Prisma Studio
npm run prisma:seed      # تعبئة بيانات تجريبية
```

### الاختبارات
```bash
npm test                 # تشغيل اختبارات Jest
npm run test:watch       # اختبارات مع المراقبة
npm run test:coverage    # تقرير التغطية
npm run test:e2e         # اختبارات Playwright
```

### البودكاست
```bash
npm run podcast:start    # تشغيل نظام البودكاست
npm run podcast:setup    # إعداد البودكاست
npm run podcast:seed     # تعبئة بيانات بودكاست
```

### الصيانة
```bash
npm run backup           # نسخ احتياطي للبيانات
npm run restore          # استعادة من نسخة
npm run cleanup          # تنظيف الملفات المؤقتة
```

---

## 🔐 متغيرات البيئة

### الأساسية
```env
NODE_ENV=development
PORT=3000
DATABASE_URL=postgresql://user:password@localhost:5432/sabq
JWT_SECRET=your-secret-key-here
NEXTAUTH_SECRET=your-nextauth-secret
NEXTAUTH_URL=http://localhost:3000
```

### Cloudinary
```env
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret
```

### Redis (اختياري)
```env
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your-redis-password
```

### الذكاء الاصطناعي (اختياري)
```env
OPENAI_API_KEY=sk-...
ANTHROPIC_API_KEY=sk-ant-...
```

### البودكاست
```env
PODCAST_STORAGE_BUCKET=sabq-podcast
PODCAST_CDN_URL=https://cdn.sabq.ai/podcast
```

📄 [قائمة كاملة بالمتغيرات](./env.example)

---

## 📊 الأداء

### معايير الأداء
- ⚡ **First Contentful Paint**: < 1.2s
- 🎯 **Time to Interactive**: < 2.5s
- 📈 **Lighthouse Score**: 95+
- 🚀 **Core Web Vitals**: كلها خضراء

### التحسينات المطبقة
- ✅ Image optimization مع Next/Image
- ✅ Code splitting تلقائي
- ✅ Static Generation للصفحات
- ✅ API caching مع Redis
- ✅ Database indexing محسّن
- ✅ CDN للأصول الثابتة

---

## 🧪 الاختبارات

### التغطية الحالية
- **Unit Tests**: 85%
- **Integration Tests**: 75%
- **E2E Tests**: 60%

### تشغيل الاختبارات
```bash
# جميع الاختبارات
npm test

# اختبار محدد
npm test -- components/podcast

# مع التغطية
npm run test:coverage

# E2E
npm run test:e2e
```

---

## 📚 الوثائق

### وثائق المطورين
- 📖 [دليل البدء السريع](./docs/QUICK_START.md)
- 🏗️ [البنية المعمارية](./docs/ARCHITECTURE.md)
- 🎨 [دليل المكونات](./docs/COMPONENTS.md)
- 🔌 [توثيق API](./docs/API.md)
- 🎙️ [نظام البودكاست](./PODCAST_README.md)

### وثائق التشغيل
- ⚙️ [الإعداد والنشر](./docs/DEPLOYMENT.md)
- 🐳 [Docker & Kubernetes](./docs/DOCKER.md)
- 📊 [المراقبة والتحليل](./docs/MONITORING.md)
- 🔒 [الأمان وأفضل الممارسات](./docs/SECURITY.md)

### وثائق المستخدم
- 👤 [دليل المستخدم](./docs/USER_GUIDE.md)
- ✍️ [دليل المحرر](./docs/EDITOR_GUIDE.md)
- 📊 [دليل لوحة التحكم](./docs/ADMIN_GUIDE.md)

---

## 🤝 المساهمة

نرحب بمساهماتكم! يرجى قراءة [دليل المساهمة](./CONTRIBUTING.md) قبل البدء.

### خطوات المساهمة

1. **Fork المشروع**
2. **إنشاء فرع للميزة**
   ```bash
   git checkout -b feature/amazing-feature
   ```
3. **Commit التغييرات**
   ```bash
   git commit -m '✨ Add amazing feature'
   ```
4. **Push للفرع**
   ```bash
   git push origin feature/amazing-feature
   ```
5. **فتح Pull Request**

### معايير الكود
- ✅ اتباع ESLint configuration
- ✅ كتابة اختبارات للميزات الجديدة
- ✅ توثيق التغييرات في CHANGELOG
- ✅ استخدام Conventional Commits

---

## 🐛 الإبلاغ عن المشاكل

وجدت مشكلة؟ [افتح issue](https://github.com/sabq4org/sabq-ai-cms/issues/new) مع التفاصيل التالية:
- وصف المشكلة
- خطوات إعادة الإنتاج
- السلوك المتوقع
- لقطات شاشة (إن وجدت)
- بيئة التشغيل

---

## 📝 الترخيص

هذا المشروع مرخص تحت [MIT License](./LICENSE) - راجع الملف للتفاصيل.

---

## 👥 الفريق

<table>
  <tr>
    <td align="center">
      <a href="https://github.com/sabq4org">
        <img src="https://github.com/sabq4org.png" width="100px;" alt="Sabq Team"/>
        <br />
        <sub><b>فريق سبق</b></sub>
      </a>
    </td>
  </tr>
</table>

---

## 🙏 شكر خاص

نشكر جميع المساهمين والمكتبات مفتوحة المصدر التي جعلت هذا المشروع ممكناً:

- [Next.js](https://nextjs.org/)
- [React](https://react.dev/)
- [Prisma](https://www.prisma.io/)
- [Tailwind CSS](https://tailwindcss.com/)
- [Radix UI](https://www.radix-ui.com/)
- [Framer Motion](https://www.framer.com/motion/)
- وجميع المكتبات الرائعة الأخرى

---

## 📞 التواصل

- 🌐 **الموقع**: [sabq.org](https://sabq.org)
- 📧 **البريد الإلكتروني**: tech@sabq.org
- 💬 **Twitter**: [@sabq](https://twitter.com/sabq)
- 📱 **LinkedIn**: [Sabq Organization](https://linkedin.com/company/sabq)

---

## 🌟 Stars History

[![Star History Chart](https://api.star-history.com/svg?repos=sabq4org/sabq-ai-cms&type=Date)](https://star-history.com/#sabq4org/sabq-ai-cms&Date)

---

<div align="center">

**صُنع بـ ❤️ من فريق سبق الذكية**

إذا أعجبك المشروع، لا تنسَ إعطائه ⭐️

[الإبلاغ عن مشكلة](https://github.com/sabq4org/sabq-ai-cms/issues) · [طلب ميزة](https://github.com/sabq4org/sabq-ai-cms/issues) · [المساهمة](./CONTRIBUTING.md)

</div>
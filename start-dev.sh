#!/bin/bash

echo "๐ ุจุฏุก ุชุดุบูู ูุดุฑูุน ุณุจู AI CMS..."

# ุงูุชุญูู ูู ูุฌูุฏ Node.js v20
NODE_VERSION=$(node -v)
echo "๐ฆ ุฅุตุฏุงุฑ Node.js: $NODE_VERSION"

# ุงูุชุญูู ูู ูุฌูุฏ .env.local
if [ ! -f .env.local ]; then
    echo "โ ูู ูุชู ุงูุนุซูุฑ ุนูู .env.local"
    echo "๐ ูู ุจุฅูุดุงุก ุงูููู ุฃููุงู ุจุงุณุชุฎุฏุงู: ./create-env.sh"
    exit 1
fi

# ุชูุธูู ุงููุงุด
echo "๐งน ุชูุธูู ุงููุงุด..."
rm -rf .next

# ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฅุฐุง ูุฒู ุงูุฃูุฑ
echo "๐๏ธ ุชุญุถูุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช..."
npx prisma generate --no-hints 2>/dev/null || true

# ุจุฏุก ุงูุชุทุจูู
echo "โจ ุจุฏุก ุฎุงุฏู ุงูุชุทููุฑ..."
echo "๐ ุงูุชุทุจูู ุณูุนูู ุนูู: http://localhost:3000"
echo "โณ ุงูุชุธุฑ ููููุงู ุญุชู ูุชู ุงูุชุญููู..."
echo ""

# ุชุดุบูู ุงูุฎุงุฏู
npm run dev 
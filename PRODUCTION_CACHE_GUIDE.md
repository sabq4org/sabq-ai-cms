# ๐ ุฏููู ูุณุญ ุงููุงุด ูู ุงูุฅูุชุงุฌ

## ๐ฏ ุงููุดููุฉ
ุงูุฃุฎุจุงุฑ ุงูุฌุฏูุฏุฉ ูุง ุชุธูุฑ ูู ุงููููุน ุงููุงูู ุจุณุฑุนุฉ ุจุณุจุจ ุทุจูุงุช ุงููุงุด ุงููุชุนุฏุฏุฉ.

## โก ุงูุญููู ุงูููุฑูุฉ

### 1๏ธโฃ **ูุณุญ ุงููุงุด ููุฑุงู** (ุฃุณุฑุน ุทุฑููุฉ)
```bash
# ูู terminal ุงููุดุฑูุน
npm run clear:production
```

### 2๏ธโฃ **ูุณุญ ูุงุด ูุญูู ููุท**
```bash
npm run clear:cache
```

### 3๏ธโฃ **ูุณุญ ุนุจุฑ API ูุจุงุดุฑุฉ**
```bash
curl -X POST https://sabq.io/api/cache/production-clear \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer sabq-cache-clear-2025" \
  -d '{"type": "all", "url": "/"}'
```

### 4๏ธโฃ **ุฅุฌุจุงุฑ ุงููุชุตูุญ ุนูู ุงูุชุญุฏูุซ**
- ุงุถุบุท `Ctrl + F5` (Windows) ุฃู `Cmd + Shift + R` (Mac)
- ุฃู ุฃุถู `?v=123456` ูู ููุงูุฉ ุงูุฑุงุจุท

## ๐ ุงูุฅุนุฏุงุฏุงุช ุงูุฌุฏูุฏุฉ

### ูุจู ุงูุชุญุฏูุซ:
- **API ุงูููุงูุงุช**: 30 ุฏูููุฉ
- **ุตูุญุงุช ุงูููุงูุงุช**: ุณุงุนุฉ ูุงููุฉ
- **ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ**: ุบูุฑ ูุญุฏุฏ

### ุจุนุฏ ุงูุชุญุฏูุซ:
- **API ุงูููุงูุงุช**: ุฏูููุฉ ูุงุญุฏุฉ (60 ุซุงููุฉ)
- **ุตูุญุฉ ููุงู ูุงุญุฏ**: 5 ุฏูุงุฆู (300 ุซุงููุฉ)
- **ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ**: ุฏูููุชุงู (120 ุซุงููุฉ)

## ๐ง ุทุจูุงุช ุงููุงุด ูู ุงูุฅูุชุงุฌ

### 1. **Redis Cache**
- **ุงููุฏุฉ**: 60 ุซุงููุฉ
- **ุงููุณุญ**: ุชููุงุฆู ุนูุฏ ุงููุดุฑ + ูุฏูู ุนุจุฑ API

### 2. **Vercel Edge Cache**
- **ุงููุฏุฉ**: 60 ุซุงููุฉ ููู API
- **ุงููุณุญ**: ุนุจุฑ revalidatePath ูู API

### 3. **Browser Cache**
- **ุงููุฏุฉ**: ุญุณุจ headers
- **ุงููุณุญ**: Ctrl+F5 ุฃู ?v=timestamp

### 4. **CDN Cache (ุฅู ููุฌุฏ)**
- **Cloudflare**: ูุชุจุน Vercel headers
- **ุงููุณุญ**: ุชููุงุฆู ุจุนุฏ ุงูุชูุงุก ุงููุฏุฉ

## ๐งช ููููุฉ ุงูุงุฎุชุจุงุฑ

### 1. ุงุฎุชุจุงุฑ ููุฑู:
```bash
# ุงูุดุฑ ุฎุจุฑ ุฌุฏูุฏุ ุซู ูุจุงุดุฑุฉ:
npm run clear:production

# ุงูุชุธุฑ 10 ุซูุงู ุซู ุชุญูู ูู ุงููููุน
```

### 2. ุงุฎุชุจุงุฑ ุขูู:
- ุงูุชุญ ุงููููุน ูู ูุงูุฐุฉ ุชุตูุญ ุฎุงุตุฉ
- ุงุถุบุท F12 โ Network โ ุชูุนูู "Disable cache"
- ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ

### 3. ุงุฎุชุจุงุฑ ุฏููู:
```bash
# ุชุญูู ูู headers
curl -I https://sabq.io/api/articles

# ุชุญูู ูู ููุช ุงุณุชุฌุงุจุฉ Redis
curl https://sabq.io/api/health
```

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### ูุง ุชูุณุชุฎุฏู ุฅูุง ุนูุฏ ุงูุญุงุฌุฉ:
- ูุณุญ ุงููุงุด ููุจุทุก ุงููููุน ูุคูุชุงู
- ุงุณุชุฎุฏูู ููุท ููุฃุฎุจุงุฑ ุงููููุฉ

### ุงูุฃุฎุจุงุฑ ุงูุนุงุฌูุฉ:
- ุฃุถู `"breaking": true` ูู metadata ุงูููุงู
- ุณูุธูุฑ ุฎูุงู 30 ุซุงููุฉ ุชููุงุฆูุงู

### ุฅุฐุง ูู ุชูุฌุญ ุงูุทุฑู:
1. ุชุฃูุฏ ุฃู `CACHE_CLEAR_SECRET` ุตุญูุญ
2. ุชุญูู ูู ุฑุงุจุท ุงูุฅูุชุงุฌ ูู ุงูุณูุฑูุจุช
3. ุงุณุชุฎุฏู Developer Tools ููุญุต Network

## ๐๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฎุทุฃ "Unauthorized":
```bash
# ุงุถุจุท token ุตุญูุญ
export CACHE_CLEAR_SECRET="your-secret-token"
npm run clear:production
```

### ุฎุทุฃ "Connection failed":
```bash
# ุฌุฑุจ URLs ูุฎุชููุฉ
node scripts/clear-production-cache.js --help
```

### ูุง ูุฒุงู ุงููุงุด ููุฌูุฏ:
```bash
# ูุณุญ ุดุงูู ููู ุงูุทุจูุงุช
curl -X POST https://sabq.io/api/cache/production-clear \
  -H "Authorization: Bearer sabq-cache-clear-2025" \
  -H "Content-Type: application/json" \
  -d '{"type": "all"}'
```

## ๐ ุงููุชุงุฆุฌ ุงููุชููุนุฉ

### ููุฑูุงู:
- โ ูุณุญ Redis cache
- โ ูุณุญ Vercel edge cache  
- โ headers ููุน browser cache

### ุฎูุงู ุฏูููุฉ:
- โ ุธููุฑ ุงูุฎุจุฑ ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
- โ ุธููุฑ ูู ูุงุฆูุฉ ุงูููุงูุงุช
- โ ุธููุฑ ูู API responses

### ุฎูุงู 5 ุฏูุงุฆู:
- โ ุธููุฑ ูู ุตูุญุฉ ุงูููุงู ุงูููุฑุฏุฉ
- โ ุชุญุฏูุซ ูู ุทุจูุงุช ุงููุงุด
- โ ุณุฑุนุฉ ุทุจูุนูุฉ ูููููุน

---

**๐ก ูุตูุญุฉ**: ุงุญูุธ ูุฐุง ุงูุฏููู ูู ุงููุฑุฌุนูุงุช ููุงุณุชุฎุฏุงู ุงูุณุฑูุน! ๐ 